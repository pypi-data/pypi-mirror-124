(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72cbb5c6"],{1148:function(e,t,i){"use strict";var a=i("a691"),r=i("1d80");e.exports="".repeat||function(e){var t=String(r(this)),i="",s=a(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(i+=t);return i}},"408a":function(e,t,i){var a=i("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=a(e))throw TypeError("Incorrect invocation");return+e}},"4d06":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAptJREFUOBGllEFoE0EUhudtbRUvRuhFcognz4V6sSCSg7Ee2kNpoyhYAt1GULEr3YhWsL0oZrWJoOBmK7GCoov2oAWpRSJ4UZDi2ZM9BC8FgweRtmZ8f9wZpprSgAObee+f/32Z2Zkdyhf9IZLithDidWes43Qmk/nJccutXC7vWKmt3uOClCRx3hKSbCnFHn6GV2prc2EYdrRKgxc1qAUDLItnN0PEv9yklEeXq9+e+b7fvhUUHnhRAy8YYFnuhdFQCjqnAPxPfd9/iCeVSmWb0v7uMQYPvGoMDLBICV4hGJOyXlA5/2OYiMdOpNPpX0pDz8tsW67WHvPM0konshzXsYvILSU2BBIXVY6CL9XaLPfagzjSNExwjYJtACLJOdk8kbiioPxST94qBvcZRHgQQ1Pj8KJG5ej1kk3RK/iT/H6uao3ETCOWYkRpDJtyneykylXfFIhBr1C6xrO6pIxmz+/3uuuMXjY1FW8KhIGhHkPHlRk9w24yzDU1M9Yv3BT/J27brDhast51w9eT6u3fvrjw8o2h6bApMD9dmuLvRu82CQr4WeKq7qjy4OEj/RZD32pSFPwD5B2e4DEG/mkW0YNxx7Z7DnTPv/+wlOBvtCsaOpTq7VtfXJh/p7zoN2xKvuDnhBQ3tIHokTtmn+KNqEPjDbK8YvDQPIs42OZZ1JuCT8+E4dPbG48NKxiAiCMtRN5oPIFGbZQ2ZpgvBGeErN+JNC4Uc/u79h1LJpPrSjN7XA4fP31+yod/QOtknc059l3ypktpnjbfHHw9ohG92LVTDmaz2TVtbhLg+uIb57m6cXj2kld43GLMiIKx+IqXNLQVDHx4EvHdg6hBDgZYliAZ8BK/8jPbGWsf4OtqFYZWGryoQS0YYP0GSgsoUPv9lyUAAAAASUVORK5CYII="},"4de4":function(e,t,i){"use strict";var a=i("23e7"),r=i("b727").filter,s=i("1dde"),n=i("ae40"),o=s("filter"),l=n("filter");a({target:"Array",proto:!0,forced:!o||!l},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(e,t,i){"use strict";var a=i("23e7"),r=i("1c0b"),s=i("7b0b"),n=i("d039"),o=i("a640"),l=[],c=l.sort,h=n((function(){l.sort(void 0)})),u=n((function(){l.sort(null)})),m=o("sort"),d=h||!u||!m;a({target:"Array",proto:!0,forced:d},{sort:function(e){return void 0===e?c.call(s(this)):c.call(s(this),r(e))}})},7333:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cl-histogram-manage"},[a("div",{staticClass:"histogram-bk"},[a("div",{staticClass:"cl-title cl-histogram-title"},[a("div",{staticClass:"cl-title-left"},[e._v(e._s(e.$t("histogram.titleText"))+" "),a("div",{staticClass:"path-message"},[a("span",[e._v(e._s(e.$t("symbols.leftbracket")))]),a("span",[e._v(e._s(e.$t("trainingDashboard.summaryDirPath")))]),a("span",[e._v(e._s(e.summaryPath))]),a("span",[e._v(e._s(e.$t("symbols.rightbracket")))])])]),a("div",{staticClass:"cl-title-right"},[a("div",{staticClass:"cl-close-btn",on:{click:e.jumpToTrainDashboard}},[a("img",{attrs:{src:i("4d06")}})])])]),a("div",{staticClass:"cl-histogram-operate-content"},[a("multiselectGroupComponents",{ref:"multiselectGroupComponents",attrs:{checkListArr:e.tagList},on:{selectedChange:e.tagSelectedChanged}})],1),a("div",{staticClass:"cl-histogram-view-type-select-content"},[a("div",{staticClass:"view-title"},[e._v(e._s(e.$t("histogram.viewType")))]),a("el-radio-group",{attrs:{fill:"#00A5A7","text-color":"#FFFFFF",size:"small"},on:{change:e.viewTypeChange},model:{value:e.curViewName,callback:function(t){e.curViewName=t},expression:"curViewName"}},[a("el-radio-button",{attrs:{label:0}},[e._v(e._s(e.$t("histogram.overlay")))]),a("el-radio-button",{attrs:{label:1}},[e._v(e._s(e.$t("histogram.offset")))])],1),e.curViewName?a("div",{staticClass:"view-title"},[e._v(e._s(e.$t("histogram.xAxisTitle")))]):e._e(),e.curViewName?a("el-radio-group",{attrs:{fill:"#00A5A7","text-color":"#FFFFFF",size:"small",disabled:0===e.curViewName},on:{change:e.timeTypeChange},model:{value:e.curAxisName,callback:function(t){e.curAxisName=t},expression:"curAxisName"}},[a("el-radio-button",{attrs:{label:0}},[e._v(" "+e._s(e.$t("histogram.step"))+" ")]),a("el-radio-button",{attrs:{label:1}},[e._v(" "+e._s(e.$t("histogram.relativeTime")+e.$t("symbols.leftbracket")+"s"+e.$t("symbols.rightbracket"))+" ")]),a("el-radio-button",{attrs:{label:2}},[e._v(" "+e._s(e.$t("histogram.absoluteTime"))+" ")])],1):e._e()],1),a("div",{staticClass:"cl-histogram-show-data-content"},[e.originDataArr.length?e._e():a("div",{staticClass:"image-noData"},[a("div",[a("img",{attrs:{src:i("9485")}})]),e.initOver?a("div",{staticClass:"noData-text"},[e._v(e._s(e.$t("public.noData")))]):a("div",{staticClass:"noData-text"},[e._v(e._s(e.$t("public.dataLoading")))])]),e.originDataArr.length?a("div",{staticClass:"data-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.chartTipFlag,expression:"chartTipFlag"}],attrs:{id:"echartTip"}},[a("table",{staticClass:"char-tip-table borderspacing3"},[a("tr",[a("td",[e._v(e._s(e.$t("histogram.centerValue")))]),a("td",[e._v(e._s(e.$t("histogram.step")))]),a("td",[e._v(e._s(e.$t("histogram.relativeTime")))]),a("td",[e._v(e._s(e.$t("histogram.absoluteTime")))])]),a("tr",{attrs:{id:"tipTr"}})])]),e._l(e.originDataArr,(function(t){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"sampleItem.show"}],key:t.domId,staticClass:"sample-content",class:t.fullScreen?"char-full-screen":""},[a("div",{staticClass:"chars-container"},[a("div",{staticClass:"char-item-content",attrs:{id:t.domId}}),a("div",{staticClass:"tag-title",attrs:{title:t.tagName}},[e._v(e._s(t.tagName))])])])}))],2):e._e()]),e.originDataArr.length?a("div",{staticClass:"pagination-content"},[a("el-pagination",{attrs:{"current-page":e.pageIndex+1,"page-sizes":e.pageSizes,"page-size":e.pageNum,layout:"total, prev, pager, next, jumper",total:e.curFilterSamples.length},on:{"current-change":e.currentPageChange}})],1):e._e()])])},r=[],s=(i("159b"),i("a434"),i("fb6a"),i("99af"),i("d3b7"),i("25f0"),i("b680"),i("ac1f"),i("1276"),i("4de4"),i("4e82"),i("a9e3"),i("5319"),i("9fac")),n=i("a95e"),o=i("3778"),l=i("2dd7"),c=i("5698"),h=i("7e02"),u={format:c["b"],precisionRound:c["c"]},m={mixins:[h["a"]],data:function(){return{tagList:[],trainingJobId:this.$route.query.train_id,summaryPath:this.$route.query.summaryPath,originDataArr:[],initOver:!1,curAxisName:0,curViewName:1,curFullTagDic:{},multiSelectedTagNames:{},curFilterSamples:[],curPageArr:[],pageIndex:0,pageSizes:[6],pageNum:6,zrDrawElement:{hoverDots:[]},chartTipFlag:!1,charResizeTimer:null,changeAxisTimer:null,changeViewTimer:null,themeIndex:this.$store.state.themeIndex}},computed:{},components:{multiselectGroupComponents:n["a"]},watch:{},destroyed:function(){var e=this;window.removeEventListener("resize",this.resizeCallback),this.curPageArr.length&&this.curPageArr.forEach((function(t){e.clearZrData(t)})),this.changeAxisTimer&&(clearTimeout(this.changeAxisTimer),this.changeAxisTimer=null),this.changeViewTimer&&(clearTimeout(this.changeViewTimer),this.changeViewTimer=null)},mounted:function(){this.init(),window.addEventListener("resize",this.resizeCallback,!1)},methods:{resizeCallback:function(){var e=this;this.charResizeTimer&&(clearTimeout(this.charResizeTimer),this.charResizeTimer=null),this.charResizeTimer=setTimeout((function(){e.curPageArr.forEach((function(e){e.charObj&&e.charObj.resize()}))}),500)},init:function(){if(!this.$route.query||!this.$route.query.train_id)return this.$message.error(this.$t("trainingDashboard.invalidId")),void(document.title=this.$t("histogram.titleText")+"-MindInsight");document.title=decodeURIComponent(this.$route.query.train_id)+"-"+this.$t("histogram.titleText")+"-MindInsight",this.getOriginData(),this.isTimeReload&&this.autoUpdateSamples()},jumpToTrainDashboard:function(){this.$router.push({path:"/train-manage/training-dashboard",query:{id:this.trainingJobId}})},getOriginData:function(){var e=this,t={plugin_name:"histogram",train_id:this.trainingJobId};o["a"].getSingleTrainJob(t).then((function(t){if(t&&t.data&&t.data.train_jobs&&t.data.train_jobs.length){var i=t.data.train_jobs[0];if(i.tags){var a=[],r=[];i.tags.forEach((function(t){e.curFullTagDic[t]||(e.curFullTagDic[t]=!0,a.push({label:t,checked:!0,show:!0}),r.push({tagName:t,zr:null,show:!1,fullScreen:!1,domId:"".concat(t),oriData:{},charOption:{},chartData:[],charObj:null}))})),e.tagList=a,e.originDataArr=r,e.$nextTick((function(){e.multiSelectedTagNames=e.$refs.multiselectGroupComponents.updateSelectedDic(),e.initOver=!0,e.updateTagInPage()}))}}else e.initOver=!0}),this.requestErrorCallback).catch((function(t){e.initOver=!0,e.$message.error(e.$t("public.dataError"))}))},tagSelectedChanged:function(e){e&&(this.multiSelectedTagNames=e,this.pageIndex=0,this.updateTagInPage())},currentPageChange:function(e){this.pageIndex=e-1,this.getCurPageDataArr()},getCurPageDataArr:function(e){var t=this;e||this.curPageArr.forEach((function(e){e.show=!1,t.clearZrData(e)}));for(var i=this.pageIndex*this.pageNum,a=i+this.pageNum,r=[],s=i;s<a;s++){var n=this.curFilterSamples[s];n&&(n.show=!0,r.push(n))}this.curPageArr=r,this.freshCurPageData()},freshCurPageData:function(){var e=this;this.curPageArr.forEach((function(t,i){if(t&&t.tagName){var a={train_id:e.trainingJobId,tag:t.tagName};o["a"].getHistogramData(a).then((function(i){if(i&&i.data){var a=JSON.parse(JSON.stringify(i.data));t.chartData=e.formOriData(a),e.formatDataToChar(t),e.updateSampleData(t),e.sampleEventBind(t)}}))}}))},timeTypeChange:function(e){var t=this;this.changeAxisTimer&&(clearTimeout(this.changeAxisTimer),this.changeAxisTimer=null),this.changeAxisTimer=setTimeout((function(){t.curPageArr.forEach((function(e){t.updateSampleData(e)}))}),500)},viewTypeChange:function(e){var t=this;this.changeViewTimer&&(clearTimeout(this.changeViewTimer),this.changeViewTimer=null),this.changeViewTimer=setTimeout((function(){t.curPageArr.forEach((function(e){t.formatDataToChar(e),t.updateSampleData(e)}))}),200)},updateTagInPage:function(e){var t=this,i=[];this.originDataArr.forEach((function(e){t.multiSelectedTagNames[e.tagName]&&i.push(e)})),this.curFilterSamples=i,this.getCurPageDataArr(e)},clearAllData:function(){var e=this;this.originDataArr.forEach((function(t){e.clearZrData(t)})),this.tagList=[],this.originDataArr=[],this.curFullTagDic={},this.multiSelectedTagNames={},this.curFilterSamples=[],this.pageIndex=0,this.curPageArr=[],this.$nextTick((function(){e.$refs.multiselectGroupComponents.updateSelectedDic()}))},requestErrorCallback:function(e){this.initOver||(this.initOver=!0),this.isReloading&&(this.$store.commit("setIsReload",!1),this.isReloading=!1),e.response&&e.response.data?this.clearAllData():"ECONNABORTED"===e.code&&/^timeout/.test(e.message)||this.clearAllData()},updateAllData:function(e){var t=this,i={plugin_name:"histogram",train_id:this.trainingJobId};o["a"].getSingleTrainJob(i,e).then((function(e){if(t.isReloading&&(t.$store.commit("setIsReload",!1),t.isReloading=!1),e&&e.data&&e.data.train_jobs&&e.data.train_jobs.length&&e.data.train_jobs[0].tags){var i=e.data.train_jobs[0],a=t.removeNoneExistentData(i),r=t.checkNewDataAndComplete(i);t.$nextTick((function(){t.multiSelectedTagNames=t.$refs.multiselectGroupComponents.updateSelectedDic(),t.updateTagInPage(!r&&!a)}))}else t.clearAllData()}),this.requestErrorCallback).catch((function(e){t.$message.error(t.$t("public.dataError"))}))},removeNoneExistentData:function(e){if(!e||!e.tags)return!1;var t={},i=!1;e.tags.forEach((function(e){t[e]=!0}));for(var a=this.tagList.length,r=a-1;r>=0;r--)t[this.tagList[r].label]||(i=!0,delete this.curFullTagDic[this.tagList[r].label],this.tagList.splice(r,1));for(var s=this.originDataArr.length,n=s-1;n>=0;n--)t[this.originDataArr[n].tagName]||(i=!0,this.clearZrData(this.originDataArr[n]),this.originDataArr[n].charObj.clear(),this.originDataArr.splice(n,1));return this.originDataArr.forEach((function(e,t){e.sampleIndex=t})),i},checkNewDataAndComplete:function(e){var t=this;if(!e||!e.tags)return!1;var i=!1;return e.tags.forEach((function(e){t.curFullTagDic[e]||(t.tagList.push({label:e,checked:!0,show:!1}),t.originDataArr.push({tagName:e,zr:null,show:!1,fullScreen:!1,domId:"".concat(e),oriData:{},charOption:{},chartData:[],charObj:null}),t.curFullTagDic[e]=!0,i=!0)})),i},updateSampleData:function(e){e.charOption=this.formatCharOption(e),e.charObj||(e.charObj=s["a"].init(document.getElementById(e.domId),s["b"])),this.removeTooltip(e),e.charObj.setOption(e.charOption,!0)},sampleEventBind:function(e){var t=this;e.zr||(e.zr=e.charObj.getZr(),e.zr.off("mouseout","mousemove"),e.zr.on("mouseout",(function(i){t.removeTooltip(e),t.chartTipFlag=!1})),e.zr.on("mousemove",(function(i){t.removeTooltip(e),t.mousemoveEvent(e,i)})))},mousemoveEvent:function(e,t){var i=this,a=l["a"].commonChartTheme[this.themeIndex],r="s",n=this.findNearestValue(e,[t.offsetX,t.offsetY]);if(n&&null!==n.yIndex&&null!==n.binIndex){var o,c=n.binIndex,h=n.yIndex,m=e.chartData,d=m[h],p=Math.max(0,u.precisionRound(.01,1.01)-1),g=u.format(".".concat(p,"e")),f=e.charObj.getModel().getComponent("grid",0).coordinateSystem.getRect(),v=f.y-10,b=[];if(!d||!d.items[c])return;this.chartTipFlag||(this.chartTipFlag=!0),1===this.curViewName&&null!==h?b=this.makePolyPoints(h,this.getCoord,v,e):0===this.curViewName&&d.items&&d.items.forEach((function(t){b.push(i.getCoord([t[2],t[3]],e))})),this.zrDrawElement.hoverLine=new s["a"].graphic.Polyline({silent:!0,shape:{points:b.slice(1,-1)},z:999}),e.zr.add(this.zrDrawElement.hoverLine),this.zrDrawElement.tooltip=new s["a"].graphic.Text({});var w=d.items[c][2],x=0;m.forEach((function(t,a){var r=t.step,n=i.getCoord([w,r],e);if(a===h)x=d.items[c][3];else for(var l=t.items,u=1;u<l.length-1;u++){var m=l[u+1][2],p=l[u+1][3];if(l[u][2]===w){x=l[u][3];break}if(l[u][2]<w&&m>w){var g=(w-l[u][2])/(m-l[u][2]);x=(p-l[u][3])*g+l[u][3];break}}o=n[0];var f={z:1e3};1===i.curViewName?(n[1]-=(x-e.oriData.minZ)/(e.oriData.maxZ-e.oriData.minZ)*v,f.shape={cx:o,cy:n[1],r:1.5}):(f.shape={cx:0,cy:0,r:1.5},f.position=e.charObj.convertToPixel("grid",[w,x]));var b=new s["a"].graphic.Circle(f);e.zr.add(b),i.zrDrawElement.hoverDots.push(b)})),this.zrDrawElement.tooltip=new s["a"].graphic.Text({});var T="",C=d.items[c][3];T="<td>".concat(C.toString().length>=6?g(C):C,'</td><td style="text-align:center;">').concat(this.formatNumber(d.step),"</td><td>").concat(this.formatNumber(d.relative_time.toFixed(0))).concat(r,"</td><td>").concat(this.dealrelativeTime(new Date(1e3*d.wall_time).toString()),"</td>");var S=document.querySelector("#tipTr");if(S.innerHTML=T,e.fullScreen){var N=document.querySelector("#echartTip").clientWidth,A=document.querySelector("#echartTip").clientHeight,D=document.body.scrollWidth,I=document.body.scrollHeight,k=document.querySelector(".cl-histogram-show-data-content").scrollTop,y=document.querySelector(".cl-histogram-show-data-content").offsetTop;A+t.event.y+20>I&&I>A?document.querySelector("#echartTip").style.top="".concat(t.event.y+k-A-20-y,"px"):document.querySelector("#echartTip").style.top="".concat(t.event.y+k+20-y,"px"),N+t.event.x+80>D&&D>N?document.querySelector("#echartTip").style.left="".concat(t.event.x-N-20,"px"):document.querySelector("#echartTip").style.left="".concat(t.event.x+20,"px")}else{var E=document.getElementById(e.domId).parentNode.parentNode.clientWidth,_=document.getElementById(e.domId).parentNode.parentNode.clientHeight,F=document.getElementById(e.domId).parentNode.parentNode.offsetLeft,z=document.getElementById(e.domId).parentNode.parentNode.offsetTop,L=document.querySelector("#echartTip");L.style.top="".concat(z+_-60,"px"),F>L.clientWidth?L.style.left="".concat(F-L.clientWidth,"px"):L.style.left="".concat(F+E,"px")}if(this.zrDrawElement.tooltipX=new s["a"].graphic.Text({x:o,y:f.y+f.height,style:{text:w.toString().length>=6?w.toExponential(3):Math.round(1e3*w)/1e3,fill:a.tipFontColor,fontSize:12},z:2e3}),e.zr.add(this.zrDrawElement.tooltipX),1===this.curViewName&&b&&b.length){var $="";null!==h&&($=this.yAxisFormatter(e,d.step)),this.zrDrawElement.tooltipY=new s["a"].graphic.Text({x:f.x+f.width,y:b[b.length-1][1],style:{text:$,fill:a.tipFontColor,fontSize:12},z:2e3}),e.zr.add(this.zrDrawElement.tooltipY)}}},getCoord:function(e,t){return t.charObj.convertToPixel("grid",e)},findNearestValue:function(e,t){var i=this;if(t&&t.length&&e&&e.charObj&&e.oriData){var a=e.charObj.convertFromPixel("grid",t);if(a&&a.length){var r=null,s=null,n=1/0,o=-1/0,l=1/0,c=e.charObj.getModel().getComponent("grid",0).coordinateSystem.getRect(),h=c.y-10,u=a[0];if(e.chartData.forEach((function(r,n){for(var c,m,d=0;d<r.items.length-1;d++){var p=r.items[d],g=r.items[d+1],f=g[2],v=g[3];if(p.length>=4&&p[2]<u&&f>=u){var b=(u-p[2])/(f-p[2]);m=(v-p[3])*b+p[3],c=Math.abs(a[1]-m);break}}if(0===i.curViewName&&c<l)l=c,s=n;else if(1===i.curViewName){var w=i.getCoord([u,r.step],e),x=w[1];w[1]-=(m-e.oriData.minZ)/(e.oriData.maxZ-e.oriData.minZ)*h,t[1]>w[1]&&t[1]<x&&x>o&&(o=x,s=n)}})),null===s&&1===this.curViewName&&e.chartData.forEach((function(e,t){t>=a[1]&&(s=null===s?t:Math.min(s,t))})),null!==s){var m=e.chartData[s].items;m.forEach((function(e,t){var i=Math.abs(e[2]-a[0]);i<n&&(n=i,r=t)})),r=0===r?1:r===m.length-1?m.length-2:r}return{binIndex:r,yIndex:s}}}},dealrelativeTime:function(e){var t=e.split(" "),i=t[0]+" "+t[1]+" "+t[2]+", "+t[4];return i},clearZrData:function(e){e&&e.zr&&(this.removeTooltip(e),e.zr.off("mouseout","mousemove"),e.zr=null)},removeTooltip:function(e){e&&e.zr&&(this.zrDrawElement.hoverDots&&this.zrDrawElement.hoverDots.forEach((function(t){return e.zr.remove(t)})),this.zrDrawElement.hoverLine&&e.zr.remove(this.zrDrawElement.hoverLine),this.zrDrawElement.tooltip&&e.zr.remove(this.zrDrawElement.tooltip),this.zrDrawElement.tooltipY&&e.zr.remove(this.zrDrawElement.tooltipY),this.zrDrawElement.tooltipX&&e.zr.remove(this.zrDrawElement.tooltipX))},getValue:function(e,t,i){return e[t][i]},makePolyPoints:function(e,t,i,a){for(var r=[],s=a.oriData.seriesData,n=a.oriData.maxZ,o=a.oriData.minZ,l=0;l<s[e].length;){var c=this.getValue(s,e,l++),h=this.getValue(s,e,l++),u=this.getValue(s,e,l++),m=t([c,h],a);n!==o&&(m[1]-=(u-o)/(n-o)*i),r.push(m)}return r},formOriData:function(e){var t=[],i=e.histograms.length?e.histograms[0].wall_time:0;return e.histograms.forEach((function(e,a){var r=e.step.toString(),s={wall_time:e.wall_time,relative_time:e.wall_time-i,step:r,items:[]},n=[];if(e.buckets.forEach((function(t){var i=t[0]+t[1]/2,a=n.filter((function(e){return e[0]===i}));a.length||n.push([e.wall_time,r,i,Math.floor(t[2])])})),n.sort((function(e,t){return e[0]-t[0]})),n.length){var o=n[0][2],l=n[n.length-1][2],c=[[e.wall_time,r,o,0]].concat(n,[[e.wall_time,r,l,0]]);s.items=c,t.push(s)}})),t},formatDataToChar:function(e){var t=this,i=e.chartData,a=[],r=-1/0,s=1/0,n=-1/0,o=1/0,l=[];i&&i.length&&i.forEach((function(e){var i=[];l.push(e.step),e.items.forEach((function(a){0===t.curViewName?i.push([a[2],a[3]]):1===t.curViewName&&i.push(a[2],e.step,a[3]),r=Math.max(r,a[2]),s=Math.min(s,a[2]),o=Math.min(o,a[3]),n=Math.max(n,a[3])})),a.push(i)})),e.oriData={seriesData:a,maxX:r,minX:s,maxZ:n,minZ:o,gridData:l}},formatCharOption:function(e){var t=this,i=l["a"].histogramThemes[this.themeIndex],a=l["a"].commonThemes[this.themeIndex],r=i.lineMinColor,s=i.lineMaxColor,n=e.oriData,o=this.getGradientColor(r,s,n.seriesData.length),c=this.toggleFullScreen,h=this.curAxisName,u=this,m={grid:{left:40,top:60,right:80,bottom:60},xAxis:{max:n.maxX,min:n.minX,axisLine:{onZero:!1},axisLabel:{fontSize:"11",formatter:function(e){return u.formatNumber(e)}},splitLine:{show:!1}},yAxis:{position:"right",axisLine:{onZero:!1,show:!1},splitLine:{show:!0},axisTick:{show:!1},boundaryGap:!1,axisLabel:{fontSize:"11",formatter:function(e){return u.formatNumber(e)}}},toolbox:{top:20,right:20,emphasis:{iconStyle:{textPosition:"top",borderColor:a.themeColor}},feature:{myToolFullScreen:{show:!0,title:this.$t("histogram.fullScreen"),iconStyle:{borderColor:e.fullScreen?a.themeColor:a.fullScreenIconActive},icon:l["a"].fullScreenIcon[this.$store.state.themeIndex],onclick:function(){c(e)}}}}};if(1===this.curViewName){var d=[];n.seriesData.forEach((function(e,t){var i={name:e[1],value:e,itemStyle:{color:o[t]}};d.push(i)})),m.series=[{type:"custom",dimensions:["x","y"],renderItem:function(a,r){var s=t.makePolyPoints(a.dataIndex,r.coord,a.coordSys.y-10,e);return{type:"polyline",z2:a.dataIndex,silent:!0,shape:{points:s},style:r.style({stroke:i.polylineBorderColor,lineWidth:1})}},data:d}],m.yAxis.data=n.gridData,m.yAxis.type="category",m.grid.top=126,2===h&&e.fullScreen&&(m.grid.right=140),m.yAxis.inverse=!0,m.yAxis.axisLabel.formatter=function(t){return u.yAxisFormatter(e,t)}}else 0===this.curViewName&&(m.color=o,m.series=[],n.seriesData.forEach((function(e){m.series.push({type:"line",symbol:"none",lineStyle:{width:1},data:e.slice(1,-1)})})));return m},yAxisFormatter:function(e,t){var i="",a=e.chartData.filter((function(e){return e.step===t}));return a.length&&(i=2===this.curAxisName?e.fullScreen?this.dealrelativeTime(new Date(1e3*a[0].wall_time).toString()):[]:1===this.curAxisName?this.formatNumber(a[0].relative_time.toFixed(0)):this.formatNumber(a[0].step)),i},formatNumber:function(e){return e=Number(e),e.toString().length>6?e.toExponential(3):Math.round(1e3*e)/1e3},formatColor:function(e){if(e){var t=/^([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,i=e.toLowerCase().slice(1);if(t.test(i)){var a="";if(3===i.length){for(var r=0;r<3;r++)a+=a.slice(r,r+1).concat(a.slice(r,r+1));i=a}for(var s=[],n=0;n<6;n+=2)s.push(parseInt("0x".concat(i.slice(n,n+2))));return s}return i}},formatColorToHex:function(e){var t=/^(rgb|RGB)/g;if(t.test(e)){for(var i=e.replace(/(?:(|)|rgb|RGB)*/g,"").split(","),a="",r=0;r<i.length;r++){var s=Number(i[r]).toString(16);s=s<10?"0".concat(s):s,"0"===s&&(s+=s),a+=s}return 6!==a.length&&(a=e),a}},getGradientColor:function(e,t,i){for(var a=this.formatColor(e),r=this.formatColor(t),s=(r[0]-a[0])/i,n=(r[1]-a[1])/i,o=(r[2]-a[2])/i,l=[],c=0;c<i;c++){var h=parseInt(s*c+a[0]),u=parseInt(n*c+a[1]),m=parseInt(o*c+a[2]),d=this.formatColorToHex("rgb(".concat(h,",").concat(u,",").concat(m,")"));l.push(d)}return l},toggleFullScreen:function(e){if(e){this.removeTooltip(e);var t=l["a"].commonThemes[this.themeIndex];e.fullScreen=!e.fullScreen,e.fullScreen?(2===this.curAxisName&&(e.charOption.grid.right=140),e.charOption.toolbox.feature.myToolFullScreen.iconStyle.borderColor=t.themeColor):(e.charOption.grid.right=80,e.charOption.toolbox.feature.myToolFullScreen.iconStyle.borderColor=t.fullScreenIconActive),setTimeout((function(){e.charObj.setOption(e.charOption),e.charObj.resize(),document.getElementById(e.domId).scrollIntoView()}),0)}}}},d=m,p=(i("ec75"),i("2877")),g=Object(p["a"])(d,a,r,!1,null,null,null);t["default"]=g.exports},"7e02":function(e,t,i){"use strict";var a,r,s={data:function(){return{autoUpdateTimer:null,isReloading:!1}},computed:{isReload:function(){return this.$store.state.isReload},isTimeReload:function(){return this.$store.state.isTimeReload},timeReloadValue:function(){return this.$store.state.timeReloadValue}},watch:{isReload:function(e,t){e&&(this.isReloading=!0,this.isTimeReload&&this.autoUpdateSamples(),this.updateAllData(!1))},isTimeReload:function(e,t){e?this.autoUpdateSamples():this.stopUpdateSamples()},timeReloadValue:function(){this.autoUpdateSamples()}},methods:{autoUpdateSamples:function(){var e=this;this.autoUpdateTimer&&(clearInterval(this.autoUpdateTimer),this.autoUpdateTimer=null),this.autoUpdateTimer=setInterval((function(){e.$store.commit("clearToken"),e.updateAllData(!0)}),1e3*this.timeReloadValue)},stopUpdateSamples:function(){this.autoUpdateTimer&&(clearInterval(this.autoUpdateTimer),this.autoUpdateTimer=null)}},destroyed:function(){this.autoUpdateTimer&&(clearInterval(this.autoUpdateTimer),this.autoUpdateTimer=null),this.isReloading&&(this.$store.commit("setIsReload",!1),this.isReloading=!1)}},n=s,o=i("2877"),l=Object(o["a"])(n,a,r,!1,null,null,null);t["a"]=l.exports},"80e2":function(e,t,i){},9485:function(e,t,i){e.exports=i.p+"static/img/nodata.8290bed9.png"},"9f1c":function(e,t,i){"use strict";i("80e2")},a434:function(e,t,i){"use strict";var a=i("23e7"),r=i("23cb"),s=i("a691"),n=i("50c4"),o=i("7b0b"),l=i("65f0"),c=i("8418"),h=i("1dde"),u=i("ae40"),m=h("splice"),d=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,f=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!d},{splice:function(e,t){var i,a,h,u,m,d,b=o(this),w=n(b.length),x=r(e,w),T=arguments.length;if(0===T?i=a=0:1===T?(i=0,a=w-x):(i=T-2,a=g(p(s(t),0),w-x)),w+i-a>f)throw TypeError(v);for(h=l(b,a),u=0;u<a;u++)m=x+u,m in b&&c(h,u,b[m]);if(h.length=a,i<a){for(u=x;u<w-a;u++)m=u+a,d=u+i,m in b?b[d]=b[m]:delete b[d];for(u=w;u>w-a+i;u--)delete b[u-1]}else if(i>a)for(u=w-a;u>x;u--)m=u+a-1,d=u+i-1,m in b?b[d]=b[m]:delete b[d];for(u=0;u<i;u++)b[u+x]=arguments[u+2];return b.length=w-a+i,h}})},a95e:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cl-checklist-container"},[i("div",{staticClass:"select-content"},[i("div",{staticClass:"title mr24"},[e._v(e._s(e.componentsLabel.title||e.$t("components.tagSelectTitle")))]),i("div",{staticClass:"select-all mr24",on:{click:e.listSelectAll}},[i("span",{staticClass:"multiCheckBox-border multi-check-border",class:e.operateSelectAll?"checkbox-checked":"checkbox-unchecked"}),i("span",{staticClass:"label-item select-disable"},[e._v(e._s(e.$t("components.selectAll")))])]),e.listFullScreen?i("el-input",{staticClass:"search-input-item",attrs:{placeholder:e.componentsLabel.placeholder||e.$t("components.tagFilterPlaceHolder")},on:{input:e.listFilter},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e(),e.listFullScreen?e._e():i("div",{ref:e.itemId,staticClass:"select-item-content"},e._l(e.checkListArr,(function(t,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],key:a,staticClass:"select-item",class:e.isLimit&&e.selectedNumber>=e.limitNum&&!t.checked?"item-disable":"item-able",on:{click:function(i){return e.listItemClick(t)}}},[i("span",{staticClass:"multiCheckBox-border multi-check-border",class:t.checked?"checkbox-checked":"checkbox-unchecked"}),i("span",{staticClass:"label-item"},[i("el-tooltip",{attrs:{effect:"dark","popper-class":"tooltip-show-content",content:t.label,placement:"top"}},[i("span",{staticClass:"select-disable"},[t.checked&&"NOT_IN_CACHE"===t.loading?i("i",{staticClass:"el-icon-time",attrs:{title:e.$t("trainingDashboard.waitLoading")}}):e._e(),t.checked&&"CACHING"===t.loading?i("i",{staticClass:"el-icon-loading",attrs:{title:e.$t("trainingDashboard.loadingTip")}}):e._e(),e._v(" "+e._s(t.label))])])],1)])})),0),e.overRowFlag||e.searchInput?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.listFullScreen,expression:"!listFullScreen"}],staticClass:"select-content-open select-disable",on:{click:e.toggleListFullScreen}},[e._v(e._s(e.$t("components.open")))]):e._e(),e.overRowFlag||e.listFullScreen?i("div",{directives:[{name:"show",rawName:"v-show",value:e.listFullScreen,expression:"listFullScreen"}],staticClass:"select-content-open select-disable",on:{click:e.toggleListFullScreen}},[e._v(e._s(e.$t("components.close")))]):e._e()],1),e.listFullScreen?i("div",{staticClass:"select-content-all"},e._l(e.checkListArr,(function(t,a){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],key:a,staticClass:"select-item",class:e.isLimit&&e.selectedNumber>=e.limitNum&&!t.checked?"item-disable":"item-able",on:{click:function(i){return e.listItemClick(t)}}},[i("span",{staticClass:"multiCheckBox-border multi-check-border",class:t.checked?"checkbox-checked":"checkbox-unchecked"}),i("span",{staticClass:"label-item"},[i("el-tooltip",{attrs:{effect:"dark","popper-class":"tooltip-show-content",content:t.label,placement:"top"}},[i("span",{staticClass:"select-disable"},[t.checked&&"NOT_IN_CACHE"===t.loading?i("i",{staticClass:"el-icon-time",attrs:{title:e.$t("trainingDashboard.waitLoading")}}):e._e(),t.checked&&"CACHING"===t.loading?i("i",{staticClass:"el-icon-loading",attrs:{title:e.$t("trainingDashboard.loadingTip")}}):e._e(),e._v(" "+e._s(t.label))])])],1)])})),0):e._e()])},r=[],s=(i("a9e3"),i("159b"),i("4d63"),i("ac1f"),i("25f0"),{props:{checkListArr:Array,isLimit:{type:Boolean,default:!1},limitNum:{type:Number,default:0},componentsLabel:{type:Object,default:function(){return{title:"",placeholder:""}}}},data:function(){return{listFullScreen:!1,overRowFlag:!1,searchInputTimer:null,searchInput:"",valiableSearchInput:"",multiSelectedItemNames:{},operateSelectAll:!0,perSelectItemMarginBottom:1,selectedNumber:0,itemId:"",searching:!1}},computed:{},watch:{},mounted:function(){this.init()},methods:{init:function(){var e=this;this.itemId="".concat((new Date).getTime())+"".concat(this.$store.state.multiSelectedGroupCount),this.$store.commit("multiSelectedGroupComponentNum"),this.$nextTick((function(){e.resizeCallback()})),window.addEventListener("resize",this.resizeCallback,!1)},resizeCallback:function(){var e=this.$refs[this.itemId];e&&(this.overRowFlag=e.clientHeight<e.scrollHeight-this.perSelectItemMarginBottom)},listSelectAll:function(){var e=this;if(this.operateSelectAll=!this.operateSelectAll,this.multiSelectedItemNames={},this.operateSelectAll)if(this.isLimit)for(var t=this.checkListArr.length,i=0;i<t;i++){var a=this.checkListArr[i];this.selectedNumber>=this.limitNum?a.checked&&a.show&&(this.multiSelectedItemNames[a.label]=!0):a.checked?a.show&&(this.multiSelectedItemNames[a.label]=!0):a.show&&(a.checked=!0,this.multiSelectedItemNames[a.label]=!0,this.selectedNumber++)}else this.checkListArr.forEach((function(t){t.show&&(t.checked=!0,e.multiSelectedItemNames[t.label]=!0)}));else this.checkListArr.forEach((function(t){t.show&&t.checked&&(e.selectedNumber--,t.checked=!1)}));this.$emit("selectedChange",this.multiSelectedItemNames)},listFilter:function(){var e=this;this.searching=!0,this.searchInputTimer&&(clearTimeout(this.searchInputTimer),this.searchInputTimer=null),this.searchInputTimer=setTimeout((function(){var t;e.searching=!1;try{t=new RegExp(e.searchInput)}catch(a){return void e.$message.warning(e.$t("public.regIllegal"))}e.valiableSearchInput=e.searchInput,e.multiSelectedItemNames={},e.selectedNumber=0;var i=!0;e.checkListArr.forEach((function(a){a.checked&&e.selectedNumber++,t.test(a.label)?(a.show=!0,a.checked?e.multiSelectedItemNames[a.label]=!0:i=!1):a.show=!1})),e.isLimit&&!i&&(i=e.selectedNumber>=e.limitNum||e.selectedNumber>=e.checkListArr.length),e.operateSelectAll=i,e.$emit("selectedChange",e.multiSelectedItemNames)}),200)},listItemClick:function(e){if(!(!e||this.isLimit&&this.selectedNumber>=this.limitNum&&!e.checked)){e.checked=!e.checked,e.checked?(this.multiSelectedItemNames[e.label]=!0,this.selectedNumber++):this.multiSelectedItemNames[e.label]&&(delete this.multiSelectedItemNames[e.label],this.selectedNumber--);var t=!0;this.checkListArr.some((function(e){if(e.show&&!e.checked)return t=!1,!0})),this.isLimit&&!t&&(t=this.selectedNumber>=this.limitNum||this.selectedNumber>=this.checkListArr.length),this.operateSelectAll=t,this.$emit("selectedChange",this.multiSelectedItemNames)}},toggleListFullScreen:function(){var e=this;this.listFullScreen=!this.listFullScreen,this.listFullScreen||this.$nextTick((function(){e.resizeCallback()}))},updateSelectedDic:function(){var e,t=this;if(this.searching)return this.multiSelectedItemNames;try{e=new RegExp(this.searchInput)}catch(n){e=new RegExp(this.valiableSearchInput)}this.multiSelectedItemNames={},this.selectedNumber=0;var i=!0;if(this.isLimit){for(var a=this.checkListArr.length,r=0;r<a;r++){var s=this.checkListArr[r];s.checked&&(this.selectedNumber>=this.limitNum?s.checked=!1:this.selectedNumber++),e.test(s.label)?(s.show=!0,s.checked&&(this.multiSelectedItemNames[s.label]=!0)):s.show=!1}i=this.selectedNumber>=this.limitNum||this.selectedNumber>=this.checkListArr.length}else this.checkListArr.forEach((function(a){e.test(a.label)?(a.show=!0,a.checked?t.multiSelectedItemNames[a.label]=!0:i=!1):a.show=!1}));return this.operateSelectAll=i,this.resizeCallback(),this.multiSelectedItemNames}},destroyed:function(){window.removeEventListener("resize",this.resizeCallback),this.searchInputTimer&&(clearTimeout(this.searchInputTimer),this.searchInputTimer=null)}}),n=s,o=(i("9f1c"),i("2877")),l=Object(o["a"])(n,a,r,!1,null,null,null);t["a"]=l.exports},b680:function(e,t,i){"use strict";var a=i("23e7"),r=i("a691"),s=i("408a"),n=i("1148"),o=i("d039"),l=1..toFixed,c=Math.floor,h=function(e,t,i){return 0===t?i:t%2===1?h(e,t-1,i*e):h(e*e,t/2,i)},u=function(e){var t=0,i=e;while(i>=4096)t+=12,i/=4096;while(i>=2)t+=1,i/=2;return t},m=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){l.call({})}));a({target:"Number",proto:!0,forced:m},{toFixed:function(e){var t,i,a,o,l=s(this),m=r(e),d=[0,0,0,0,0,0],p="",g="0",f=function(e,t){var i=-1,a=t;while(++i<6)a+=e*d[i],d[i]=a%1e7,a=c(a/1e7)},v=function(e){var t=6,i=0;while(--t>=0)i+=d[t],d[t]=c(i/e),i=i%e*1e7},b=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==d[e]){var i=String(d[e]);t=""===t?i:t+n.call("0",7-i.length)+i}return t};if(m<0||m>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(t=u(l*h(2,69,1))-69,i=t<0?l*h(2,-t,1):l/h(2,t,1),i*=4503599627370496,t=52-t,t>0){f(0,i),a=m;while(a>=7)f(1e7,0),a-=7;f(h(10,a,1),0),a=t-1;while(a>=23)v(1<<23),a-=23;v(1<<a),f(1,1),v(2),g=b()}else f(0,i),f(1<<-t,0),g=b()+n.call("0",m);return m>0?(o=g.length,g=p+(o<=m?"0."+n.call("0",m-o)+g:g.slice(0,o-m)+"."+g.slice(o-m))):g=p+g,g}})},d459:function(e,t,i){},ec75:function(e,t,i){"use strict";i("d459")}}]);