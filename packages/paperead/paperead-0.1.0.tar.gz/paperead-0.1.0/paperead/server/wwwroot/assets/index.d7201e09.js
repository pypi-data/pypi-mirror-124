var Ke=Object.defineProperty,We=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var $e=Object.getOwnPropertySymbols;var Qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var me=(o,l,s)=>l in o?Ke(o,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[l]=s,m=(o,l)=>{for(var s in l||(l={}))Qe.call(l,s)&&me(o,s,l[s]);if($e)for(var s of $e(l))Xe.call(l,s)&&me(o,s,l[s]);return o},h=(o,l)=>We(o,Ze(l));var R=(o,l,s)=>(me(o,typeof l!="symbol"?l+"":l,s),s);import{c as Ye,u as et,d as g,a as H,r as N,o as c,b as _,w as t,e as a,f as e,N as tt,g as ke,S as F,R as at,h as we,i as P,j as ie,k as he,l as ve,m as y,F as ge,H as de,n as Z,p as ce,q as A,z as lt,s as nt,t as st,v as ot,x as rt,y as ut,A as it,B as dt,C as ct,D as _t,E as pt,G as ft,I as mt,J as ht,K as Q,L as xe,M as Ne,O as B,P as V,Q as Se,T as j,U as Ie,V as Ue,W as Ce,X as b,Y as v,Z as D,_ as _e,$ as L,a0 as X,a1 as Me,a2 as Y,a3 as x,a4 as ee,a5 as pe,a6 as p,a7 as te,a8 as G,a9 as vt,aa as gt,ab as yt,ac as Pe,ad as J,ae,af as bt,ag as le,ah as T,ai as ne,aj as O,ak as se,al as Le,am as q,an as $t,ao as ye,ap as kt,aq as wt,ar as be,as as xt,at as Nt,au as Be,av as Oe,aw as Re,ax as Ae,ay as St,az as It,aA as Ut,aB as Ct,aC as je,aD as Mt,aE as Pt,aF as Te,aG as Lt,aH as oe,aI as ze,aJ as Bt,aK as Ot,aL as Rt}from"./vendor.f4fa053e.js";const At=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerpolicy&&(d.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?d.credentials="include":r.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(r){if(r.ep)return;r.ep=!0;const d=s(r);fetch(r.href,d)}};At();function De(o){return(o==null?void 0:o.startsWith("./"))||(o==null?void 0:o.startsWith("../"))||o=="."||o==".."}class jt{constructor(l){R(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let n=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return h(m({},n),{metadata:h(m({},n.metadata),{creation:new Date(n.metadata.creation.toString()),modification:new Date(n.metadata.modification.toString())})})}notes(l){return new Tt(`${this.baseUrl}/${l}/notes`)}async update(l){let s=h(m({},l),{metadata:h(m({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}`,{method:"DELETE"})}resolveRelativeUrl(l,s="."){return De(s)?`${this.baseUrl}/${l}/${s}`:s}}class Tt{constructor(l){R(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let n=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return h(m({},n),{metadata:h(m({},n.metadata),{creation:new Date(n.metadata.creation.toString()),modification:new Date(n.metadata.modification.toString())})})}async update(l){let s=h(m({},l),{metadata:h(m({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}/`,{method:"DELETE"})}}class Ee{constructor(l){R(this,"baseUrl");R(this,"materials");this.baseUrl=l,this.materials=new jt(`${this.baseUrl}/materials`)}async metadata(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}}const He=Symbol(),zt="/api",Dt=Ye({state(){return{api:new Ee(zt),readerMode:!1}},mutations:{setApiUrl(o,l){o.api=new Ee(l)},setReaderMode(o,l){o.readerMode=l}}});function S(){return et(He)}var I=(o,l)=>{for(const[s,n]of l)o[s]=n;return o};function Et(o){const l=H();function s(u){return()=>ve(y,null,{default:()=>ve(u)})}const n=N("home"),r=[{label:"Home",key:"home",icon:s(de),route:"/"},{label:"Materials",key:"materials",icon:s(ge),route:"/materials"}];async function d(u,i){await l.push(i.route)}return(u,i)=>(c(),_(e(ie),{"has-sider":"",style:{height:"100%"}},{default:t(()=>[a(e(ke),{"collapse-mode":"width","collapsed-width":48,width:180,"show-trigger":"bar",bordered:"","default-collapsed":!0,"native-scrollbar":!1},{default:t(()=>[a(e(tt),{value:n.value,"onUpdate:value":[i[0]||(i[0]=f=>n.value=f),d],options:r},null,8,["value"])]),_:1}),a(e(P),null,{default:t(()=>[(c(),_(F,null,{default:t(()=>[a(e(at))]),fallback:t(()=>[a(e(we),{size:80,id:"loading-spin",style:{width:"100%"}})]),_:1}))]),_:1})]),_:1}))}const Ht={components:{Notebook:he}},Ft=g(h(m({},Ht),{setup:Et}));var Vt=I(Ft,[["__scopeId","data-v-e1d3947c"]]);const Gt=g({setup(o){Z();const l=S(),s=ce(),n="#f9f5e9FF",r={common:{baseColor:n,popoverColor:n,tableColor:n,cardColor:n,modalColor:n,bodyColor:n,tagColor:n,inputColor:n,codeColor:n,tabColor:n,actionColor:n,tableHeaderColor:n,hoverColor:n,inputColorDisabled:n}},d=A(()=>l.state.readerMode&&s.value!="dark"),u=A(()=>{let i=navigator.language;return i.indexOf("zh")!=-1?{lang:lt,date:nt}:i.indexOf("ru")!=-1?{lang:st,date:ot}:i.indexOf("uk")!=-1?{lang:rt,date:ut}:i.indexOf("ja")!=-1?{lang:it,date:dt}:{lang:ct,date:_t}});return(i,f)=>(c(),_(e(ft),{style:{height:"100%"},theme:e(s)=="dark"?e(pt):null,"theme-overrides":e(d)?r:{},locale:e(u).lang,"date-locale":e(u).date},{default:t(()=>[a(e(ht),null,{default:t(()=>[a(e(mt)),(c(),_(F,null,{default:t(()=>[a(Vt)]),fallback:t(()=>[a(e(we),{size:80,id:"loading-spin"})]),_:1}))]),_:1})]),_:1},8,["theme","theme-overrides","locale","date-locale"]))}});var Jt=I(Gt,[["__scopeId","data-v-6cfe2030"]]);const qt=g({props:{scroll:null},setup(o){const l=o,s=A(()=>{var n;return(n=l.scroll)!=null?n:!1});return(n,r)=>e(s)?(c(),_(e(ie),{key:0,style:{height:"100%"},"native-scrollbar":!1},{default:t(()=>[a(e(xe),{bordered:"",class:"page-header"},{default:t(()=>[Q(n.$slots,"header",{},void 0,!0)]),_:3}),a(e(P),null,{default:t(()=>[Q(n.$slots,"default",{},void 0,!0)]),_:3}),a(e(Ne),{right:100})]),_:3})):(c(),_(e(ie),{key:1,style:{height:"100%"}},{default:t(()=>[a(e(xe),{bordered:"",class:"page-header"},{default:t(()=>[Q(n.$slots,"header",{},void 0,!0)]),_:3}),a(e(P),{class:"page-content-scroll"},{default:t(()=>[Q(n.$slots,"default",{},void 0,!0)]),_:3})]),_:3}))}});var re=I(qt,[["__scopeId","data-v-306989a6"]]);const Kt=b("a",{href:"https://www.stardustdl.top/",style:{"text-decoration":"none",color:"inherit"}},"StardustDL",-1),Wt=b("a",{href:"https://github.com/StardustDL/paperead/blob/master/LICENSE",style:{"text-decoration":"none",color:"inherit"}},"MPL-2.0",-1),Zt=b("a",{href:"https://github.com/StardustDL/paperead",style:{"text-decoration":"none",color:"inherit"}},"GitHub",-1),Qt=["href"];async function Xt(o){let l,s;const n=([l,s]=B(async()=>([l,s]=B(()=>fetch("/build.json")),l=await l,s(),l).json()),l=await l,s(),l);return(r,d)=>(c(),_(e(L),{size:"large"},{default:t(()=>[a(e(j),{label:"Author"},{prefix:t(()=>[a(e(y),null,{default:t(()=>[a(e(V),null,{default:t(()=>[a(e(Se))]),_:1})]),_:1})]),default:t(()=>[Kt]),_:1}),a(e(j),{label:"License"},{prefix:t(()=>[a(e(y),null,{default:t(()=>[a(e(V),null,{default:t(()=>[a(e(Ie))]),_:1})]),_:1})]),default:t(()=>[Wt]),_:1}),a(e(j),{label:"Source Code"},{prefix:t(()=>[a(e(y),null,{default:t(()=>[a(e(V),null,{default:t(()=>[a(e(Ue))]),_:1})]),_:1})]),default:t(()=>[Zt]),_:1}),a(e(j),{label:"Commit"},{prefix:t(()=>[a(e(y),null,{default:t(()=>[a(e(V),null,{default:t(()=>[a(e(Ce))]),_:1})]),_:1})]),default:t(()=>[b("a",{href:`https://github.com/StardustDL/paperead/commit/${e(n).commit}`,style:{"text-decoration":"none",color:"inherit"}},v(e(n).shortCommit),9,Qt)]),_:1}),a(e(j),{label:"Build Date"},{prefix:t(()=>[a(e(y),null,{default:t(()=>[a(e(V),null,{default:t(()=>[a(e(D))]),_:1})]),_:1})]),default:t(()=>[a(e(_e),{time:new Date(e(n).date),type:"relative"},null,8,["time"])]),_:1})]),_:1}))}const Yt={components:{Icon:V,BrandGithub:Ue,At:Se,License:Ie,GitCommit:Ce,Clock:D}},ea=g(h(m({},Yt),{setup:Xt}));const ta=p("Reading"),aa=p("\xA0and "),la=p("Notes"),na=p("Paperead"),sa=p("Welcome to Paperead."),oa=["href"],ra=["href"],ua=["href"];async function ia(o){let l,s;const n=S(),r=H(),d="0.1.0",u=([l,s]=B(()=>n.state.api.metadata()),l=await l,s(),l);return(i,f)=>(c(),_(re,null,{header:t(()=>[a(e(ee),{subtitle:"\u9605\u8BFB\u4E0E\u7B14\u8BB0",onBack:f[0]||(f[0]=()=>e(r).back())},{avatar:t(()=>[a(e(X),{size:"large"},{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(he))]),_:1})]),_:1})]),title:t(()=>[a(e(Me),{type:"info"},{default:t(()=>[ta]),_:1}),aa,a(e(Me),{type:"success"},{default:t(()=>[la]),_:1})]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(e(x),null,{default:t(()=>[na]),_:1})]),_:1})]),footer:t(()=>[sa]),_:1})]),default:t(()=>[a(e(P),{"content-style":"padding: 10px;"},{default:t(()=>[a(e(L),{vertical:"",size:"large"},{default:t(()=>[a(e(pe),{title:"Server Information",hoverable:"",embedded:""},{default:t(()=>[a(e(L),{size:"large"},{default:t(()=>[a(e(j),{label:"Server Endpoint"},{default:t(()=>[b("a",{href:e(n).state.api.baseUrl},v(e(n).state.api.baseUrl),9,oa)]),_:1}),a(e(j),{label:"Server Version"},{default:t(()=>[b("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(u).version}`},v(e(u).version),9,ra)]),_:1}),a(e(j),{label:"Client Version"},{default:t(()=>[b("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(d)}`},v(e(d)),9,ua)]),_:1})]),_:1})]),_:1}),a(e(pe),{title:"Paperead Information",hoverable:"",embedded:""},{default:t(()=>[(c(),_(F,null,{default:t(()=>[a(ea)]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}const da={components:{Home:de,Notebook:he}},ca=g(h(m({},da),{setup:ia}));var _a=I(ca,[["__scopeId","data-v-b2271792"]]);const pa=p("Home");function fa(o){S();const s=Z().params;return(n,r)=>(c(),_(e(vt),{status:"404",title:"Not Found",description:`Path: /${e(s).path.join("/")}`},{footer:t(()=>[a(e(G),null,{icon:t(()=>[a(e(y),null,{default:t(()=>[a(e(de))]),_:1})]),default:t(()=>[a(e(te),{to:"/"},{default:t(()=>[pa]),_:1})]),_:1})]),_:1},8,["description"]))}const ma={components:{Home:de,AlertCircle:gt}},ha=g(h(m({},ma),{setup:fa}));var va=I(ha,[["__scopeId","data-v-32e9239b"]]);const ga=b("span",null,"Creation:",-1),ya=p("\xA0"),ba=b("br",null,null,-1),$a=b("span",null,"Modification:",-1),ka=p("\xA0");function wa(o){const l=o;return(s,n)=>(c(),_(e(yt),null,{trigger:t(()=>[a(e(L),null,{default:t(()=>[a(e(y),{size:"large"},{default:t(()=>[a(e(D))]),_:1}),a(e(_e),{time:l.creation,type:"relative"},null,8,["time"])]),_:1})]),default:t(()=>[ga,ya,a(e(_e),{time:l.creation},null,8,["time"]),ba,$a,ka,a(e(_e),{time:o.modification},null,8,["time"])]),_:1}))}const xa={components:{Clock:D}},Na=g(h(m({},xa),{props:{creation:null,modification:null},setup:wa}));function Sa(o){const l=o;return(s,n)=>(c(),_(e(L),null,{default:t(()=>[a(e(y),{size:"large"},{default:t(()=>[a(e(Pe))]),_:1}),(c(!0),J(le,null,ae(l.tags,r=>(c(),_(e(bt),{key:r,size:"small"},{default:t(()=>[p(v(r),1)]),_:2},1024))),128))]),_:1}))}const Ia={components:{Tag:Pe}},Ua=g(h(m({},Ia),{props:{tags:null},setup:Sa})),fe=g({props:{data:null},setup(o){return(l,s)=>(c(),_(e(L),null,{default:t(()=>[a(Na,{creation:o.data.creation,modification:o.data.modification},null,8,["creation","modification"]),o.data.tags.length>0?(c(),_(Ua,{key:0,tags:o.data.tags},null,8,["tags"])):T("",!0)]),_:1}))}});function Ca(o){const l=o,s=S(),n=N();async function r(){n.value=await s.state.api.materials.get(l.id)}return ne(r),O(l,r),(d,u)=>{const i=se("router-link");return n.value?(c(),_(e(pe),{key:0,hoverable:""},{header:t(()=>[a(i,{to:`/materials/${n.value.id}`},{default:t(()=>[p(v(n.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":t(()=>[]),action:t(()=>[a(fe,{data:n.value.metadata},null,8,["data"])]),default:t(()=>[n.value.content.length>0?(c(),_(e(Le),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[p(v(n.value.content),1)]),_:1})):T("",!0)]),_:1})):T("",!0)}}const Ma={components:{Book:q,Clock:D}},Pa=g(h(m({},Ma),{props:{id:null},setup:Ca}));var La=I(Pa,[["__scopeId","data-v-0a1c2846"]]);function Ba(o){const l=o;S();const s=N([]),n=N(1),r=N(5);function d(){let u=(n.value-1)*r.value;s.value=l.items.slice(u,u+r.value)}return O(n,d),O(r,d),ne(d),O(l,()=>n.value=1),(u,i)=>(c(),_(e(L),{vertical:""},{default:t(()=>[(c(!0),J(le,null,ae(s.value,f=>(c(),_(F,{key:f},{default:t(()=>[Q(u.$slots,"default",{item:f})]),fallback:t(()=>[a(e(ye),{text:"",repeat:2})]),_:2},1024))),128)),a(e($t),{style:{"justify-content":"center","margin-top":"20px"},"item-count":o.items.length,"page-size":r.value,"onUpdate:page-size":i[0]||(i[0]=f=>r.value=f),page:n.value,"onUpdate:page":i[1]||(i[1]=f=>n.value=f),"page-sizes":[5,10,20],"show-quick-jumper":"","show-size-picker":""},null,8,["item-count","page-size","page"])]),_:3}))}const Oa={components:{Book:q,Clock:D}},Fe=g(h(m({},Oa),{props:{items:null},setup:Ba}));const Ra=p("Materials"),Aa=p("Paperead"),ja=p("Materials");async function Ta(o){let l,s;const n=S(),r=H(),d=([l,s]=B(()=>n.state.api.materials.all()),l=await l,s(),l);return(u,i)=>(c(),_(re,null,{header:t(()=>[a(e(ee),{subtitle:"\u6240\u6709\u6750\u6599",onBack:i[0]||(i[0]=()=>e(r).back())},{title:t(()=>[Ra]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(te),{to:"/"},{default:t(()=>[Aa]),_:1})]),_:1}),a(e(x),null,{default:t(()=>[ja]),_:1})]),_:1})]),avatar:t(()=>[a(e(X),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(ge))]),_:1})]),_:1})]),footer:t(()=>[p("Totally "+v(e(d).length)+" material"+v(e(d).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(P),{"content-style":"padding: 10px;","native-scrollbar":!1,style:{height:"100%"}},{default:t(()=>[a(Fe,{items:e(d)},{default:t(f=>[a(La,{id:f.item},null,8,["id"])]),_:1},8,["items"])]),_:1})]),_:1}))}const za={components:{Files:ge}},Da=g(h(m({},za),{setup:Ta}));var Ea=I(Da,[["__scopeId","data-v-b6ee2b10"]]);const Ha=g({props:{value:null},setup(o){const l=o;return ce(),(s,n)=>{const r=se("MarkdownPreviewOutlineItem",!0);return c(),_(e(kt),{title:l.value.title,href:l.value.href},{default:t(()=>[(c(!0),J(le,null,ae(l.value.children,d=>(c(),_(r,{key:d.href,value:d},null,8,["value"]))),128))]),_:1},8,["title","href"])}}});class Fa{constructor(l="",s="",n){R(this,"title","");R(this,"href","");R(this,"children",[]);this.title=l,this.href=s,n==null&&(n=[]),this.children=n}}const Va=g({props:{element:null},setup(o,{expose:l}){const s=o;ce(),A(()=>s.element);const n=N();function r(u){var w,K,z;let f=(w=u.children[0].getAttribute("data-target-id"))!=null?w:"",k=(z=(K=document.getElementById(f))==null?void 0:K.innerText)!=null?z:f,$=new Fa(k,`#${f}`);if(u.children.length>1){let W=u.children[1];for(let E=0;E<W.children.length;E++)$.children.push(r(W.children[E]))}return $}async function d(){if(s.element==null)return!1;let u=document.createElement("div");if(be.outlineRender(s.element,u),u.children.length==0)return n.value=[],!1;let i=u.children[0],f=[];for(let k=0;k<i.children.length;k++)f.push(r(i.children[k]));return n.value=f,!0}return ne(d),O(s,d),l({renderOutline:d}),(u,i)=>(c(),_(e(wt),{type:"block","listen-to":o.element,"ignore-gap":!0},{default:t(()=>[(c(!0),J(le,null,ae(n.value,f=>(c(),_(Ha,{key:f.href,value:f},null,8,["value"]))),128))]),_:1},8,["listen-to"]))}});function Ga(o,{expose:l}){const s=o,n=S(),r=ce(),d=A(()=>{var C;return(C=s.baseUrl)!=null?C:""}),u=A(()=>r.value=="dark"?"dark":"light"),i=N(),f=N(),k=N(!0),$=N(!1),w=A(()=>n.state.readerMode&&r.value!="dark"),K=N(!1);async function z(){await be.preview(i.value,s.value,{mode:u.value,speech:{enable:!0},hljs:{lineNumber:!0,style:u.value=="dark"?"dracula":w.value?"monokailight":"github"},markdown:{linkBase:d.value,mark:!0},theme:{current:u.value}}),K.value=await f.value.renderOutline();{let C=i.value.getElementsByTagName("img");for(let M=0;M<C.length;M++){let U=C.item(M);U!=null&&(U.onclick=ue=>{be.previewImage(U,void 0,u.value)})}}}function W(C=!0){$.value=C}function E(C=!0){n.commit("setReaderMode",C)}return ne(z),O(s,z),O(r,z),O(w,z),l({fullscreen:W,reader:E}),(C,M)=>(c(),_(e(ie),{class:Ut($.value?"fullscreen":"normal"),"has-sider":"","sider-placement":"right"},{default:t(()=>[a(e(P),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1},{default:t(()=>[b("article",{ref:(U,ue)=>{ue.element=U,i.value=U},style:{"padding-bottom":"200px"}},null,512),a(e(Ne),{right:k.value?50:250,style:xt($.value?{"z-index":2}:{})},null,8,["right","style"])]),_:1}),a(e(ke),{style:{height:"100%","background-color":"inherit"},"collapse-mode":"width","collapsed-width":0,width:200,"show-trigger":"bar","default-collapsed":!0,"show-collapsed-content":!1,collapsed:k.value,"onUpdate:collapsed":M[2]||(M[2]=U=>k.value=U)},{default:t(()=>[a(e(P),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1,"content-style":"padding: 10px;"},{default:t(()=>[a(e(L),null,{default:t(()=>[a(e(Nt),null,{default:t(()=>[a(e(G),{title:"Full screen",onClick:M[0]||(M[0]=()=>W(!$.value))},{icon:t(()=>[a(e(y),null,{default:t(()=>[$.value?(c(),_(e(Be),{key:0})):(c(),_(e(Oe),{key:1}))]),_:1})]),_:1}),e(r)!="dark"?(c(),_(e(G),{key:0,title:"Reader mode",onClick:M[1]||(M[1]=()=>E(!e(w)))},{icon:t(()=>[a(e(y),null,{default:t(()=>[e(w)?(c(),_(e(Re),{key:0})):(c(),_(e(Ae),{key:1}))]),_:1})]),_:1})):T("",!0)]),_:1}),St(a(Va,{element:i.value,ref:(U,ue)=>{ue.outline=U,f.value=U}},null,8,["element"]),[[It,K.value]])]),_:1})]),_:1})]),_:1},8,["collapsed"])]),_:1},8,["class"]))}const Ja={components:{Maximize:Oe,Minimize:Be,Bookmark:Ae,BookmarkOff:Re}},qa=g(h(m({},Ja),{props:{value:null,baseUrl:null},setup:Ga}));var Ve=I(qa,[["__scopeId","data-v-690d3201"]]);const Ka=b("thead",null,[b("tr",null,[b("th",null,"Key"),b("th",null,"Value")])],-1);function Wa(o){const l=o;S();const s=A(()=>{let n=[];for(let r in l.data.targets){let d=l.data.targets[r],u=De(d)?`${l.targetBaseUrl}/${d}`:d;n.push({label:()=>ve("a",{target:"_blank",href:u},r),key:r})}return n});return(n,r)=>(c(),_(e(L),null,{default:t(()=>[Object.keys(o.data.extra).length>0?(c(),_(e(Ct),{key:0,placement:"bottom-start",trigger:"hover"},{trigger:t(()=>[a(e(G),{bordered:!1},{icon:t(()=>[a(e(y),null,{default:t(()=>[a(e(je))]),_:1})]),_:1})]),default:t(()=>[a(e(Mt),null,{default:t(()=>[Ka,b("tbody",null,[(c(!0),J(le,null,ae(o.data.extra,(d,u)=>(c(),J("tr",{key:u},[b("td",null,v(u),1),b("td",null,v(d),1)]))),128))])]),_:1})]),_:1})):T("",!0),Object.keys(o.data.targets).length>0?(c(),_(e(Pt),{key:1,options:e(s),placement:"bottom-start"},{default:t(()=>[a(e(G),{bordered:!1},{icon:t(()=>[a(e(y),null,{default:t(()=>[a(e(Te))]),_:1})]),_:1})]),_:1},8,["options"])):T("",!0)]),_:1}))}const Za={components:{Book:q,ArrowRight:Lt,ExternalLink:Te,InfoSquare:je,Notes:oe}},Ge=g(h(m({},Za),{props:{data:null,targetBaseUrl:null},setup:Wa}));const Qa=p("Paperead"),Xa=p("Materials");async function Ya(o){let l,s;const n=Z(),r=H(),d=S(),u=n.params,i=([l,s]=B(()=>d.state.api.materials.get(u.id)),l=await l,s(),l);return document.title=`${i.metadata.name} - Materials - Paperead`,(f,k)=>{const $=se("router-link");return c(),_(re,null,{header:t(()=>[a(e(ee),{subtitle:e(i).id,onBack:k[1]||(k[1]=()=>e(r).back())},{title:t(()=>[p(v(e(i).metadata.name),1)]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a($,{to:"/"},{default:t(()=>[Qa]),_:1})]),_:1}),a(e(x),null,{default:t(()=>[a($,{to:"/materials"},{default:t(()=>[Xa]),_:1})]),_:1}),a(e(x),null,{default:t(()=>[p(v(e(i).id),1)]),_:1})]),_:1})]),avatar:t(()=>[a(e(X),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(q))]),_:1})]),_:1})]),extra:t(()=>[a(e(L),null,{default:t(()=>[a(e(G),{bordered:!1,onClick:k[0]||(k[0]=w=>e(r).push(`/materials/${e(i).id}/notes`))},{icon:t(()=>[a(e(y),null,{default:t(()=>[a(e(oe))]),_:1})]),_:1}),a(Ge,{"target-base-url":e(d).state.api.materials.resolveRelativeUrl(e(i).id),data:e(i).metadata},null,8,["target-base-url","data"])]),_:1})]),footer:t(()=>[a(fe,{data:e(i).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:t(()=>[a(e(P),{style:{height:"100%"}},{default:t(()=>[(c(),_(F,null,{default:t(()=>[a(Ve,{value:e(i).content,"base-url":e(d).state.api.materials.resolveRelativeUrl(e(i).id)},null,8,["value","base-url"])]),fallback:t(()=>[a(e(ye),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const el={components:{Book:q,Notes:oe}},tl=g(h(m({},el),{setup:Ya}));var al=I(tl,[["__scopeId","data-v-2a339f7d"]]);function ll(o){const l=o,s=S(),n=N();async function r(){n.value=await s.state.api.materials.notes(l.id).get(l.noteId)}return ne(r),O(l,r),(d,u)=>{const i=se("router-link");return n.value?(c(),_(e(pe),{key:0,hoverable:""},{header:t(()=>[a(i,{to:`/materials/${l.id}/notes/${n.value.id}`},{default:t(()=>[p(v(n.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":t(()=>[]),action:t(()=>[a(fe,{data:n.value.metadata},null,8,["data"])]),default:t(()=>[n.value.content.length>0?(c(),_(e(Le),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[p(v(n.value.content),1)]),_:1})):T("",!0)]),_:1})):T("",!0)}}const nl={components:{Book:q,Clock:D}},sl=g(h(m({},nl),{props:{id:null,noteId:null},setup:ll}));var ol=I(sl,[["__scopeId","data-v-367695c0"]]);const rl=p("Notes"),ul=p("Paperead"),il=p("Materials"),dl=p("Notes");async function cl(o){let l,s;const n=S(),r=H(),u=Z().params,i=([l,s]=B(()=>n.state.api.materials.notes(u.id).all()),l=await l,s(),l),f=([l,s]=B(()=>n.state.api.materials.get(u.id)),l=await l,s(),l);return document.title=`Notes - ${f.metadata.name} - Materials - Paperead`,(k,$)=>(c(),_(re,null,{header:t(()=>[a(e(ee),{subtitle:"\u6240\u6709\u7B14\u8BB0",onBack:$[0]||($[0]=()=>e(r).back())},{title:t(()=>[rl]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(te),{to:"/"},{default:t(()=>[ul]),_:1})]),_:1}),a(e(x),null,{default:t(()=>[a(e(te),{to:"/materials"},{default:t(()=>[il]),_:1})]),_:1}),a(e(x),null,{default:t(()=>[a(e(te),{to:`/materials/${e(u).id}`},{default:t(()=>[p(v(e(u).id),1)]),_:1},8,["to"])]),_:1}),a(e(x),null,{default:t(()=>[dl]),_:1})]),_:1})]),avatar:t(()=>[a(e(X),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(oe))]),_:1})]),_:1})]),footer:t(()=>[p("Totally "+v(e(i).length)+" note"+v(e(i).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(P),{"content-style":"padding: 10px;","native-scrollbar":!1,style:{height:"100%"}},{default:t(()=>[a(Fe,{items:e(i)},{default:t(w=>[a(ol,{id:e(u).id,noteId:w.item},null,8,["id","noteId"])]),_:1},8,["items"])]),_:1})]),_:1}))}const _l={components:{Notes:oe}},pl=g(h(m({},_l),{setup:cl}));var fl=I(pl,[["__scopeId","data-v-0c7cac2e"]]);const ml=p("Paperead"),hl=p("Materials"),vl=p("Notes");async function gl(o){let l,s;const n=Z(),r=H(),d=S(),u=n.params,i=([l,s]=B(()=>d.state.api.materials.notes(u.id).get(u.noteId)),l=await l,s(),l),f=([l,s]=B(()=>d.state.api.materials.get(u.id)),l=await l,s(),l);return document.title=`${i.metadata.name} - Notes - ${f.metadata.name} - Materials - Paperead`,(k,$)=>{const w=se("router-link");return c(),_(re,null,{header:t(()=>[a(e(ee),{subtitle:e(i).id,onBack:$[0]||($[0]=()=>e(r).back())},{title:t(()=>[p(v(e(i).metadata.name),1)]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a(w,{to:"/"},{default:t(()=>[ml]),_:1})]),_:1}),a(e(x),null,{default:t(()=>[a(w,{to:"/materials"},{default:t(()=>[hl]),_:1})]),_:1}),a(e(x),null,{default:t(()=>[a(w,{to:`/materials/${e(u).id}`},{default:t(()=>[p(v(e(u).id),1)]),_:1},8,["to"])]),_:1}),a(e(x),null,{default:t(()=>[a(w,{to:`/materials/${e(u).id}/notes`},{default:t(()=>[vl]),_:1},8,["to"])]),_:1}),a(e(x),null,{default:t(()=>[p(v(e(i).id),1)]),_:1})]),_:1})]),avatar:t(()=>[a(e(X),null,{default:t(()=>[a(e(y),null,{default:t(()=>[a(e(ze))]),_:1})]),_:1})]),extra:t(()=>[a(Ge,{"target-base-url":e(d).state.api.materials.resolveRelativeUrl(e(u).id,"./notes"),data:e(i).metadata},null,8,["target-base-url","data"])]),footer:t(()=>[a(fe,{data:e(i).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:t(()=>[a(e(P),{style:{height:"100%"}},{default:t(()=>[(c(),_(F,null,{default:t(()=>[a(Ve,{value:e(i).content,"base-url":e(d).state.api.materials.resolveRelativeUrl(e(u).id,"./notes")},null,8,["value","base-url"])]),fallback:t(()=>[a(e(ye),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const yl={components:{FileText:ze}},bl=g(h(m({},yl),{setup:gl}));var $l=I(bl,[["__scopeId","data-v-5ea5c144"]]);const kl=[{path:"/",component:_a,meta:{title:"Home - Paperead"}},{path:"/materials",component:Ea,meta:{title:"Materials - Paperead"}},{path:"/materials/:id",component:al,meta:{title:"Loading... - Materials - Paperead"}},{path:"/materials/:id/notes",component:fl,meta:{title:"Notes - Loading... - Materials - Paperead"}},{path:"/materials/:id/notes/:noteId",component:$l,meta:{title:"Loading... - Notes - Loading... - Materials - Paperead"}},{path:"/:path*",component:va,meta:{title:"Not found - Paperead"}}],Je=Bt({history:Ot(),routes:kl});Je.beforeEach((o,l)=>(o.path==l.path||(document.title=o.meta.title.toString()),!0));const qe=Rt(Jt);qe.use(Je).use(Dt,He);qe.mount("#app");
