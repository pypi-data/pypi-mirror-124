var We=Object.defineProperty,Ke=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var Qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var ve=(r,l,s)=>l in r?We(r,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[l]=s,f=(r,l)=>{for(var s in l||(l={}))Qe.call(l,s)&&ve(r,s,l[s]);if(xe)for(var s of xe(l))Xe.call(l,s)&&ve(r,s,l[s]);return r},m=(r,l)=>Ke(r,Ze(l));var L=(r,l,s)=>(ve(r,typeof l!="symbol"?l+"":l,s),s);import{c as Ye,u as et,d as h,a as V,r as w,o as d,b as _,w as t,e as a,f as e,R as tt,N as we,S as F,g as K,h as ge,i as z,z as at,j as lt,k as nt,l as st,m as rt,n as ot,p as it,q as ut,s as dt,t as ct,v as _t,x as pt,y as ft,A as mt,B as Z,C as Ne,D as M,E as Ie,F as ye,G as P,H as v,I as Se,J as O,L as Ce,K as Ue,M as Me,O as k,P as b,Q as ie,T as ue,U as I,V as de,W as j,X as Q,Y as g,Z as X,_ as Pe,$ as Re,a0 as Y,a1 as A,a2 as H,a3 as ce,a4 as _e,a5 as ee,a6 as pe,a7 as ht,a8 as vt,a9 as gt,aa as Be,ab as G,ac as te,ad as yt,ae,af as E,ag as le,ah as R,ai as Le,aj as bt,ak as be,al as $t,am as kt,an as xt,ao as $e,ap as wt,aq as Nt,ar as ze,as as Oe,at as It,au as St,av as Ct,aw as Ut,ax as Mt,ay as Pt,az as je,aA as Rt,aB as Bt,aC as Ae,aD as ne,aE as Lt,aF as J,aG as fe,aH as zt,aI as Ot,aJ as jt}from"./vendor.1e13a2b0.js";const At=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}};At();function Te(r){return(r==null?void 0:r.startsWith("./"))||(r==null?void 0:r.startsWith("../"))||r=="."||r==".."}class Tt{constructor(l){L(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let n=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return m(f({},n),{metadata:m(f({},n.metadata),{creation:new Date(n.metadata.creation.toString()),modification:new Date(n.metadata.modification.toString())})})}notes(l){return new Et(`${this.baseUrl}/${l}/notes`)}async update(l){let s=m(f({},l),{metadata:m(f({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}`,{method:"DELETE"})}resolveRelativeUrl(l,s="."){return Te(s)?`${this.baseUrl}/${l}/${s}`:s}}class Et{constructor(l){L(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let n=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return m(f({},n),{metadata:m(f({},n.metadata),{creation:new Date(n.metadata.creation.toString()),modification:new Date(n.metadata.modification.toString())})})}async update(l){let s=m(f({},l),{metadata:m(f({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}/`,{method:"DELETE"})}}class Ee{constructor(l){L(this,"baseUrl");L(this,"materials");this.baseUrl=l,this.materials=new Tt(`${this.baseUrl}/materials`)}async metadata(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}}const De=Symbol(),Dt="/api",Vt=Ye({state(){return{api:new Ee(Dt),readerMode:!1}},mutations:{setApiUrl(r,l){r.api=new Ee(l)},setReaderMode(r,l){r.readerMode=l}}});function B(){return et(De)}const Ft=h({setup(r){return V(),w("home"),(l,s)=>(d(),_(F,null,{default:t(()=>[a(e(tt))]),fallback:t(()=>[a(e(we),{size:80,id:"loading-spin",style:{width:"100%"}})]),_:1}))}});var S=(r,l)=>{for(const[s,n]of l)r[s]=n;return r};const Ht=h({setup(r){K();const l=B(),s=ge(),n="#f9f5e9FF",o={common:{baseColor:n,popoverColor:n,tableColor:n,cardColor:n,modalColor:n,bodyColor:n,tagColor:n,inputColor:n,codeColor:n,tabColor:n,actionColor:n,tableHeaderColor:n,hoverColor:n,inputColorDisabled:n}},u=z(()=>l.state.readerMode&&s.value!="dark"),i=z(()=>{let c=navigator.language;return c.indexOf("zh")!=-1?{lang:at,date:lt}:c.indexOf("ru")!=-1?{lang:nt,date:st}:c.indexOf("uk")!=-1?{lang:rt,date:ot}:c.indexOf("ja")!=-1?{lang:it,date:ut}:{lang:dt,date:ct}});return(c,p)=>(d(),_(e(pt),{style:{height:"100%"},theme:e(s)=="dark"?e(_t):null,"theme-overrides":e(u)?o:{},locale:e(i).lang,"date-locale":e(i).date},{default:t(()=>[a(e(mt),null,{default:t(()=>[a(e(ft)),(d(),_(F,null,{default:t(()=>[a(Ft)]),fallback:t(()=>[a(e(we),{size:80,id:"loading-spin"})]),_:1}))]),_:1})]),_:1},8,["theme","theme-overrides","locale","date-locale"]))}});var Gt=S(Ht,[["__scopeId","data-v-4dea0e0f"]]);const Jt=h({props:{scroll:null},setup(r){const l=r,s=z(()=>{var n;return(n=l.scroll)!=null?n:!1});return(n,o)=>e(s)?(d(),_(e(ye),{key:0,style:{height:"100%"},"native-scrollbar":!1},{default:t(()=>[a(e(Ne),{bordered:"",class:"page-header"},{default:t(()=>[Z(n.$slots,"header",{},void 0,!0)]),_:3}),a(e(M),null,{default:t(()=>[Z(n.$slots,"default",{},void 0,!0)]),_:3}),a(e(Ie),{right:100})]),_:3})):(d(),_(e(ye),{key:1,style:{height:"100%"}},{default:t(()=>[a(e(Ne),{bordered:"",class:"page-header"},{default:t(()=>[Z(n.$slots,"header",{},void 0,!0)]),_:3}),a(e(M),{class:"page-content-scroll"},{default:t(()=>[Z(n.$slots,"default",{},void 0,!0)]),_:3})]),_:3}))}});var se=S(Jt,[["__scopeId","data-v-6b14b3e8"]]);const qt=k("a",{href:"https://www.stardustdl.top/",style:{"text-decoration":"none",color:"inherit"}},"StardustDL",-1),Wt=k("a",{href:"https://github.com/StardustDL/paperead/blob/master/LICENSE",style:{"text-decoration":"none",color:"inherit"}},"MPL-2.0",-1),Kt=k("a",{href:"https://github.com/StardustDL/paperead",style:{"text-decoration":"none",color:"inherit"}},"GitHub",-1),Zt=["href"];async function Qt(r){let l,s;const n=([l,s]=P(async()=>([l,s]=P(()=>fetch("/build.json")),l=await l,s(),l).json()),l=await l,s(),l);return(o,u)=>(d(),_(e(I),{size:"large"},{default:t(()=>[a(e(O),{label:"Author"},{prefix:t(()=>[a(e(v),null,{default:t(()=>[a(e(Se))]),_:1})]),default:t(()=>[qt]),_:1}),a(e(O),{label:"License"},{prefix:t(()=>[a(e(v),null,{default:t(()=>[a(e(Ce))]),_:1})]),default:t(()=>[Wt]),_:1}),a(e(O),{label:"Source Code"},{prefix:t(()=>[a(e(v),null,{default:t(()=>[a(e(Ue))]),_:1})]),default:t(()=>[Kt]),_:1}),a(e(O),{label:"Commit"},{prefix:t(()=>[a(e(v),null,{default:t(()=>[a(e(Me))]),_:1})]),default:t(()=>[k("a",{href:`https://github.com/StardustDL/paperead/commit/${e(n).commit}`,style:{"text-decoration":"none",color:"inherit"}},b(e(n).shortCommit),9,Zt)]),_:1}),a(e(O),{label:"Build Date"},{prefix:t(()=>[a(e(v),null,{default:t(()=>[a(e(ie))]),_:1})]),default:t(()=>[a(e(ue),{time:new Date(e(n).date),type:"relative"},null,8,["time"])]),_:1})]),_:1}))}const Xt={components:{BrandGithub:Ue,At:Se,License:Ce,GitCommit:Me,Clock:ie}},Yt=h(m(f({},Xt),{setup:Qt})),ea=g(" Paperead ");function ta(r){return(l,s)=>(d(),_(e(Q),null,{default:t(()=>[a(e(j),{to:"/"},{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(de))]),_:1}),ea]),_:1})]),_:1}))}const aa={components:{HomeIcon:de}},re=h(m(f({},aa),{setup:ta}));const la=g("Reading"),na=g("\xA0and "),sa=g("Notes"),ra=g("Welcome to Paperead."),oa=["href"],ia=["href"],ua=["href"];async function da(r){let l,s;const n=B(),o=V(),u=ge(),i=z(()=>n.state.readerMode&&u.value!="dark");function c($=!0){n.commit("setReaderMode",$)}const p="0.1.1",y=([l,s]=P(()=>n.state.api.metadata()),l=await l,s(),l);return($,x)=>(d(),_(se,null,{header:t(()=>[a(e(ee),{subtitle:"\u9605\u8BFB\u4E0E\u7B14\u8BB0",onBack:x[2]||(x[2]=()=>e(o).back())},{avatar:t(()=>[a(e(X),null,{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(Pe))]),_:1})]),_:1})]),title:t(()=>[a(e(Re),{type:"info"},{default:t(()=>[la]),_:1}),na,a(e(Re),{type:"success"},{default:t(()=>[sa]),_:1})]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(re)]),_:1})]),extra:t(()=>[a(e(I),null,{default:t(()=>[a(e(A),{size:"large",bordered:!1,onClick:x[0]||(x[0]=D=>e(o).push("/materials")),title:"Materials"},{icon:t(()=>[a(e(v),null,{default:t(()=>[a(e(H))]),_:1})]),_:1}),a(e(A),{size:"large",bordered:!1,title:"Reader mode",onClick:x[1]||(x[1]=()=>c(!e(i)))},{icon:t(()=>[a(e(v),null,{default:t(()=>[e(i)?(d(),_(e(ce),{key:0})):(d(),_(e(_e),{key:1}))]),_:1})]),_:1})]),_:1})]),footer:t(()=>[ra]),_:1})]),default:t(()=>[a(e(M),{"content-style":"padding: 10px;"},{default:t(()=>[a(e(I),{vertical:"",size:"large"},{default:t(()=>[a(e(pe),{title:"Server Information",hoverable:"",embedded:""},{default:t(()=>[a(e(I),{size:"large"},{default:t(()=>[a(e(O),{label:"Server Endpoint"},{default:t(()=>[k("a",{href:e(n).state.api.baseUrl},b(e(n).state.api.baseUrl),9,oa)]),_:1}),a(e(O),{label:"Server Version"},{default:t(()=>[k("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(y).version}`},b(e(y).version),9,ia)]),_:1}),a(e(O),{label:"Client Version"},{default:t(()=>[k("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(p)}`},b(e(p)),9,ua)]),_:1})]),_:1})]),_:1}),a(e(pe),{title:"Paperead Information",hoverable:"",embedded:""},{default:t(()=>[(d(),_(F,null,{default:t(()=>[a(Yt)]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}const ca={components:{Notebook:Pe,MaterialsIcon:H,EnableReaderIcon:_e,DisableReaderIcon:ce}},_a=h(m(f({},ca),{setup:da}));var pa=S(_a,[["__scopeId","data-v-024387c1"]]);const fa=g("Home");function ma(r){const s=K().params;return(n,o)=>(d(),_(e(ht),{status:"404",title:"Not Found",description:`Path: /${e(s).path.join("/")}`},{footer:t(()=>[a(e(A),null,{icon:t(()=>[a(e(v),null,{default:t(()=>[a(e(de))]),_:1})]),default:t(()=>[a(e(j),{to:"/"},{default:t(()=>[fa]),_:1})]),_:1})]),_:1},8,["description"]))}const ha={components:{HomeIcon:de,AlertCircle:vt}},va=h(m(f({},ha),{setup:ma}));var ga=S(va,[["__scopeId","data-v-2c7fc51a"]]);const ya=k("span",null,"Creation:",-1),ba=g("\xA0 "),$a=k("br",null,null,-1),ka=k("span",null,"Modification:",-1),xa=g("\xA0 ");function wa(r){const l=r;return(s,n)=>(d(),_(e(gt),null,{trigger:t(()=>[a(e(I),null,{default:t(()=>[a(e(v),{size:"large"},{default:t(()=>[a(e(ie))]),_:1}),a(e(ue),{time:l.creation,type:"relative"},null,8,["time"])]),_:1})]),default:t(()=>[ya,ba,a(e(ue),{time:l.creation},null,8,["time"]),$a,ka,xa,a(e(ue),{time:r.modification},null,8,["time"])]),_:1}))}const Na={components:{Clock:ie}},Ia=h(m(f({},Na),{props:{creation:null,modification:null},setup:wa}));function Sa(r){const l=r;return(s,n)=>(d(),_(e(I),null,{default:t(()=>[a(e(v),{size:"large"},{default:t(()=>[a(e(Be))]),_:1}),(d(!0),G(ae,null,te(l.tags,o=>(d(),_(e(yt),{key:o,size:"small"},{default:t(()=>[g(b(o),1)]),_:2},1024))),128))]),_:1}))}const Ca={components:{Tag:Be}},Ua=h(m(f({},Ca),{props:{tags:null},setup:Sa})),me=h({props:{data:null},setup(r){return(l,s)=>(d(),_(e(I),null,{default:t(()=>[a(Ia,{creation:r.data.creation,modification:r.data.modification},null,8,["creation","modification"]),r.data.tags.length>0?(d(),_(Ua,{key:0,tags:r.data.tags},null,8,["tags"])):E("",!0)]),_:1}))}});const Ma=h({props:{id:null},setup(r){const l=r,s=B(),n=w();async function o(){n.value=await s.state.api.materials.get(l.id)}return le(o),R(l,o),(u,i)=>n.value?(d(),_(e(pe),{key:0,hoverable:""},{header:t(()=>[a(e(j),{to:`/materials/${n.value.id}`},{default:t(()=>[g(b(n.value.metadata.name),1)]),_:1},8,["to"])]),action:t(()=>[a(me,{data:n.value.metadata},null,8,["data"])]),default:t(()=>[n.value.content.length>0?(d(),_(e(Le),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[g(b(n.value.content),1)]),_:1})):E("",!0)]),_:1})):E("",!0)}});var Pa=S(Ma,[["__scopeId","data-v-468e43f2"]]);const Ve=h({props:{items:null},setup(r){const l=r,s=w([]),n=w(1),o=w(5);function u(){let i=(n.value-1)*o.value;s.value=l.items.slice(i,i+o.value)}return R(n,u),R(o,u),le(u),R(l,()=>n.value=1),(i,c)=>(d(),_(e(I),{vertical:""},{default:t(()=>[(d(!0),G(ae,null,te(s.value,p=>(d(),_(F,{key:p},{default:t(()=>[Z(i.$slots,"default",{item:p})]),fallback:t(()=>[a(e(be),{text:"",repeat:2})]),_:2},1024))),128)),a(e(bt),{style:{"justify-content":"center","margin-top":"20px"},"item-count":r.items.length,"page-size":o.value,"onUpdate:page-size":c[0]||(c[0]=p=>o.value=p),page:n.value,"onUpdate:page":c[1]||(c[1]=p=>n.value=p),"page-sizes":[5,10,20],"show-quick-jumper":"","show-size-picker":""},null,8,["item-count","page-size","page"])]),_:3}))}}),Ra=g(" Materials ");function Ba(r){return(l,s)=>(d(),_(e(Q),null,{default:t(()=>[a(e(j),{to:"/materials"},{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(H))]),_:1}),Ra]),_:1})]),_:1}))}const La={components:{MaterialsIcon:H}},he=h(m(f({},La),{setup:Ba}));const za=g("Materials");async function Oa(r){let l,s;const n=B(),o=V(),u=([l,s]=P(()=>n.state.api.materials.all()),l=await l,s(),l);return(i,c)=>(d(),_(se,null,{header:t(()=>[a(e(ee),{subtitle:"\u6240\u6709\u6750\u6599",onBack:c[0]||(c[0]=()=>e(o).back())},{title:t(()=>[za]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(re),a(he)]),_:1})]),avatar:t(()=>[a(e(X),null,{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(H))]),_:1})]),_:1})]),footer:t(()=>[g("Totally "+b(e(u).length)+" material"+b(e(u).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(M),{"content-style":"padding: 10px;","native-scrollbar":!1,style:{height:"100%"}},{default:t(()=>[a(Ve,{items:e(u)},{default:t(p=>[a(Pa,{id:p.item},null,8,["id"])]),_:1},8,["items"])]),_:1})]),_:1}))}const ja={components:{MaterialsIcon:H}},Aa=h(m(f({},ja),{setup:Oa}));var Ta=S(Aa,[["__scopeId","data-v-23e8e8fa"]]);const Ea=h({props:{value:null},setup(r){const l=r;return(s,n)=>{const o=$t("MarkdownPreviewOutlineItem",!0);return d(),_(e(kt),{title:l.value.title,href:l.value.href},{default:t(()=>[(d(!0),G(ae,null,te(l.value.children,u=>(d(),_(o,{key:u.href,value:u},null,8,["value"]))),128))]),_:1},8,["title","href"])}}});class Da{constructor(l="",s="",n){L(this,"title","");L(this,"href","");L(this,"children",[]);this.title=l,this.href=s,n==null&&(n=[]),this.children=n}}const Va=h({props:{element:null},setup(r,{expose:l}){const s=r,n=w();function o(i){var x,D,T;let p=(x=i.children[0].getAttribute("data-target-id"))!=null?x:"",y=(T=(D=document.getElementById(p))==null?void 0:D.innerText)!=null?T:p,$=new Da(y,`#${p}`);if(i.children.length>1){let q=i.children[1];for(let W=0;W<q.children.length;W++)$.children.push(o(q.children[W]))}return $}async function u(){if(s.element==null)return!1;let i=document.createElement("div");if($e.outlineRender(s.element,i),i.children.length==0)return n.value=[],!1;let c=i.children[0],p=[];for(let y=0;y<c.children.length;y++)p.push(o(c.children[y]));return n.value=p,!0}return le(u),R(s,u),l({renderOutline:u}),(i,c)=>(d(),_(e(xt),{type:"block","listen-to":r.element,"ignore-gap":!0},{default:t(()=>[(d(!0),G(ae,null,te(n.value,p=>(d(),_(Ea,{key:p.href,value:p},null,8,["value"]))),128))]),_:1},8,["listen-to"]))}});function Fa(r,{expose:l}){const s=r,n=B(),o=ge(),u=z(()=>{var C;return(C=s.baseUrl)!=null?C:""}),i=z(()=>o.value=="dark"?"dark":"light"),c=w(),p=w(),y=w(!0),$=w(!1),x=z(()=>n.state.readerMode&&o.value!="dark"),D=w(!1);async function T(){await $e.preview(c.value,s.value,{mode:i.value,speech:{enable:!0},hljs:{lineNumber:!0,style:i.value=="dark"?"dracula":x.value?"monokailight":"github"},markdown:{linkBase:u.value,mark:!0},theme:{current:i.value}}),D.value=await p.value.renderOutline();{let C=c.value.getElementsByTagName("img");for(let U=0;U<C.length;U++){let N=C.item(U);N!=null&&(N.onclick=oe=>{$e.previewImage(N,void 0,i.value)})}}}function q(C=!0){$.value=C}function W(C=!0){n.commit("setReaderMode",C)}return le(T),R(s,T),R(o,T),R(x,T),l({fullscreen:q}),(C,U)=>(d(),_(e(ye),{class:Ut($.value?"fullscreen":"normal"),"has-sider":"","sider-placement":"right"},{default:t(()=>[a(e(M),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1},{default:t(()=>[k("article",{ref:(N,oe)=>{oe.element=N,c.value=N},style:{"padding-bottom":"200px"}},null,512),a(e(Ie),{right:y.value?50:250,style:wt($.value?{"z-index":2}:{})},null,8,["right","style"])]),_:1}),a(e(Ct),{style:{height:"100%","background-color":"inherit"},"collapse-mode":"width","collapsed-width":0,width:200,"show-trigger":"bar","default-collapsed":!0,"show-collapsed-content":!1,collapsed:y.value,"onUpdate:collapsed":U[2]||(U[2]=N=>y.value=N)},{default:t(()=>[a(e(M),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1,"content-style":"padding: 10px;"},{default:t(()=>[a(e(I),null,{default:t(()=>[a(e(Nt),null,{default:t(()=>[a(e(A),{title:"Full screen",onClick:U[0]||(U[0]=()=>q(!$.value))},{icon:t(()=>[a(e(v),null,{default:t(()=>[$.value?(d(),_(e(ze),{key:0})):(d(),_(e(Oe),{key:1}))]),_:1})]),_:1}),a(e(A),{title:"Reader mode",onClick:U[1]||(U[1]=()=>W(!e(x)))},{icon:t(()=>[a(e(v),null,{default:t(()=>[e(x)?(d(),_(e(ce),{key:0})):(d(),_(e(_e),{key:1}))]),_:1})]),_:1})]),_:1}),It(a(Va,{element:c.value,ref:(N,oe)=>{oe.outline=N,p.value=N}},null,8,["element"]),[[St,D.value]])]),_:1})]),_:1})]),_:1},8,["collapsed"])]),_:1},8,["class"]))}const Ha={components:{Maximize:Oe,Minimize:ze,EnableReaderIcon:_e,DisableReaderIcon:ce}},Ga=h(m(f({},Ha),{props:{value:null,baseUrl:null},setup:Fa}));var Fe=S(Ga,[["__scopeId","data-v-1c81f9be"]]);const Ja=k("thead",null,[k("tr",null,[k("th",null,"Key"),k("th",null,"Value")])],-1);function qa(r){const l=r,s=z(()=>{let n=[];for(let o in l.data.targets){let u=l.data.targets[o],i=Te(u)?`${l.targetBaseUrl}/${u}`:u;n.push({label:()=>Mt("a",{target:"_blank",href:i},o),key:o})}return n});return(n,o)=>(d(),_(e(I),null,{default:t(()=>[Object.keys(r.data.extra).length>0?(d(),_(e(Pt),{key:0,placement:"bottom-start",trigger:"hover"},{trigger:t(()=>[a(e(A),{bordered:!1,size:"large",title:"Extra"},{icon:t(()=>[a(e(v),null,{default:t(()=>[a(e(je))]),_:1})]),_:1})]),default:t(()=>[a(e(Rt),null,{default:t(()=>[Ja,k("tbody",null,[(d(!0),G(ae,null,te(r.data.extra,(u,i)=>(d(),G("tr",{key:i},[k("td",null,b(i),1),k("td",null,b(u),1)]))),128))])]),_:1})]),_:1})):E("",!0),Object.keys(r.data.targets).length>0?(d(),_(e(Bt),{key:1,options:e(s),placement:"bottom-start"},{default:t(()=>[a(e(A),{bordered:!1,size:"large",title:"Targets"},{icon:t(()=>[a(e(v),null,{default:t(()=>[a(e(Ae))]),_:1})]),_:1})]),_:1},8,["options"])):E("",!0)]),_:1}))}const Wa={components:{Book:ne,ArrowRight:Lt,ExternalLink:Ae,InfoSquare:je}},He=h(m(f({},Wa),{props:{data:null,targetBaseUrl:null},setup:qa}));function Ka(r){return(l,s)=>(d(),_(e(Q),null,{default:t(()=>[a(e(j),{to:`/materials/${r.id}`},{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(ne))]),_:1}),g(" "+b(r.id),1)]),_:1},8,["to"])]),_:1}))}const Za={components:{MaterialIcon:ne}},ke=h(m(f({},Za),{props:{id:null},setup:Ka}));async function Qa(r){let l,s;const n=K(),o=V(),u=B(),i=n.params,c=([l,s]=P(()=>u.state.api.materials.get(i.id)),l=await l,s(),l);return document.title=`${c.metadata.name} - Materials - Paperead`,(p,y)=>(d(),_(se,null,{header:t(()=>[a(e(ee),{subtitle:e(c).id,onBack:y[1]||(y[1]=()=>e(o).back())},{title:t(()=>[g(b(e(c).metadata.name),1)]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(re),a(he),a(ke,{id:e(c).id},null,8,["id"])]),_:1})]),avatar:t(()=>[a(e(X),null,{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(ne))]),_:1})]),_:1})]),extra:t(()=>[a(e(I),null,{default:t(()=>[a(e(A),{size:"large",bordered:!1,onClick:y[0]||(y[0]=$=>e(o).push(`/materials/${e(c).id}/notes`)),title:"Notes"},{icon:t(()=>[a(e(v),null,{default:t(()=>[a(e(J))]),_:1})]),_:1}),a(He,{"target-base-url":e(u).state.api.materials.resolveRelativeUrl(e(c).id),data:e(c).metadata},null,8,["target-base-url","data"])]),_:1})]),footer:t(()=>[a(me,{data:e(c).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:t(()=>[a(e(M),{style:{height:"100%"}},{default:t(()=>[(d(),_(F,null,{default:t(()=>[a(Fe,{value:e(c).content,"base-url":e(u).state.api.materials.resolveRelativeUrl(e(c).id)},null,8,["value","base-url"])]),fallback:t(()=>[a(e(be),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1}))}const Xa={components:{MaterialIcon:ne,NotesIcon:J}},Ya=h(m(f({},Xa),{setup:Qa}));var el=S(Ya,[["__scopeId","data-v-aa5e40de"]]);const tl=h({props:{id:null,noteId:null},setup(r){const l=r,s=B(),n=w();async function o(){n.value=await s.state.api.materials.notes(l.id).get(l.noteId)}return le(o),R(l,o),(u,i)=>n.value?(d(),_(e(pe),{key:0,hoverable:""},{header:t(()=>[a(e(j),{to:`/materials/${l.id}/notes/${n.value.id}`},{default:t(()=>[g(b(n.value.metadata.name),1)]),_:1},8,["to"])]),action:t(()=>[a(me,{data:n.value.metadata},null,8,["data"])]),default:t(()=>[n.value.content.length>0?(d(),_(e(Le),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[g(b(n.value.content),1)]),_:1})):E("",!0)]),_:1})):E("",!0)}});var al=S(tl,[["__scopeId","data-v-426f1df6"]]);const ll=g(" Notes ");function nl(r){return(l,s)=>(d(),_(e(Q),null,{default:t(()=>[a(e(j),{to:`/materials/${r.id}/notes`},{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(J))]),_:1}),ll]),_:1},8,["to"])]),_:1}))}const sl={components:{NotesIcon:J}},Ge=h(m(f({},sl),{props:{id:null},setup:nl}));const rl=g("Notes");async function ol(r){let l,s;const n=B(),o=V(),i=K().params,c=([l,s]=P(()=>n.state.api.materials.notes(i.id).all()),l=await l,s(),l),p=([l,s]=P(()=>n.state.api.materials.get(i.id)),l=await l,s(),l);return document.title=`Notes - ${p.metadata.name} - Materials - Paperead`,(y,$)=>(d(),_(se,null,{header:t(()=>[a(e(ee),{subtitle:"\u6240\u6709\u7B14\u8BB0",onBack:$[0]||($[0]=()=>e(o).back())},{title:t(()=>[rl]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(re),a(he),a(ke,{id:e(i).id},null,8,["id"]),a(Ge,{id:e(i).id},null,8,["id"])]),_:1})]),avatar:t(()=>[a(e(X),null,{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(J))]),_:1})]),_:1})]),footer:t(()=>[g("Totally "+b(e(c).length)+" note"+b(e(c).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(M),{"content-style":"padding: 10px;","native-scrollbar":!1,style:{height:"100%"}},{default:t(()=>[a(Ve,{items:e(c)},{default:t(x=>[a(al,{id:e(i).id,noteId:x.item},null,8,["id","noteId"])]),_:1},8,["items"])]),_:1})]),_:1}))}const il={components:{NotesIcon:J}},ul=h(m(f({},il),{setup:ol}));var dl=S(ul,[["__scopeId","data-v-7d23d45c"]]);function cl(r){return(l,s)=>(d(),_(e(Q),null,{default:t(()=>[a(e(j),{to:`/materials/${r.id}/notes/${r.noteId}`},{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(fe))]),_:1}),g(" "+b(r.noteId),1)]),_:1},8,["to"])]),_:1}))}const _l={components:{NoteIcon:fe}},pl=h(m(f({},_l),{props:{id:null,noteId:null},setup:cl}));async function fl(r){let l,s;const n=K(),o=V(),u=B(),i=n.params,c=([l,s]=P(()=>u.state.api.materials.notes(i.id).get(i.noteId)),l=await l,s(),l),p=([l,s]=P(()=>u.state.api.materials.get(i.id)),l=await l,s(),l);return document.title=`${c.metadata.name} - Notes - ${p.metadata.name} - Materials - Paperead`,(y,$)=>(d(),_(se,null,{header:t(()=>[a(e(ee),{subtitle:e(c).id,onBack:$[0]||($[0]=()=>e(o).back())},{title:t(()=>[g(b(e(c).metadata.name),1)]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(re),a(he),a(ke,{id:e(i).id},null,8,["id"]),a(Ge,{id:e(i).id},null,8,["id"]),a(pl,{id:e(i).id,"note-id":e(c).id},null,8,["id","note-id"])]),_:1})]),avatar:t(()=>[a(e(X),null,{default:t(()=>[a(e(v),null,{default:t(()=>[a(e(fe))]),_:1})]),_:1})]),extra:t(()=>[a(He,{"target-base-url":e(u).state.api.materials.resolveRelativeUrl(e(i).id,"./notes"),data:e(c).metadata},null,8,["target-base-url","data"])]),footer:t(()=>[a(me,{data:e(c).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:t(()=>[a(e(M),{style:{height:"100%"}},{default:t(()=>[(d(),_(F,null,{default:t(()=>[a(Fe,{value:e(c).content,"base-url":e(u).state.api.materials.resolveRelativeUrl(e(i).id,"./notes")},null,8,["value","base-url"])]),fallback:t(()=>[a(e(be),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1}))}const ml={components:{NoteIcon:fe}},hl=h(m(f({},ml),{setup:fl}));var vl=S(hl,[["__scopeId","data-v-17dc7fac"]]);const gl=[{path:"/",component:pa,meta:{title:"Home - Paperead"}},{path:"/materials",component:Ta,meta:{title:"Materials - Paperead"}},{path:"/materials/:id",component:el,meta:{title:"Loading... - Materials - Paperead"}},{path:"/materials/:id/notes",component:dl,meta:{title:"Notes - Loading... - Materials - Paperead"}},{path:"/materials/:id/notes/:noteId",component:vl,meta:{title:"Loading... - Notes - Loading... - Materials - Paperead"}},{path:"/:path*",component:ga,meta:{title:"Not found - Paperead"}}],Je=zt({history:Ot(),routes:gl});Je.beforeEach((r,l)=>(r.path==l.path||(document.title=r.meta.title.toString()),!0));const qe=jt(Gt);qe.use(Je).use(Vt,De);qe.mount("#app");
