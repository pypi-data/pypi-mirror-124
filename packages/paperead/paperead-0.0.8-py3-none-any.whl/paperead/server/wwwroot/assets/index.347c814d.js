var Qe=Object.defineProperty,Xe=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var _e=(o,l,n)=>l in o?Qe(o,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[l]=n,m=(o,l)=>{for(var n in l||(l={}))Ze.call(l,n)&&_e(o,n,l[n]);if(be)for(var n of be(l))et.call(l,n)&&_e(o,n,l[n]);return o},h=(o,l)=>Xe(o,Ye(l));var C=(o,l,n)=>(_e(o,typeof l!="symbol"?l+"":l,n),n);import{c as tt,u as at,d as y,w as j,o as c,a as _,b as t,e as a,f as e,N as $,I as z,A as xe,g as U,L as ke,B as we,G as Ne,h as v,t as g,C as E,i as ue,j as O,k as H,r as S,l as V,S as F,m as G,n as Se,p as Ie,q as pe,s as W,v as Ue,x as lt,y as M,R as nt,z as Me,D as p,E as fe,F as me,H as J,J as Q,K as ie,M as st,O as ot,P as rt,Q as ut,T,U as X,V as de,W as Be,X as Y,Y as N,Z,_ as it,$ as dt,a0 as ct,a1 as Le,a2 as q,a3 as ee,a4 as _t,a5 as te,a6 as D,a7 as ae,a8 as R,a9 as le,aa as Pe,ab as Ae,ac as K,ad as pt,ae as he,af as ft,ag as mt,ah as ve,ai as ht,aj as je,ak as Oe,al as Re,am as Ce,an as vt,ao as gt,ap as yt,aq as Te,ar as $t,as as bt,at as De,au as xt,av as ne,aw as Ee,ax as kt,ay as wt,az as Nt}from"./vendor.d645dfc6.js";const St=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}};St();function ze(o){return(o==null?void 0:o.startsWith("./"))||(o==null?void 0:o.startsWith("../"))||o=="."||o==".."}class It{constructor(l){C(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let s=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return h(m({},s),{metadata:h(m({},s.metadata),{creation:new Date(s.metadata.creation.toString()),modification:new Date(s.metadata.modification.toString())})})}notes(l){return new Ut(`${this.baseUrl}/${l}/notes`)}async update(l){let n=h(m({},l),{metadata:h(m({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}`,{method:"DELETE"})}resolveRelativeUrl(l,n="."){return ze(n)?`${this.baseUrl}/${l}/${n}`:n}}class Ut{constructor(l){C(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let s=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return h(m({},s),{metadata:h(m({},s.metadata),{creation:new Date(s.metadata.creation.toString()),modification:new Date(s.metadata.modification.toString())})})}async update(l){let n=h(m({},l),{metadata:h(m({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}/`,{method:"DELETE"})}}class He{constructor(l){C(this,"baseUrl");C(this,"materials");this.baseUrl=l,this.materials=new It(`${this.baseUrl}/materials`)}async metadata(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}}const Ve=Symbol(),Mt="/api",Bt=tt({state(){return{api:new He(Mt),readerMode:!1}},mutations:{setApiUrl(o,l){o.api=new He(l)},setReaderMode(o,l){o.readerMode=l}}});function B(){return at(Ve)}const Lt=v("a",{href:"https://www.stardustdl.top/",style:{"text-decoration":"none",color:"inherit"}},"StardustDL",-1),Pt=v("a",{href:"https://github.com/StardustDL/paperead/blob/master/LICENSE",style:{"text-decoration":"none",color:"inherit"}},"MPL-2.0",-1),At=v("a",{href:"https://github.com/StardustDL/paperead",style:{"text-decoration":"none",color:"inherit"}},"GitHub",-1),jt=["href"];async function Ot(o){let l,n;const s=([l,n]=j(async()=>([l,n]=j(()=>fetch("/build.json")),l=await l,n(),l).json()),l=await l,n(),l);return(r,i)=>(c(),_(e(O),null,{default:t(()=>[a(e(U),{text:""},{icon:t(()=>[a(e($),null,{default:t(()=>[a(e(z),null,{default:t(()=>[a(e(xe))]),_:1})]),_:1})]),default:t(()=>[Lt]),_:1}),a(e(U),{text:""},{icon:t(()=>[a(e($),null,{default:t(()=>[a(e(z),null,{default:t(()=>[a(e(ke))]),_:1})]),_:1})]),default:t(()=>[Pt]),_:1}),a(e(U),{text:""},{icon:t(()=>[a(e($),null,{default:t(()=>[a(e(z),null,{default:t(()=>[a(e(we))]),_:1})]),_:1})]),default:t(()=>[At]),_:1}),a(e(U),{text:""},{icon:t(()=>[a(e($),null,{default:t(()=>[a(e(z),null,{default:t(()=>[a(e(Ne))]),_:1})]),_:1})]),default:t(()=>[v("a",{href:`https://github.com/StardustDL/paperead/commit/${e(s).commit}`,style:{"text-decoration":"none",color:"inherit"}},g(e(s).shortCommit),9,jt)]),_:1}),a(e(U),{text:""},{icon:t(()=>[a(e($),null,{default:t(()=>[a(e(z),null,{default:t(()=>[a(e(E))]),_:1})]),_:1})]),default:t(()=>[a(e(ue),{time:new Date(e(s).date),type:"relative"},null,8,["time"])]),_:1})]),_:1}))}const Rt={components:{Icon:z,BrandGithub:we,At:xe,License:ke,GitCommit:Ne,Clock:E}},Ct=y(h(m({},Rt),{setup:Ot}));var L=(o,l)=>{for(const[n,s]of l)o[n]=s;return o};const Tt={class:"status"},Dt=p("Reading"),Et=p("\xA0and "),zt=p("Notes");function Ht(o){const l=H();function n(u){return()=>fe($,null,{default:()=>fe(u)})}const s=S("home"),r=[{label:"Home",key:"home",icon:n(J),route:"/"},{label:"Materials",key:"materials",icon:n(me),route:"/materials"}];async function i(u,d){await l.push(d.route)}return(u,d)=>(c(),_(e(W),{style:{height:"100%"}},{default:t(()=>[a(e(pe),{style:{padding:"8px",height:"55px"},bordered:""},{default:t(()=>[a(e(V),{subtitle:"\u9605\u8BFB\u4E0E\u7B14\u8BB0"},{extra:t(()=>[v("div",Tt,[(c(),_(F,null,{default:t(()=>[a(Ct)]),_:1}))])]),avatar:t(()=>[a(e(G),{size:"large"},{default:t(()=>[a(e($),null,{default:t(()=>[a(e(Se))]),_:1})]),_:1})]),title:t(()=>[a(e(Ie),{type:"info"},{default:t(()=>[Dt]),_:1}),Et,a(e(Ie),{type:"success"},{default:t(()=>[zt]),_:1})]),_:1})]),_:1}),a(e(M),{style:{height:"calc(100% - 55px)"}},{default:t(()=>[a(e(W),{"has-sider":"",style:{height:"100%"}},{default:t(()=>[a(e(Ue),{"collapse-mode":"width","collapsed-width":48,width:180,"show-trigger":"bar",bordered:"","default-collapsed":!0,"native-scrollbar":!1,style:{"z-index":"auto"}},{default:t(()=>[a(e(lt),{value:s.value,"onUpdate:value":[d[0]||(d[0]=f=>s.value=f),i],options:r},null,8,["value"])]),_:1}),a(e(M),null,{default:t(()=>[(c(),_(F,null,{default:t(()=>[a(e(nt))]),fallback:t(()=>[a(e(Me),{size:80,id:"loading-spin",style:{width:"100%"}})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}const Vt={components:{Notebook:Se}},Ft=y(h(m({},Vt),{setup:Ht}));var Gt=L(Ft,[["__scopeId","data-v-723bf0ca"]]);const qt=y({setup(o){Q();const l=ie();return(n,s)=>(c(),_(e(ot),{style:{height:"100%"},theme:e(l)=="dark"?e(st):null},{default:t(()=>[a(e(ut),null,{default:t(()=>[a(e(rt)),(c(),_(F,null,{default:t(()=>[a(Gt)]),fallback:t(()=>[a(e(Me),{size:80,id:"loading-spin"})]),_:1}))]),_:1})]),_:1},8,["theme"]))}});var Kt=L(qt,[["__scopeId","data-v-3afbaa00"]]);const Wt=y({props:{headerHeight:null,scroll:null},setup(o){const l=o,n=T(()=>{var r;return(r=l.headerHeight)!=null?r:140}),s=T(()=>{var r;return(r=l.scroll)!=null?r:!1});return(r,i)=>e(s)?(c(),_(e(W),{key:0,style:{height:"100%"},"native-scrollbar":!1},{default:t(()=>[a(e(pe),{bordered:"",style:de({height:`${e(n)}px`,padding:"10px"})},{default:t(()=>[X(r.$slots,"header",{},void 0,!0)]),_:3},8,["style"]),a(e(M),null,{default:t(()=>[X(r.$slots,"default",{},void 0,!0)]),_:3}),a(e(Be),{right:100})]),_:3})):(c(),_(e(W),{key:1,style:{height:"100%"}},{default:t(()=>[a(e(pe),{bordered:"",style:de({height:`${e(n)}px`,padding:"10px"})},{default:t(()=>[X(r.$slots,"header",{},void 0,!0)]),_:3},8,["style"]),a(e(M),{style:de({height:`calc(100% - ${e(n)}px)`})},{default:t(()=>[X(r.$slots,"default",{},void 0,!0)]),_:3},8,["style"])]),_:3}))}});var se=L(Wt,[["__scopeId","data-v-74d98659"]]);const Jt=p("Home"),Qt=p("Paperead"),Xt=p(" Server:\xA0 "),Yt=["href"],Zt=p(" Client Version:\xA0 "),ea=["href"],ta=p(" Server Version:\xA0 "),aa=["href"];async function la(o){let l,n;const s=B(),r=H(),i="0.0.8",u=([l,n]=j(()=>s.state.api.metadata()),l=await l,n(),l);return(d,f)=>(c(),_(se,null,{header:t(()=>[a(e(V),{subtitle:"\u4E3B\u9875",onBack:f[0]||(f[0]=()=>e(r).back())},{title:t(()=>[Jt]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(e(N),null,{default:t(()=>[Qt]),_:1})]),_:1})]),avatar:t(()=>[a(e(G),null,{default:t(()=>[a(e($),null,{default:t(()=>[a(e(J))]),_:1})]),_:1})]),_:1})]),default:t(()=>[a(e(M),{"content-style":"padding: 10px;"},{default:t(()=>[a(e(O),{vertical:""},{default:t(()=>[v("span",null,[Xt,v("a",{href:e(s).state.api.baseUrl},g(e(s).state.api.baseUrl),9,Yt)]),v("span",null,[Zt,v("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(i)}`},g(e(i)),9,ea)]),v("span",null,[ta,v("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(u).version}`},g(e(u).version),9,aa)])]),_:1})]),_:1})]),_:1}))}const na={components:{Home:J}},sa=y(h(m({},na),{setup:la}));var oa=L(sa,[["__scopeId","data-v-773e4e53"]]);const ra=p("Home");function ua(o){B();const n=Q().params;return(s,r)=>(c(),_(e(it),{status:"404",title:"Not Found",description:`Path: /${e(n).path.join("/")}`},{footer:t(()=>[a(e(U),null,{icon:t(()=>[a(e($),null,{default:t(()=>[a(e(J))]),_:1})]),default:t(()=>[a(e(Z),{to:"/"},{default:t(()=>[ra]),_:1})]),_:1})]),_:1},8,["description"]))}const ia={components:{Home:J,AlertCircle:dt}},da=y(h(m({},ia),{setup:ua}));var ca=L(da,[["__scopeId","data-v-32e9239b"]]);const _a=v("span",null,"Creation:",-1),pa=p("\xA0"),fa=v("br",null,null,-1),ma=v("span",null,"Modification:",-1),ha=p("\xA0");function va(o){const l=o;return(n,s)=>(c(),_(e(ct),null,{trigger:t(()=>[a(e(O),null,{default:t(()=>[a(e($),{size:"large"},{default:t(()=>[a(e(E))]),_:1}),a(e(ue),{time:l.creation,type:"relative"},null,8,["time"])]),_:1})]),default:t(()=>[_a,pa,a(e(ue),{time:l.creation},null,8,["time"]),fa,ma,ha,a(e(ue),{time:o.modification},null,8,["time"])]),_:1}))}const ga={components:{Clock:E}},ya=y(h(m({},ga),{props:{creation:null,modification:null},setup:va}));function $a(o){const l=o;return(n,s)=>(c(),_(e(O),null,{default:t(()=>[a(e($),{size:"large"},{default:t(()=>[a(e(Le))]),_:1}),(c(!0),q(te,null,ee(l.tags,r=>(c(),_(e(_t),{key:r,size:"small"},{default:t(()=>[p(g(r),1)]),_:2},1024))),128))]),_:1}))}const ba={components:{Tag:Le}},xa=y(h(m({},ba),{props:{tags:null},setup:$a})),ce=y({props:{data:null},setup(o){return(l,n)=>(c(),_(e(O),null,{default:t(()=>[a(ya,{creation:o.data.creation,modification:o.data.modification},null,8,["creation","modification"]),o.data.tags.length>0?(c(),_(xa,{key:0,tags:o.data.tags},null,8,["tags"])):D("",!0)]),_:1}))}});function ka(o){const l=o,n=B(),s=S();async function r(){s.value=await n.state.api.materials.get(l.id)}return ae(r),R(l,r),(i,u)=>{const d=le("router-link");return s.value?(c(),_(e(Ae),{key:0},{header:t(()=>[a(d,{to:`/materials/${s.value.id}`},{default:t(()=>[p(g(s.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":t(()=>[]),action:t(()=>[a(ce,{data:s.value.metadata},null,8,["data"])]),default:t(()=>[s.value.content.length>0?(c(),_(e(Pe),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[p(g(s.value.content),1)]),_:1})):D("",!0)]),_:1})):D("",!0)}}const wa={components:{Book:K,Clock:E}},Na=y(h(m({},wa),{props:{id:null},setup:ka}));var Sa=L(Na,[["__scopeId","data-v-3adcbada"]]);function Ia(o){const l=o;B();const n=S([]),s=S(1),r=S(5);function i(){let u=(s.value-1)*r.value;n.value=l.items.slice(u,u+r.value)}return R(s,i),R(r,i),ae(i),R(l,()=>s.value=1),(u,d)=>(c(),_(e(O),{vertical:""},{default:t(()=>[(c(!0),q(te,null,ee(n.value,f=>(c(),_(F,{key:f},{default:t(()=>[X(u.$slots,"default",{item:f})]),fallback:t(()=>[a(e(he),{text:"",repeat:2})]),_:2},1024))),128)),a(e(pt),{style:{"justify-content":"center","margin-top":"20px"},"item-count":o.items.length,"page-size":r.value,"onUpdate:page-size":d[0]||(d[0]=f=>r.value=f),page:s.value,"onUpdate:page":d[1]||(d[1]=f=>s.value=f),"page-sizes":[5,10,20],"show-quick-jumper":"","show-size-picker":""},null,8,["item-count","page-size","page"])]),_:3}))}const Ua={components:{Book:K,Clock:E}},Fe=y(h(m({},Ua),{props:{items:null},setup:Ia}));const Ma=p("Materials"),Ba=p("Paperead"),La=p("Materials");async function Pa(o){let l,n;const s=B(),r=H(),i=([l,n]=j(()=>s.state.api.materials.all()),l=await l,n(),l);return(u,d)=>(c(),_(se,null,{header:t(()=>[a(e(V),{subtitle:"\u6240\u6709\u6750\u6599",onBack:d[0]||(d[0]=()=>e(r).back())},{title:t(()=>[Ma]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(e(N),null,{default:t(()=>[a(e(Z),{to:"/"},{default:t(()=>[Ba]),_:1})]),_:1}),a(e(N),null,{default:t(()=>[La]),_:1})]),_:1})]),avatar:t(()=>[a(e(G),null,{default:t(()=>[a(e($),null,{default:t(()=>[a(e(me))]),_:1})]),_:1})]),footer:t(()=>[p("Totally "+g(e(i).length)+" material"+g(e(i).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(M),{"content-style":"padding: 10px;","native-scrollbar":!1,style:{height:"100%"}},{default:t(()=>[a(Fe,{items:e(i)},{default:t(f=>[a(Sa,{id:f.item},null,8,["id"])]),_:1},8,["items"])]),_:1})]),_:1}))}const Aa={components:{Files:me}},ja=y(h(m({},Aa),{setup:Pa}));var Oa=L(ja,[["__scopeId","data-v-b6ee2b10"]]);const Ra=y({props:{value:null},setup(o){const l=o;return ie(),(n,s)=>{const r=le("MarkdownPreviewOutlineItem",!0);return c(),_(e(ft),{title:l.value.title,href:l.value.href},{default:t(()=>[(c(!0),q(te,null,ee(l.value.children,i=>(c(),_(r,{key:i.href,value:i},null,8,["value"]))),128))]),_:1},8,["title","href"])}}});class Ca{constructor(l="",n="",s){C(this,"title","");C(this,"href","");C(this,"children",[]);this.title=l,this.href=n,s==null&&(s=[]),this.children=s}}const Ta=y({props:{element:null},setup(o,{expose:l}){const n=o;ie(),T(()=>n.element);const s=S();function r(u){var k;let f=(k=u.children[0].getAttribute("data-target-id"))!=null?k:"",x=new Ca(f,`#${f}`);if(u.children.length>1){let w=u.children[1];for(let A=0;A<w.children.length;A++)x.children.push(r(w.children[A]))}return x}async function i(){if(n.element==null)return!1;let u=document.createElement("div");if(ve.outlineRender(n.element,u),u.children.length==0)return s.value=[],!1;let d=u.children[0],f=[];for(let x=0;x<d.children.length;x++)f.push(r(d.children[x]));return s.value=f,!0}return ae(i),R(n,i),l({renderOutline:i}),(u,d)=>(c(),_(e(mt),{type:"block","listen-to":o.element,"ignore-gap":!0},{default:t(()=>[(c(!0),q(te,null,ee(s.value,f=>(c(),_(Ra,{key:f.href,value:f},null,8,["value"]))),128))]),_:1},8,["listen-to"]))}});function Da(o,{expose:l}){const n=o,s=B(),r=ie(),i=T(()=>{var b;return(b=n.baseUrl)!=null?b:""}),u=T(()=>r.value=="dark"?"dark":"light"),d="#f9f5e9",f=S(),x=S(),k=S(!0),w=S(!1),A=T(()=>s.state.readerMode),ge=S(!1),Je=T(()=>{let b={};return w.value?b=m({height:"100%",width:"100%",position:"fixed",top:0,bottom:0,left:0,right:0,padding:"5px 5px 5px 200px"},b):b=m({height:"100%",padding:"5px 5px 5px 20px"},b),A.value&&(b=m({"background-color":d},b)),b});async function oe(){await ve.preview(f.value,n.value,{mode:u.value,speech:{enable:!0},hljs:{lineNumber:!0,style:u.value=="dark"?"dracula":A.value?"monokailight":"github"},markdown:{linkBase:i.value,mark:!0},theme:{current:u.value}}),ge.value=await x.value.renderOutline();{let b=f.value.getElementsByTagName("img");for(let P=0;P<b.length;P++){let I=b.item(P);I!=null&&(I.onclick=re=>{ve.previewImage(I,void 0,u.value)})}}}function ye(b=!0){w.value=b}function $e(b=!0){s.commit("setReaderMode",b)}return ae(oe),R(n,oe),R(r,oe),R(A,oe),l({fullscreen:ye,reader:$e}),(b,P)=>(c(),_(e(W),{style:de(e(Je)),"has-sider":"","sider-placement":"right"},{default:t(()=>[a(e(M),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1},{default:t(()=>[v("article",{ref:(I,re)=>{re.element=I,f.value=I},style:{"padding-bottom":"200px"}},null,512),a(e(Be),{right:k.value?50:250},null,8,["right"])]),_:1}),a(e(Ue),{style:{height:"100%","background-color":"inherit"},"collapse-mode":"width","collapsed-width":0,width:200,"show-trigger":"bar","default-collapsed":!0,"show-collapsed-content":!1,collapsed:k.value,"onUpdate:collapsed":P[2]||(P[2]=I=>k.value=I)},{default:t(()=>[a(e(M),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1,"content-style":"padding: 10px;"},{default:t(()=>[a(e(O),null,{default:t(()=>[a(e(ht),null,{default:t(()=>[a(e(U),{title:"Full screen",onClick:P[0]||(P[0]=()=>ye(!w.value))},{icon:t(()=>[a(e($),null,{default:t(()=>[w.value?(c(),_(e(je),{key:0})):(c(),_(e(Oe),{key:1}))]),_:1})]),_:1}),e(r)!="dark"?(c(),_(e(U),{key:0,title:"Reader mode",onClick:P[1]||(P[1]=()=>$e(!e(A)))},{icon:t(()=>[a(e($),null,{default:t(()=>[e(A)?(c(),_(e(Re),{key:0})):(c(),_(e(Ce),{key:1}))]),_:1})]),_:1})):D("",!0)]),_:1}),vt(a(Ta,{element:f.value,ref:(I,re)=>{re.outline=I,x.value=I}},null,8,["element"]),[[gt,ge.value]])]),_:1})]),_:1})]),_:1},8,["collapsed"])]),_:1},8,["style"]))}const Ea={components:{Maximize:Oe,Minimize:je,Bookmark:Ce,BookmarkOff:Re}},Ge=y(h(m({},Ea),{props:{value:null,baseUrl:null},setup:Da})),za=v("thead",null,[v("tr",null,[v("th",null,"Key"),v("th",null,"Value")])],-1);function Ha(o){const l=o;B();const n=T(()=>{let s=[];for(let r in l.data.targets){let i=l.data.targets[r],u=ze(i)?`${l.targetBaseUrl}/${i}`:i;s.push({label:()=>fe("a",{target:"_blank",href:u},r),key:r})}return s});return(s,r)=>(c(),_(e(O),null,{default:t(()=>[Object.keys(o.data.extra).length>0?(c(),_(e(yt),{key:0,placement:"bottom-start",trigger:"hover"},{trigger:t(()=>[a(e(U),{bordered:!1},{icon:t(()=>[a(e($),null,{default:t(()=>[a(e(Te))]),_:1})]),_:1})]),default:t(()=>[a(e($t),null,{default:t(()=>[za,v("tbody",null,[(c(!0),q(te,null,ee(o.data.extra,(i,u)=>(c(),q("tr",{key:u},[v("td",null,g(u),1),v("td",null,g(i),1)]))),128))])]),_:1})]),_:1})):D("",!0),Object.keys(o.data.targets).length>0?(c(),_(e(bt),{key:1,options:e(n),placement:"bottom-start"},{default:t(()=>[a(e(U),{bordered:!1},{icon:t(()=>[a(e($),null,{default:t(()=>[a(e(De))]),_:1})]),_:1})]),_:1},8,["options"])):D("",!0)]),_:1}))}const Va={components:{Book:K,ArrowRight:xt,ExternalLink:De,InfoSquare:Te,Notes:ne}},qe=y(h(m({},Va),{props:{data:null,targetBaseUrl:null},setup:Ha}));const Fa=p("Paperead"),Ga=p("Materials");async function qa(o){let l,n;const s=Q(),r=H(),i=B(),u=s.params,d=([l,n]=j(()=>i.state.api.materials.get(u.id)),l=await l,n(),l);return document.title=`${d.metadata.name} - Materials - Paperead`,(f,x)=>{const k=le("router-link");return c(),_(se,null,{header:t(()=>[a(e(V),{subtitle:e(d).id,onBack:x[1]||(x[1]=()=>e(r).back())},{title:t(()=>[p(g(e(d).metadata.name),1)]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(e(N),null,{default:t(()=>[a(k,{to:"/"},{default:t(()=>[Fa]),_:1})]),_:1}),a(e(N),null,{default:t(()=>[a(k,{to:"/materials"},{default:t(()=>[Ga]),_:1})]),_:1}),a(e(N),null,{default:t(()=>[p(g(e(d).id),1)]),_:1})]),_:1})]),avatar:t(()=>[a(e(G),null,{default:t(()=>[a(e($),null,{default:t(()=>[a(e(K))]),_:1})]),_:1})]),extra:t(()=>[a(e(O),null,{default:t(()=>[a(e(U),{bordered:!1,onClick:x[0]||(x[0]=w=>e(r).push(`/materials/${e(d).id}/notes`))},{icon:t(()=>[a(e($),null,{default:t(()=>[a(e(ne))]),_:1})]),_:1}),a(qe,{"target-base-url":e(i).state.api.materials.resolveRelativeUrl(e(d).id),data:e(d).metadata},null,8,["target-base-url","data"])]),_:1})]),footer:t(()=>[a(ce,{data:e(d).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:t(()=>[a(e(M),{style:{height:"100%"}},{default:t(()=>[(c(),_(F,null,{default:t(()=>[a(Ge,{value:e(d).content,"base-url":e(i).state.api.materials.resolveRelativeUrl(e(d).id)},null,8,["value","base-url"])]),fallback:t(()=>[a(e(he),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const Ka={components:{Book:K,Notes:ne}},Wa=y(h(m({},Ka),{setup:qa}));var Ja=L(Wa,[["__scopeId","data-v-7b96e38d"]]);function Qa(o){const l=o,n=B(),s=S();async function r(){s.value=await n.state.api.materials.notes(l.id).get(l.noteId)}return ae(r),R(l,r),(i,u)=>{const d=le("router-link");return s.value?(c(),_(e(Ae),{key:0},{header:t(()=>[a(d,{to:`/materials/${l.id}/notes/${s.value.id}`},{default:t(()=>[p(g(s.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":t(()=>[]),action:t(()=>[a(ce,{data:s.value.metadata},null,8,["data"])]),default:t(()=>[s.value.content.length>0?(c(),_(e(Pe),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[p(g(s.value.content),1)]),_:1})):D("",!0)]),_:1})):D("",!0)}}const Xa={components:{Book:K,Clock:E}},Ya=y(h(m({},Xa),{props:{id:null,noteId:null},setup:Qa}));var Za=L(Ya,[["__scopeId","data-v-b101c3d4"]]);const el=p("Notes"),tl=p("Paperead"),al=p("Materials"),ll=p("Notes");async function nl(o){let l,n;const s=B(),r=H(),u=Q().params,d=([l,n]=j(()=>s.state.api.materials.notes(u.id).all()),l=await l,n(),l),f=([l,n]=j(()=>s.state.api.materials.get(u.id)),l=await l,n(),l);return document.title=`Notes - ${f.metadata.name} - Materials - Paperead`,(x,k)=>(c(),_(se,null,{header:t(()=>[a(e(V),{subtitle:"\u6240\u6709\u7B14\u8BB0",onBack:k[0]||(k[0]=()=>e(r).back())},{title:t(()=>[el]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(e(N),null,{default:t(()=>[a(e(Z),{to:"/"},{default:t(()=>[tl]),_:1})]),_:1}),a(e(N),null,{default:t(()=>[a(e(Z),{to:"/materials"},{default:t(()=>[al]),_:1})]),_:1}),a(e(N),null,{default:t(()=>[a(e(Z),{to:`/materials/${e(u).id}`},{default:t(()=>[p(g(e(u).id),1)]),_:1},8,["to"])]),_:1}),a(e(N),null,{default:t(()=>[ll]),_:1})]),_:1})]),avatar:t(()=>[a(e(G),null,{default:t(()=>[a(e($),null,{default:t(()=>[a(e(ne))]),_:1})]),_:1})]),footer:t(()=>[p("Totally "+g(e(d).length)+" note"+g(e(d).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(M),{"content-style":"padding: 10px;","native-scrollbar":!1,style:{height:"100%"}},{default:t(()=>[a(Fe,{items:e(d)},{default:t(w=>[a(Za,{id:e(u).id,noteId:w.item},null,8,["id","noteId"])]),_:1},8,["items"])]),_:1})]),_:1}))}const sl={components:{Notes:ne}},ol=y(h(m({},sl),{setup:nl}));var rl=L(ol,[["__scopeId","data-v-0c7cac2e"]]);const ul=p("Paperead"),il=p("Materials"),dl=p("Notes");async function cl(o){let l,n;const s=Q(),r=H(),i=B(),u=s.params,d=([l,n]=j(()=>i.state.api.materials.notes(u.id).get(u.noteId)),l=await l,n(),l),f=([l,n]=j(()=>i.state.api.materials.get(u.id)),l=await l,n(),l);return document.title=`${d.metadata.name} - Notes - ${f.metadata.name} - Materials - Paperead`,(x,k)=>{const w=le("router-link");return c(),_(se,null,{header:t(()=>[a(e(V),{subtitle:e(d).id,onBack:k[0]||(k[0]=()=>e(r).back())},{title:t(()=>[p(g(e(d).metadata.name),1)]),header:t(()=>[a(e(Y),null,{default:t(()=>[a(e(N),null,{default:t(()=>[a(w,{to:"/"},{default:t(()=>[ul]),_:1})]),_:1}),a(e(N),null,{default:t(()=>[a(w,{to:"/materials"},{default:t(()=>[il]),_:1})]),_:1}),a(e(N),null,{default:t(()=>[a(w,{to:`/materials/${e(u).id}`},{default:t(()=>[p(g(e(u).id),1)]),_:1},8,["to"])]),_:1}),a(e(N),null,{default:t(()=>[a(w,{to:`/materials/${e(u).id}/notes`},{default:t(()=>[dl]),_:1},8,["to"])]),_:1}),a(e(N),null,{default:t(()=>[p(g(e(d).id),1)]),_:1})]),_:1})]),avatar:t(()=>[a(e(G),null,{default:t(()=>[a(e($),null,{default:t(()=>[a(e(Ee))]),_:1})]),_:1})]),extra:t(()=>[a(qe,{"target-base-url":e(i).state.api.materials.resolveRelativeUrl(e(u).id,"./notes"),data:e(d).metadata},null,8,["target-base-url","data"])]),footer:t(()=>[a(ce,{data:e(d).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:t(()=>[a(e(M),{style:{height:"100%"}},{default:t(()=>[(c(),_(F,null,{default:t(()=>[a(Ge,{value:e(d).content,"base-url":e(i).state.api.materials.resolveRelativeUrl(e(u).id,"./notes")},null,8,["value","base-url"])]),fallback:t(()=>[a(e(he),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const _l={components:{FileText:Ee}},pl=y(h(m({},_l),{setup:cl}));var fl=L(pl,[["__scopeId","data-v-618bda85"]]);const ml=[{path:"/",component:oa,meta:{title:"Home - Paperead"}},{path:"/materials",component:Oa,meta:{title:"Materials - Paperead"}},{path:"/materials/:id",component:Ja,meta:{title:"Loading... - Materials - Paperead"}},{path:"/materials/:id/notes",component:rl,meta:{title:"Notes - Loading... - Materials - Paperead"}},{path:"/materials/:id/notes/:noteId",component:fl,meta:{title:"Loading... - Notes - Loading... - Materials - Paperead"}},{path:"/:path*",component:ca,meta:{title:"Not found - Paperead"}}],Ke=kt({history:wt(),routes:ml});Ke.beforeEach((o,l)=>(document.title=o.meta.title.toString(),!0));const We=Nt(Kt);We.use(Ke).use(Bt,Ve);We.mount("#app");
