var Ce=Object.defineProperty,Re=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var oe=(r,l,n)=>l in r?Ce(r,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[l]=n,m=(r,l)=>{for(var n in l||(l={}))De.call(l,n)&&oe(r,n,l[n]);if(pe)for(var n of pe(l))He.call(l,n)&&oe(r,n,l[n]);return r},h=(r,l)=>Re(r,Ee(l));var M=(r,l,n)=>(oe(r,typeof l!="symbol"?l+"":l,n),n);import{c as ze,u as Ve,d as $,w as U,o as c,a as p,b as t,e as a,f as e,N as x,I as O,A as fe,g as L,L as me,B as he,G as ve,h as v,t as y,C as j,i as ae,j as B,k as C,r as P,l as R,S as E,m as D,n as ge,p as ye,q as re,s as F,v as $e,x as Fe,y as N,R as qe,z as be,D as _,E as ue,F as ie,H as q,J as G,K as le,M as Ge,O as Ke,P as We,Q as Je,T as H,U as K,V as de,W as xe,X as W,Y as k,Z as J,_ as Qe,$ as Xe,a0 as Ye,a1 as we,a2 as z,a3 as Q,a4 as Ze,a5 as X,a6 as T,a7 as Y,a8 as A,a9 as Z,aa as ke,ab as Ne,ac as V,ad as et,ae as ce,af as tt,ag as at,ah as _e,ai as lt,aj as Ie,ak as nt,al as st,am as Se,an as ot,ao as ee,ap as Ue,aq as rt,ar as ut,as as it}from"./vendor.5a3cc74f.js";const dt=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerpolicy&&(u.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?u.credentials="include":o.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}};dt();function Le(r){return(r==null?void 0:r.startsWith("./"))||(r==null?void 0:r.startsWith("../"))||r=="."||r==".."}class ct{constructor(l){M(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let s=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return h(m({},s),{metadata:h(m({},s.metadata),{creation:new Date(s.metadata.creation.toString()),modification:new Date(s.metadata.modification.toString())})})}notes(l){return new _t(`${this.baseUrl}/${l}/notes`)}async update(l){let n=h(m({},l),{metadata:h(m({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}`,{method:"DELETE"})}resolveRelativeUrl(l,n="."){return Le(n)?`${this.baseUrl}/${l}/${n}`:n}}class _t{constructor(l){M(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let s=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return h(m({},s),{metadata:h(m({},s.metadata),{creation:new Date(s.metadata.creation.toString()),modification:new Date(s.metadata.modification.toString())})})}async update(l){let n=h(m({},l),{metadata:h(m({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(n),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}/`,{method:"DELETE"})}}class Pe{constructor(l){M(this,"baseUrl");M(this,"materials");this.baseUrl=l,this.materials=new ct(`${this.baseUrl}/materials`)}async metadata(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}}const Me=Symbol(),pt="/api",ft=ze({state(){return{api:new Pe(pt)}},mutations:{setApiUrl(r,l){r.api=new Pe(l)}}});function I(){return Ve(Me)}const mt=v("a",{href:"https://www.stardustdl.top/",style:{"text-decoration":"none",color:"inherit"}},"StardustDL",-1),ht=v("a",{href:"https://github.com/StardustDL/paperead/blob/master/LICENSE",style:{"text-decoration":"none",color:"inherit"}},"MPL-2.0",-1),vt=v("a",{href:"https://github.com/StardustDL/paperead",style:{"text-decoration":"none",color:"inherit"}},"GitHub",-1),gt=["href"];async function yt(r){let l,n;const s=([l,n]=U(async()=>([l,n]=U(()=>fetch("/build.json")),l=await l,n(),l).json()),l=await l,n(),l);return(o,u)=>(c(),p(e(B),null,{default:t(()=>[a(e(L),{text:""},{icon:t(()=>[a(e(x),null,{default:t(()=>[a(e(O),null,{default:t(()=>[a(e(fe))]),_:1})]),_:1})]),default:t(()=>[mt]),_:1}),a(e(L),{text:""},{icon:t(()=>[a(e(x),null,{default:t(()=>[a(e(O),null,{default:t(()=>[a(e(me))]),_:1})]),_:1})]),default:t(()=>[ht]),_:1}),a(e(L),{text:""},{icon:t(()=>[a(e(x),null,{default:t(()=>[a(e(O),null,{default:t(()=>[a(e(he))]),_:1})]),_:1})]),default:t(()=>[vt]),_:1}),a(e(L),{text:""},{icon:t(()=>[a(e(x),null,{default:t(()=>[a(e(O),null,{default:t(()=>[a(e(ve))]),_:1})]),_:1})]),default:t(()=>[v("a",{href:`https://github.com/StardustDL/paperead/commit/${e(s).commit}`,style:{"text-decoration":"none",color:"inherit"}},y(e(s).shortCommit),9,gt)]),_:1}),a(e(L),{text:""},{icon:t(()=>[a(e(x),null,{default:t(()=>[a(e(O),null,{default:t(()=>[a(e(j))]),_:1})]),_:1})]),default:t(()=>[a(e(ae),{time:new Date(e(s).date),type:"relative"},null,8,["time"])]),_:1})]),_:1}))}const $t={components:{Icon:O,BrandGithub:he,At:fe,License:me,GitCommit:ve,Clock:j}},bt=$(h(m({},$t),{setup:yt}));var S=(r,l)=>{for(const[n,s]of l)r[n]=s;return r};const xt={class:"status"},wt=_("Reading"),kt=_("\xA0and "),Nt=_("Notes");function It(r){const l=C();function n(i){return()=>ue(x,null,{default:()=>ue(i)})}const s=P("home"),o=[{label:"Home",key:"home",icon:n(q),route:"/"},{label:"Materials",key:"materials",icon:n(ie),route:"/materials"}];async function u(i,d){await l.push(d.route)}return(i,d)=>(c(),p(e(F),{style:{height:"100%"}},{default:t(()=>[a(e(re),{style:{padding:"8px",height:"55px"},bordered:""},{default:t(()=>[a(e(R),{subtitle:"\u9605\u8BFB\u4E0E\u7B14\u8BB0"},{extra:t(()=>[v("div",xt,[(c(),p(E,null,{default:t(()=>[a(bt)]),_:1}))])]),avatar:t(()=>[a(e(D),{size:"large"},{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(ge))]),_:1})]),_:1})]),title:t(()=>[a(e(ye),{type:"info"},{default:t(()=>[wt]),_:1}),kt,a(e(ye),{type:"success"},{default:t(()=>[Nt]),_:1})]),_:1})]),_:1}),a(e(N),{style:{height:"calc(100% - 55px)"}},{default:t(()=>[a(e(F),{"has-sider":"",style:{height:"100%"}},{default:t(()=>[a(e($e),{"collapse-mode":"width","collapsed-width":48,width:180,"show-trigger":"bar",bordered:"","default-collapsed":!0,"native-scrollbar":!1},{default:t(()=>[a(e(Fe),{value:s.value,"onUpdate:value":[d[0]||(d[0]=f=>s.value=f),u],options:o},null,8,["value"])]),_:1}),a(e(N),{"content-style":"padding: 15px;"},{default:t(()=>[(c(),p(E,null,{default:t(()=>[a(e(qe))]),fallback:t(()=>[a(e(be),{size:80,id:"loading-spin",style:{width:"100%"}})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}const St={components:{Notebook:ge}},Ut=$(h(m({},St),{setup:It}));var Lt=S(Ut,[["__scopeId","data-v-6f732496"]]);const Pt=$({setup(r){G();const l=le();return(n,s)=>(c(),p(e(Ke),{style:{height:"100%"},theme:e(l)=="dark"?e(Ge):null},{default:t(()=>[a(e(Je),null,{default:t(()=>[a(e(We)),(c(),p(E,null,{default:t(()=>[a(Lt)]),fallback:t(()=>[a(e(be),{size:80,id:"loading-spin"})]),_:1}))]),_:1})]),_:1},8,["theme"]))}});var Mt=S(Pt,[["__scopeId","data-v-3afbaa00"]]);const Bt=$({props:{headerHeight:null,scroll:null},setup(r){const l=r,n=H(()=>{var o;return(o=l.headerHeight)!=null?o:130}),s=H(()=>{var o;return(o=l.scroll)!=null?o:!1});return(o,u)=>e(s)?(c(),p(e(F),{key:0,style:{height:"100%"},"native-scrollbar":!1},{default:t(()=>[a(e(re),{bordered:"",style:de({height:`${e(n)}px`})},{default:t(()=>[K(o.$slots,"header",{},void 0,!0)]),_:3},8,["style"]),a(e(N),null,{default:t(()=>[K(o.$slots,"default",{},void 0,!0)]),_:3}),a(e(xe),{right:100})]),_:3})):(c(),p(e(F),{key:1,style:{height:"100%"}},{default:t(()=>[a(e(re),{bordered:"",style:de({height:`${e(n)}px`})},{default:t(()=>[K(o.$slots,"header",{},void 0,!0)]),_:3},8,["style"]),a(e(N),{style:de({height:`calc(100% - ${e(n)}px)`})},{default:t(()=>[K(o.$slots,"default",{},void 0,!0)]),_:3},8,["style"])]),_:3}))}});var te=S(Bt,[["__scopeId","data-v-2f098578"]]);const At=_("Home"),jt=_("Paperead"),Tt=_(" Server:\xA0 "),Ot=["href"],Ct=_(" Client Version:\xA0 "),Rt=["href"],Et=_(" Server Version:\xA0 "),Dt=["href"];async function Ht(r){let l,n;const s=I(),o=C(),u="0.0.7",i=([l,n]=U(()=>s.state.api.metadata()),l=await l,n(),l);return(d,f)=>(c(),p(te,null,{header:t(()=>[a(e(R),{subtitle:"\u4E3B\u9875",onBack:f[0]||(f[0]=()=>e(o).back())},{title:t(()=>[At]),header:t(()=>[a(e(W),null,{default:t(()=>[a(e(k),null,{default:t(()=>[jt]),_:1})]),_:1})]),avatar:t(()=>[a(e(D),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(q))]),_:1})]),_:1})]),_:1})]),default:t(()=>[a(e(N),{"content-style":"padding: 10px;"},{default:t(()=>[a(e(B),{vertical:""},{default:t(()=>[v("span",null,[Tt,v("a",{href:e(s).state.api.baseUrl},y(e(s).state.api.baseUrl),9,Ot)]),v("span",null,[Ct,v("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(u)}`},y(e(u)),9,Rt)]),v("span",null,[Et,v("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(i).version}`},y(e(i).version),9,Dt)])]),_:1})]),_:1})]),_:1}))}const zt={components:{Home:q}},Vt=$(h(m({},zt),{setup:Ht}));var Ft=S(Vt,[["__scopeId","data-v-773e4e53"]]);const qt=_("Home");function Gt(r){I();const n=G().params;return(s,o)=>(c(),p(e(Qe),{status:"404",title:"Not Found",description:`Path: /${e(n).path.join("/")}`},{footer:t(()=>[a(e(L),null,{icon:t(()=>[a(e(x),null,{default:t(()=>[a(e(q))]),_:1})]),default:t(()=>[a(e(J),{to:"/"},{default:t(()=>[qt]),_:1})]),_:1})]),_:1},8,["description"]))}const Kt={components:{Home:q,AlertCircle:Xe}},Wt=$(h(m({},Kt),{setup:Gt}));var Jt=S(Wt,[["__scopeId","data-v-32e9239b"]]);const Qt=v("span",null,"Creation:",-1),Xt=_("\xA0"),Yt=v("br",null,null,-1),Zt=v("span",null,"Modification:",-1),ea=_("\xA0");function ta(r){const l=r;return(n,s)=>(c(),p(e(Ye),null,{trigger:t(()=>[a(e(B),null,{default:t(()=>[a(e(x),{size:"large"},{default:t(()=>[a(e(j))]),_:1}),a(e(ae),{time:l.creation,type:"relative"},null,8,["time"])]),_:1})]),default:t(()=>[Qt,Xt,a(e(ae),{time:l.creation},null,8,["time"]),Yt,Zt,ea,a(e(ae),{time:r.modification},null,8,["time"])]),_:1}))}const aa={components:{Clock:j}},la=$(h(m({},aa),{props:{creation:null,modification:null},setup:ta}));function na(r){const l=r;return(n,s)=>(c(),p(e(B),null,{default:t(()=>[a(e(x),{size:"large"},{default:t(()=>[a(e(we))]),_:1}),(c(!0),z(X,null,Q(l.tags,o=>(c(),p(e(Ze),{key:o,size:"small"},{default:t(()=>[_(y(o),1)]),_:2},1024))),128))]),_:1}))}const sa={components:{Tag:we}},oa=$(h(m({},sa),{props:{tags:null},setup:na})),ne=$({props:{data:null},setup(r){return(l,n)=>(c(),p(e(B),null,{default:t(()=>[a(la,{creation:r.data.creation,modification:r.data.modification},null,8,["creation","modification"]),r.data.tags.length>0?(c(),p(oa,{key:0,tags:r.data.tags},null,8,["tags"])):T("",!0)]),_:1}))}});function ra(r){const l=r,n=I(),s=P();async function o(){s.value=await n.state.api.materials.get(l.id)}return Y(o),A(l,o),(u,i)=>{const d=Z("router-link");return s.value?(c(),p(e(Ne),{key:0},{header:t(()=>[a(d,{to:`/materials/${s.value.id}`},{default:t(()=>[_(y(s.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":t(()=>[]),action:t(()=>[a(ne,{data:s.value.metadata},null,8,["data"])]),default:t(()=>[s.value.content.length>0?(c(),p(e(ke),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[_(y(s.value.content),1)]),_:1})):T("",!0)]),_:1})):T("",!0)}}const ua={components:{Book:V,Clock:j}},ia=$(h(m({},ua),{props:{id:null},setup:ra}));var da=S(ia,[["__scopeId","data-v-3adcbada"]]);function ca(r){const l=r;I();const n=P([]),s=P(1),o=P(5);function u(){let i=(s.value-1)*o.value;n.value=l.items.slice(i,i+o.value)}return A(s,u),A(o,u),Y(u),A(l,()=>s.value=1),(i,d)=>(c(),p(e(B),{vertical:""},{default:t(()=>[(c(!0),z(X,null,Q(n.value,f=>(c(),p(E,{key:f},{default:t(()=>[K(i.$slots,"default",{item:f})]),fallback:t(()=>[a(e(ce),{text:"",repeat:2})]),_:2},1024))),128)),a(e(et),{style:{"justify-content":"center","margin-top":"20px"},"item-count":r.items.length,"page-size":o.value,"onUpdate:page-size":d[0]||(d[0]=f=>o.value=f),page:s.value,"onUpdate:page":d[1]||(d[1]=f=>s.value=f),"page-sizes":[5,10,20],"show-quick-jumper":"","show-size-picker":""},null,8,["item-count","page-size","page"])]),_:3}))}const _a={components:{Book:V,Clock:j}},Be=$(h(m({},_a),{props:{items:null},setup:ca}));const pa=_("Materials"),fa=_("Paperead"),ma=_("Materials");async function ha(r){let l,n;const s=I(),o=C(),u=([l,n]=U(()=>s.state.api.materials.all()),l=await l,n(),l);return(i,d)=>(c(),p(te,null,{header:t(()=>[a(e(R),{subtitle:"\u6240\u6709\u6750\u6599",onBack:d[0]||(d[0]=()=>e(o).back())},{title:t(()=>[pa]),header:t(()=>[a(e(W),null,{default:t(()=>[a(e(k),null,{default:t(()=>[a(e(J),{to:"/"},{default:t(()=>[fa]),_:1})]),_:1}),a(e(k),null,{default:t(()=>[ma]),_:1})]),_:1})]),avatar:t(()=>[a(e(D),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(ie))]),_:1})]),_:1})]),footer:t(()=>[_("Totally "+y(e(u).length)+" material"+y(e(u).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(N),{"content-style":"padding: 10px;"},{default:t(()=>[a(Be,{items:e(u)},{default:t(f=>[a(da,{id:f.item},null,8,["id"])]),_:1},8,["items"])]),_:1})]),_:1}))}const va={components:{Files:ie}},ga=$(h(m({},va),{setup:ha}));var ya=S(ga,[["__scopeId","data-v-b9b683e8"]]);const $a=$({props:{value:null},setup(r){const l=r;return le(),(n,s)=>{const o=Z("MarkdownPreviewOutlineItem",!0);return c(),p(e(tt),{title:l.value.title,href:l.value.href},{default:t(()=>[(c(!0),z(X,null,Q(l.value.children,u=>(c(),p(o,{key:u.href,value:u},null,8,["value"]))),128))]),_:1},8,["title","href"])}}});class ba{constructor(l="",n="",s){M(this,"title","");M(this,"href","");M(this,"children",[]);this.title=l,this.href=n,s==null&&(s=[]),this.children=s}}const xa=$({props:{element:null},setup(r,{expose:l}){const n=r;le(),H(()=>n.element);const s=P();function o(i){var g;let f=(g=i.children[0].getAttribute("data-target-id"))!=null?g:"",b=new ba(f,`#${f}`);if(i.children.length>1){let w=i.children[1];for(let se=0;se<w.children.length;se++)b.children.push(o(w.children[se]))}return b}async function u(){if(n.element==null)return;let i=document.createElement("div");if(_e.outlineRender(n.element,i),i.children.length==0){s.value=[];return}let d=i.children[0],f=[];for(let b=0;b<d.children.length;b++)f.push(o(d.children[b]));s.value=f}return Y(u),A(n,u),l({renderOutline:u}),(i,d)=>(c(),p(e(at),{"offset-target":r.element,"show-rail":!1},{default:t(()=>[(c(!0),z(X,null,Q(s.value,f=>(c(),p($a,{key:f.href,value:f},null,8,["value"]))),128))]),_:1},8,["offset-target"]))}}),Ae=$({props:{value:null,baseUrl:null},setup(r){const l=r;I();const n=le(),s=H(()=>{var f;return(f=l.baseUrl)!=null?f:""}),o=H(()=>n.value=="dark"?"dark":"light"),u=P(),i=P();async function d(){await _e.preview(u.value,l.value,{mode:o.value,hljs:{lineNumber:!0,style:o.value=="dark"?"dracula":"github"},markdown:{toc:!0,linkBase:s.value,mark:!0},theme:{current:o.value}}),await i.value.renderOutline();{let f=u.value.getElementsByTagName("img");for(let b=0;b<f.length;b++){let g=f.item(b);g!=null&&(g.onclick=w=>{_e.previewImage(g,void 0,o.value)})}}}return Y(d),A(l,d),A(n,d),(f,b)=>(c(),p(e(F),{style:{height:"100%"},"has-sider":"","sider-placement":"right","content-style":"padding: 10px;"},{default:t(()=>[a(e(N),{style:{height:"100%"},"native-scrollbar":!1},{default:t(()=>[v("div",{ref:(g,w)=>{w.element=g,u.value=g}},null,512),a(e(xe),{right:250})]),_:1}),a(e($e),{style:{height:"100%"},"collapse-mode":"width","collapsed-width":0,width:200,"show-trigger":"bar",bordered:"","default-collapsed":!1},{default:t(()=>[a(e(N),{style:{height:"100%"},"native-scrollbar":!1,"content-style":"padding: 10px;"},{default:t(()=>[a(xa,{element:u.value,ref:(g,w)=>{w.outline=g,i.value=g}},null,8,["element"])]),_:1})]),_:1})]),_:1}))}}),wa=v("thead",null,[v("tr",null,[v("th",null,"Key"),v("th",null,"Value")])],-1);function ka(r){const l=r;I();const n=H(()=>{let s=[];for(let o in l.data.targets){let u=l.data.targets[o],i=Le(u)?`${l.targetBaseUrl}/${u}`:u;s.push({label:()=>ue("a",{target:"_blank",href:i},o),key:o})}return s});return(s,o)=>(c(),p(e(B),null,{default:t(()=>[Object.keys(r.data.extra).length>0?(c(),p(e(lt),{key:0,placement:"bottom-start",trigger:"hover"},{trigger:t(()=>[a(e(L),{bordered:!1},{icon:t(()=>[a(e(x),null,{default:t(()=>[a(e(Ie))]),_:1})]),_:1})]),default:t(()=>[a(e(nt),null,{default:t(()=>[wa,v("tbody",null,[(c(!0),z(X,null,Q(r.data.extra,(u,i)=>(c(),z("tr",{key:i},[v("td",null,y(i),1),v("td",null,y(u),1)]))),128))])]),_:1})]),_:1})):T("",!0),Object.keys(r.data.targets).length>0?(c(),p(e(st),{key:1,options:e(n),placement:"bottom-start"},{default:t(()=>[a(e(L),{bordered:!1},{icon:t(()=>[a(e(x),null,{default:t(()=>[a(e(Se))]),_:1})]),_:1})]),_:1},8,["options"])):T("",!0)]),_:1}))}const Na={components:{Book:V,ArrowRight:ot,ExternalLink:Se,InfoSquare:Ie,Notes:ee}},je=$(h(m({},Na),{props:{data:null,targetBaseUrl:null},setup:ka}));const Ia=_("Paperead"),Sa=_("Materials");async function Ua(r){let l,n;const s=G(),o=C(),u=I(),i=s.params,d=([l,n]=U(()=>u.state.api.materials.get(i.id)),l=await l,n(),l);return document.title=`${d.metadata.name} - Materials - Paperead`,(f,b)=>{const g=Z("router-link");return c(),p(te,null,{header:t(()=>[a(e(R),{subtitle:e(d).id,onBack:b[1]||(b[1]=()=>e(o).back())},{title:t(()=>[_(y(e(d).metadata.name),1)]),header:t(()=>[a(e(W),null,{default:t(()=>[a(e(k),null,{default:t(()=>[a(g,{to:"/"},{default:t(()=>[Ia]),_:1})]),_:1}),a(e(k),null,{default:t(()=>[a(g,{to:"/materials"},{default:t(()=>[Sa]),_:1})]),_:1}),a(e(k),null,{default:t(()=>[_(y(e(d).id),1)]),_:1})]),_:1})]),avatar:t(()=>[a(e(D),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(V))]),_:1})]),_:1})]),extra:t(()=>[a(e(B),null,{default:t(()=>[a(e(L),{bordered:!1,onClick:b[0]||(b[0]=w=>e(o).push(`/materials/${e(d).id}/notes`))},{icon:t(()=>[a(e(x),null,{default:t(()=>[a(e(ee))]),_:1})]),_:1}),a(je,{"target-base-url":e(u).state.api.materials.resolveRelativeUrl(e(d).id),data:e(d).metadata},null,8,["target-base-url","data"])]),_:1})]),footer:t(()=>[a(ne,{data:e(d).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:t(()=>[a(e(N),{style:{height:"100%"}},{default:t(()=>[(c(),p(E,null,{default:t(()=>[a(Ae,{value:e(d).content,"base-url":e(u).state.api.materials.resolveRelativeUrl(e(d).id)},null,8,["value","base-url"])]),fallback:t(()=>[a(e(ce),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const La={components:{Book:V,Notes:ee}},Pa=$(h(m({},La),{setup:Ua}));var Ma=S(Pa,[["__scopeId","data-v-7b96e38d"]]);function Ba(r){const l=r,n=I(),s=P();async function o(){s.value=await n.state.api.materials.notes(l.id).get(l.noteId)}return Y(o),A(l,o),(u,i)=>{const d=Z("router-link");return s.value?(c(),p(e(Ne),{key:0},{header:t(()=>[a(d,{to:`/materials/${l.id}/notes/${s.value.id}`},{default:t(()=>[_(y(s.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":t(()=>[]),action:t(()=>[a(ne,{data:s.value.metadata},null,8,["data"])]),default:t(()=>[s.value.content.length>0?(c(),p(e(ke),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[_(y(s.value.content),1)]),_:1})):T("",!0)]),_:1})):T("",!0)}}const Aa={components:{Book:V,Clock:j}},ja=$(h(m({},Aa),{props:{id:null,noteId:null},setup:Ba}));var Ta=S(ja,[["__scopeId","data-v-b101c3d4"]]);const Oa=_("Notes"),Ca=_("Paperead"),Ra=_("Materials"),Ea=_("Notes");async function Da(r){let l,n;const s=I(),o=C(),i=G().params,d=([l,n]=U(()=>s.state.api.materials.notes(i.id).all()),l=await l,n(),l),f=([l,n]=U(()=>s.state.api.materials.get(i.id)),l=await l,n(),l);return document.title=`Notes - ${f.metadata.name} - Materials - Paperead`,(b,g)=>(c(),p(te,null,{header:t(()=>[a(e(R),{subtitle:"\u6240\u6709\u7B14\u8BB0",onBack:g[0]||(g[0]=()=>e(o).back())},{title:t(()=>[Oa]),header:t(()=>[a(e(W),null,{default:t(()=>[a(e(k),null,{default:t(()=>[a(e(J),{to:"/"},{default:t(()=>[Ca]),_:1})]),_:1}),a(e(k),null,{default:t(()=>[a(e(J),{to:"/materials"},{default:t(()=>[Ra]),_:1})]),_:1}),a(e(k),null,{default:t(()=>[a(e(J),{to:`/materials/${e(i).id}`},{default:t(()=>[_(y(e(i).id),1)]),_:1},8,["to"])]),_:1}),a(e(k),null,{default:t(()=>[Ea]),_:1})]),_:1})]),avatar:t(()=>[a(e(D),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(ee))]),_:1})]),_:1})]),footer:t(()=>[_("Totally "+y(e(d).length)+" note"+y(e(d).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(N),{"content-style":"padding: 10px;"},{default:t(()=>[a(Be,{items:e(d)},{default:t(w=>[a(Ta,{id:e(i).id,noteId:w.item},null,8,["id","noteId"])]),_:1},8,["items"])]),_:1})]),_:1}))}const Ha={components:{Notes:ee}},za=$(h(m({},Ha),{setup:Da}));var Va=S(za,[["__scopeId","data-v-4fdaa906"]]);const Fa=_("Paperead"),qa=_("Materials"),Ga=_("Notes");async function Ka(r){let l,n;const s=G(),o=C(),u=I(),i=s.params,d=([l,n]=U(()=>u.state.api.materials.notes(i.id).get(i.noteId)),l=await l,n(),l),f=([l,n]=U(()=>u.state.api.materials.get(i.id)),l=await l,n(),l);return document.title=`${d.metadata.name} - Notes - ${f.metadata.name} - Materials - Paperead`,(b,g)=>{const w=Z("router-link");return c(),p(te,null,{header:t(()=>[a(e(R),{subtitle:e(d).id,onBack:g[0]||(g[0]=()=>e(o).back())},{title:t(()=>[_(y(e(d).metadata.name),1)]),header:t(()=>[a(e(W),null,{default:t(()=>[a(e(k),null,{default:t(()=>[a(w,{to:"/"},{default:t(()=>[Fa]),_:1})]),_:1}),a(e(k),null,{default:t(()=>[a(w,{to:"/materials"},{default:t(()=>[qa]),_:1})]),_:1}),a(e(k),null,{default:t(()=>[a(w,{to:`/materials/${e(i).id}`},{default:t(()=>[_(y(e(i).id),1)]),_:1},8,["to"])]),_:1}),a(e(k),null,{default:t(()=>[a(w,{to:`/materials/${e(i).id}/notes`},{default:t(()=>[Ga]),_:1},8,["to"])]),_:1}),a(e(k),null,{default:t(()=>[_(y(e(d).id),1)]),_:1})]),_:1})]),avatar:t(()=>[a(e(D),null,{default:t(()=>[a(e(x),null,{default:t(()=>[a(e(Ue))]),_:1})]),_:1})]),extra:t(()=>[a(je,{"target-base-url":e(u).state.api.materials.resolveRelativeUrl(e(i).id,"./notes"),data:e(d).metadata},null,8,["target-base-url","data"])]),footer:t(()=>[a(ne,{data:e(d).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:t(()=>[a(e(N),{style:{height:"100%"}},{default:t(()=>[(c(),p(E,null,{default:t(()=>[a(Ae,{value:e(d).content,"base-url":e(u).state.api.materials.resolveRelativeUrl(e(i).id,"./notes")},null,8,["value","base-url"])]),fallback:t(()=>[a(e(ce),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const Wa={components:{FileText:Ue}},Ja=$(h(m({},Wa),{setup:Ka}));var Qa=S(Ja,[["__scopeId","data-v-618bda85"]]);const Xa=[{path:"/",component:Ft,meta:{title:"Home - Paperead"}},{path:"/materials",component:ya,meta:{title:"Materials - Paperead"}},{path:"/materials/:id",component:Ma,meta:{title:"Loading... - Materials - Paperead"}},{path:"/materials/:id/notes",component:Va,meta:{title:"Notes - Loading... - Materials - Paperead"}},{path:"/materials/:id/notes/:noteId",component:Qa,meta:{title:"Loading... - Notes - Loading... - Materials - Paperead"}},{path:"/:path*",component:Jt,meta:{title:"Not found - Paperead"}}],Te=rt({history:ut(),routes:Xa});Te.beforeEach((r,l)=>(document.title=r.meta.title.toString(),!0));const Oe=it(Mt);Oe.use(Te).use(ft,Me);Oe.mount("#app");
