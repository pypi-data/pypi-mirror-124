var Ke=Object.defineProperty,We=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var Qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var fe=(r,l,s)=>l in r?Ke(r,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[l]=s,m=(r,l)=>{for(var s in l||(l={}))Qe.call(l,s)&&fe(r,s,l[s]);if(be)for(var s of be(l))Xe.call(l,s)&&fe(r,s,l[s]);return r},h=(r,l)=>We(r,Ze(l));var j=(r,l,s)=>(fe(r,typeof l!="symbol"?l+"":l,s),s);import{c as Ye,u as et,d as y,w as L,o as c,a as _,b as t,e as a,f as e,N as b,I as H,A as $e,g as C,L as ke,B as xe,G as we,h as v,t as g,C as z,i as de,j as A,k as F,r as N,l as V,S as G,m as J,n as Ne,p as Ie,q as me,s as Q,v as Se,x as tt,y as M,R as at,z as Ue,D as p,E as he,F as ve,H as X,J as Y,K as ce,M as O,O as lt,P as nt,Q as st,T as ot,U as rt,V as ut,W as it,X as dt,Y as ct,Z as _t,_ as pt,$ as ft,a0 as mt,a1 as ht,a2 as ee,a3 as _e,a4 as Ce,a5 as te,a6 as w,a7 as ae,a8 as vt,a9 as gt,aa as yt,ab as Me,ac as q,ad as le,ae as bt,af as ne,ag as T,ah as se,ai as R,aj as oe,ak as Pe,al as Be,am as K,an as $t,ao as ge,ap as kt,aq as xt,ar as ye,as as wt,at as Le,au as Ae,av as Oe,aw as Re,ax as Nt,ay as It,az as St,aA as Ut,aB as je,aC as Ct,aD as Mt,aE as Te,aF as Pt,aG as re,aH as Ee,aI as Bt,aJ as Lt,aK as At}from"./vendor.dedeef85.js";const Ot=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerpolicy&&(d.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?d.credentials="include":o.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(o){if(o.ep)return;o.ep=!0;const d=s(o);fetch(o.href,d)}};Ot();function ze(r){return(r==null?void 0:r.startsWith("./"))||(r==null?void 0:r.startsWith("../"))||r=="."||r==".."}class Rt{constructor(l){j(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let n=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return h(m({},n),{metadata:h(m({},n.metadata),{creation:new Date(n.metadata.creation.toString()),modification:new Date(n.metadata.modification.toString())})})}notes(l){return new jt(`${this.baseUrl}/${l}/notes`)}async update(l){let s=h(m({},l),{metadata:h(m({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}`,{method:"DELETE"})}resolveRelativeUrl(l,s="."){return ze(s)?`${this.baseUrl}/${l}/${s}`:s}}class jt{constructor(l){j(this,"baseUrl");this.baseUrl=l}async all(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}async get(l){let n=await(await fetch(`${this.baseUrl}/${l}/index.json`)).json();return h(m({},n),{metadata:h(m({},n.metadata),{creation:new Date(n.metadata.creation.toString()),modification:new Date(n.metadata.modification.toString())})})}async update(l){let s=h(m({},l),{metadata:h(m({},l.metadata),{creation:l.metadata.creation.toISOString(),modification:l.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/`,{body:JSON.stringify(s),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(l){await fetch(`${this.baseUrl}/${l}/`,{method:"DELETE"})}}class De{constructor(l){j(this,"baseUrl");j(this,"materials");this.baseUrl=l,this.materials=new Rt(`${this.baseUrl}/materials`)}async metadata(){return await(await fetch(`${this.baseUrl}/index.json`)).json()}}const He=Symbol(),Tt="/api",Et=Ye({state(){return{api:new De(Tt),readerMode:!1}},mutations:{setApiUrl(r,l){r.api=new De(l)},setReaderMode(r,l){r.readerMode=l}}});function I(){return et(He)}const zt=v("a",{href:"https://www.stardustdl.top/",style:{"text-decoration":"none",color:"inherit"}},"StardustDL",-1),Dt=v("a",{href:"https://github.com/StardustDL/paperead/blob/master/LICENSE",style:{"text-decoration":"none",color:"inherit"}},"MPL-2.0",-1),Ht=v("a",{href:"https://github.com/StardustDL/paperead",style:{"text-decoration":"none",color:"inherit"}},"GitHub",-1),Ft=["href"];async function Vt(r){let l,s;const n=([l,s]=L(async()=>([l,s]=L(()=>fetch("/build.json")),l=await l,s(),l).json()),l=await l,s(),l);return(o,d)=>(c(),_(e(A),null,{default:t(()=>[a(e(C),{text:""},{icon:t(()=>[a(e(b),null,{default:t(()=>[a(e(H),null,{default:t(()=>[a(e($e))]),_:1})]),_:1})]),default:t(()=>[zt]),_:1}),a(e(C),{text:""},{icon:t(()=>[a(e(b),null,{default:t(()=>[a(e(H),null,{default:t(()=>[a(e(ke))]),_:1})]),_:1})]),default:t(()=>[Dt]),_:1}),a(e(C),{text:""},{icon:t(()=>[a(e(b),null,{default:t(()=>[a(e(H),null,{default:t(()=>[a(e(xe))]),_:1})]),_:1})]),default:t(()=>[Ht]),_:1}),a(e(C),{text:""},{icon:t(()=>[a(e(b),null,{default:t(()=>[a(e(H),null,{default:t(()=>[a(e(we))]),_:1})]),_:1})]),default:t(()=>[v("a",{href:`https://github.com/StardustDL/paperead/commit/${e(n).commit}`,style:{"text-decoration":"none",color:"inherit"}},g(e(n).shortCommit),9,Ft)]),_:1}),a(e(C),{text:""},{icon:t(()=>[a(e(b),null,{default:t(()=>[a(e(H),null,{default:t(()=>[a(e(z))]),_:1})]),_:1})]),default:t(()=>[a(e(de),{time:new Date(e(n).date),type:"relative"},null,8,["time"])]),_:1})]),_:1}))}const Gt={components:{Icon:H,BrandGithub:xe,At:$e,License:ke,GitCommit:we,Clock:z}},Jt=y(h(m({},Gt),{setup:Vt}));var S=(r,l)=>{for(const[s,n]of l)r[s]=n;return r};const qt={class:"status"},Kt=p("Reading"),Wt=p("\xA0and "),Zt=p("Notes");function Qt(r){const l=F();function s(u){return()=>he(b,null,{default:()=>he(u)})}const n=N("home"),o=[{label:"Home",key:"home",icon:s(X),route:"/"},{label:"Materials",key:"materials",icon:s(ve),route:"/materials"}];async function d(u,i){await l.push(i.route)}return(u,i)=>(c(),_(e(Q),{style:{height:"100%"}},{default:t(()=>[a(e(me),{style:{padding:"8px",height:"55px"},bordered:""},{default:t(()=>[a(e(V),{subtitle:"\u9605\u8BFB\u4E0E\u7B14\u8BB0"},{extra:t(()=>[v("div",qt,[(c(),_(G,null,{default:t(()=>[a(Jt)]),_:1}))])]),avatar:t(()=>[a(e(J),{size:"large"},{default:t(()=>[a(e(b),null,{default:t(()=>[a(e(Ne))]),_:1})]),_:1})]),title:t(()=>[a(e(Ie),{type:"info"},{default:t(()=>[Kt]),_:1}),Wt,a(e(Ie),{type:"success"},{default:t(()=>[Zt]),_:1})]),_:1})]),_:1}),a(e(M),{style:{height:"calc(100% - 55px)"}},{default:t(()=>[a(e(Q),{"has-sider":"",style:{height:"100%"}},{default:t(()=>[a(e(Se),{"collapse-mode":"width","collapsed-width":48,width:180,"show-trigger":"bar",bordered:"","default-collapsed":!0,"native-scrollbar":!1},{default:t(()=>[a(e(tt),{value:n.value,"onUpdate:value":[i[0]||(i[0]=f=>n.value=f),d],options:o},null,8,["value"])]),_:1}),a(e(M),null,{default:t(()=>[(c(),_(G,null,{default:t(()=>[a(e(at))]),fallback:t(()=>[a(e(Ue),{size:80,id:"loading-spin",style:{width:"100%"}})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}const Xt={components:{Notebook:Ne}},Yt=y(h(m({},Xt),{setup:Qt}));var ea=S(Yt,[["__scopeId","data-v-ebeb7bbe"]]);const ta=y({setup(r){Y();const l=I(),s=ce(),n="#f9f5e9FF",o={common:{baseColor:n,popoverColor:n,tableColor:n,cardColor:n,modalColor:n,bodyColor:n,tagColor:n,inputColor:n,codeColor:n,tabColor:n,actionColor:n,tableHeaderColor:n,hoverColor:n,inputColorDisabled:n}},d=O(()=>l.state.readerMode&&s.value!="dark"),u=O(()=>{let i=navigator.language;return i.indexOf("zh")!=-1?{lang:lt,date:nt}:i.indexOf("ru")!=-1?{lang:st,date:ot}:i.indexOf("uk")!=-1?{lang:rt,date:ut}:i.indexOf("ja")!=-1?{lang:it,date:dt}:{lang:ct,date:_t}});return(i,f)=>(c(),_(e(ft),{style:{height:"100%"},theme:e(s)=="dark"?e(pt):null,"theme-overrides":e(d)?o:{},locale:e(u).lang,"date-locale":e(u).date},{default:t(()=>[a(e(ht),null,{default:t(()=>[a(e(mt)),(c(),_(G,null,{default:t(()=>[a(ea)]),fallback:t(()=>[a(e(Ue),{size:80,id:"loading-spin"})]),_:1}))]),_:1})]),_:1},8,["theme","theme-overrides","locale","date-locale"]))}});var aa=S(ta,[["__scopeId","data-v-6cfe2030"]]);const la=y({props:{headerHeight:null,scroll:null},setup(r){const l=r,s=O(()=>{var o;return(o=l.headerHeight)!=null?o:140}),n=O(()=>{var o;return(o=l.scroll)!=null?o:!1});return(o,d)=>e(n)?(c(),_(e(Q),{key:0,style:{height:"100%"},"native-scrollbar":!1},{default:t(()=>[a(e(me),{bordered:"",style:_e({height:`${e(s)}px`,padding:"10px"})},{default:t(()=>[ee(o.$slots,"header",{},void 0,!0)]),_:3},8,["style"]),a(e(M),null,{default:t(()=>[ee(o.$slots,"default",{},void 0,!0)]),_:3}),a(e(Ce),{right:100})]),_:3})):(c(),_(e(Q),{key:1,style:{height:"100%"}},{default:t(()=>[a(e(me),{bordered:"",style:_e({height:`${e(s)}px`,padding:"10px"})},{default:t(()=>[ee(o.$slots,"header",{},void 0,!0)]),_:3},8,["style"]),a(e(M),{style:_e({height:`calc(100% - ${e(s)}px)`})},{default:t(()=>[ee(o.$slots,"default",{},void 0,!0)]),_:3},8,["style"])]),_:3}))}});var ue=S(la,[["__scopeId","data-v-74d98659"]]);const na=p("Home"),sa=p("Paperead"),oa=p(" Server:\xA0 "),ra=["href"],ua=p(" Client Version:\xA0 "),ia=["href"],da=p(" Server Version:\xA0 "),ca=["href"];async function _a(r){let l,s;const n=I(),o=F(),d="0.0.9",u=([l,s]=L(()=>n.state.api.metadata()),l=await l,s(),l);return(i,f)=>(c(),_(ue,null,{header:t(()=>[a(e(V),{subtitle:"\u4E3B\u9875",onBack:f[0]||(f[0]=()=>e(o).back())},{title:t(()=>[na]),header:t(()=>[a(e(te),null,{default:t(()=>[a(e(w),null,{default:t(()=>[sa]),_:1})]),_:1})]),avatar:t(()=>[a(e(J),null,{default:t(()=>[a(e(b),null,{default:t(()=>[a(e(X))]),_:1})]),_:1})]),_:1})]),default:t(()=>[a(e(M),{"content-style":"padding: 10px;"},{default:t(()=>[a(e(A),{vertical:""},{default:t(()=>[v("span",null,[oa,v("a",{href:e(n).state.api.baseUrl},g(e(n).state.api.baseUrl),9,ra)]),v("span",null,[ua,v("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(d)}`},g(e(d)),9,ia)]),v("span",null,[da,v("a",{href:`https://github.com/StardustDL/paperead/releases/tag/v${e(u).version}`},g(e(u).version),9,ca)])]),_:1})]),_:1})]),_:1}))}const pa={components:{Home:X}},fa=y(h(m({},pa),{setup:_a}));var ma=S(fa,[["__scopeId","data-v-773e4e53"]]);const ha=p("Home");function va(r){I();const s=Y().params;return(n,o)=>(c(),_(e(vt),{status:"404",title:"Not Found",description:`Path: /${e(s).path.join("/")}`},{footer:t(()=>[a(e(C),null,{icon:t(()=>[a(e(b),null,{default:t(()=>[a(e(X))]),_:1})]),default:t(()=>[a(e(ae),{to:"/"},{default:t(()=>[ha]),_:1})]),_:1})]),_:1},8,["description"]))}const ga={components:{Home:X,AlertCircle:gt}},ya=y(h(m({},ga),{setup:va}));var ba=S(ya,[["__scopeId","data-v-32e9239b"]]);const $a=v("span",null,"Creation:",-1),ka=p("\xA0"),xa=v("br",null,null,-1),wa=v("span",null,"Modification:",-1),Na=p("\xA0");function Ia(r){const l=r;return(s,n)=>(c(),_(e(yt),null,{trigger:t(()=>[a(e(A),null,{default:t(()=>[a(e(b),{size:"large"},{default:t(()=>[a(e(z))]),_:1}),a(e(de),{time:l.creation,type:"relative"},null,8,["time"])]),_:1})]),default:t(()=>[$a,ka,a(e(de),{time:l.creation},null,8,["time"]),xa,wa,Na,a(e(de),{time:r.modification},null,8,["time"])]),_:1}))}const Sa={components:{Clock:z}},Ua=y(h(m({},Sa),{props:{creation:null,modification:null},setup:Ia}));function Ca(r){const l=r;return(s,n)=>(c(),_(e(A),null,{default:t(()=>[a(e(b),{size:"large"},{default:t(()=>[a(e(Me))]),_:1}),(c(!0),q(ne,null,le(l.tags,o=>(c(),_(e(bt),{key:o,size:"small"},{default:t(()=>[p(g(o),1)]),_:2},1024))),128))]),_:1}))}const Ma={components:{Tag:Me}},Pa=y(h(m({},Ma),{props:{tags:null},setup:Ca})),pe=y({props:{data:null},setup(r){return(l,s)=>(c(),_(e(A),null,{default:t(()=>[a(Ua,{creation:r.data.creation,modification:r.data.modification},null,8,["creation","modification"]),r.data.tags.length>0?(c(),_(Pa,{key:0,tags:r.data.tags},null,8,["tags"])):T("",!0)]),_:1}))}});function Ba(r){const l=r,s=I(),n=N();async function o(){n.value=await s.state.api.materials.get(l.id)}return se(o),R(l,o),(d,u)=>{const i=oe("router-link");return n.value?(c(),_(e(Be),{key:0},{header:t(()=>[a(i,{to:`/materials/${n.value.id}`},{default:t(()=>[p(g(n.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":t(()=>[]),action:t(()=>[a(pe,{data:n.value.metadata},null,8,["data"])]),default:t(()=>[n.value.content.length>0?(c(),_(e(Pe),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[p(g(n.value.content),1)]),_:1})):T("",!0)]),_:1})):T("",!0)}}const La={components:{Book:K,Clock:z}},Aa=y(h(m({},La),{props:{id:null},setup:Ba}));var Oa=S(Aa,[["__scopeId","data-v-3adcbada"]]);function Ra(r){const l=r;I();const s=N([]),n=N(1),o=N(5);function d(){let u=(n.value-1)*o.value;s.value=l.items.slice(u,u+o.value)}return R(n,d),R(o,d),se(d),R(l,()=>n.value=1),(u,i)=>(c(),_(e(A),{vertical:""},{default:t(()=>[(c(!0),q(ne,null,le(s.value,f=>(c(),_(G,{key:f},{default:t(()=>[ee(u.$slots,"default",{item:f})]),fallback:t(()=>[a(e(ge),{text:"",repeat:2})]),_:2},1024))),128)),a(e($t),{style:{"justify-content":"center","margin-top":"20px"},"item-count":r.items.length,"page-size":o.value,"onUpdate:page-size":i[0]||(i[0]=f=>o.value=f),page:n.value,"onUpdate:page":i[1]||(i[1]=f=>n.value=f),"page-sizes":[5,10,20],"show-quick-jumper":"","show-size-picker":""},null,8,["item-count","page-size","page"])]),_:3}))}const ja={components:{Book:K,Clock:z}},Fe=y(h(m({},ja),{props:{items:null},setup:Ra}));const Ta=p("Materials"),Ea=p("Paperead"),za=p("Materials");async function Da(r){let l,s;const n=I(),o=F(),d=([l,s]=L(()=>n.state.api.materials.all()),l=await l,s(),l);return(u,i)=>(c(),_(ue,null,{header:t(()=>[a(e(V),{subtitle:"\u6240\u6709\u6750\u6599",onBack:i[0]||(i[0]=()=>e(o).back())},{title:t(()=>[Ta]),header:t(()=>[a(e(te),null,{default:t(()=>[a(e(w),null,{default:t(()=>[a(e(ae),{to:"/"},{default:t(()=>[Ea]),_:1})]),_:1}),a(e(w),null,{default:t(()=>[za]),_:1})]),_:1})]),avatar:t(()=>[a(e(J),null,{default:t(()=>[a(e(b),null,{default:t(()=>[a(e(ve))]),_:1})]),_:1})]),footer:t(()=>[p("Totally "+g(e(d).length)+" material"+g(e(d).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(M),{"content-style":"padding: 10px;","native-scrollbar":!1,style:{height:"100%"}},{default:t(()=>[a(Fe,{items:e(d)},{default:t(f=>[a(Oa,{id:f.item},null,8,["id"])]),_:1},8,["items"])]),_:1})]),_:1}))}const Ha={components:{Files:ve}},Fa=y(h(m({},Ha),{setup:Da}));var Va=S(Fa,[["__scopeId","data-v-b6ee2b10"]]);const Ga=y({props:{value:null},setup(r){const l=r;return ce(),(s,n)=>{const o=oe("MarkdownPreviewOutlineItem",!0);return c(),_(e(kt),{title:l.value.title,href:l.value.href},{default:t(()=>[(c(!0),q(ne,null,le(l.value.children,d=>(c(),_(o,{key:d.href,value:d},null,8,["value"]))),128))]),_:1},8,["title","href"])}}});class Ja{constructor(l="",s="",n){j(this,"title","");j(this,"href","");j(this,"children",[]);this.title=l,this.href=s,n==null&&(n=[]),this.children=n}}const qa=y({props:{element:null},setup(r,{expose:l}){const s=r;ce(),O(()=>s.element);const n=N();function o(u){var x,W,E;let f=(x=u.children[0].getAttribute("data-target-id"))!=null?x:"",k=(E=(W=document.getElementById(f))==null?void 0:W.innerText)!=null?E:f,$=new Ja(k,`#${f}`);if(u.children.length>1){let Z=u.children[1];for(let D=0;D<Z.children.length;D++)$.children.push(o(Z.children[D]))}return $}async function d(){if(s.element==null)return!1;let u=document.createElement("div");if(ye.outlineRender(s.element,u),u.children.length==0)return n.value=[],!1;let i=u.children[0],f=[];for(let k=0;k<i.children.length;k++)f.push(o(i.children[k]));return n.value=f,!0}return se(d),R(s,d),l({renderOutline:d}),(u,i)=>(c(),_(e(xt),{type:"block","listen-to":r.element,"ignore-gap":!0},{default:t(()=>[(c(!0),q(ne,null,le(n.value,f=>(c(),_(Ga,{key:f.href,value:f},null,8,["value"]))),128))]),_:1},8,["listen-to"]))}});function Ka(r,{expose:l}){const s=r,n=I(),o=ce(),d=O(()=>{var P;return(P=s.baseUrl)!=null?P:""}),u=O(()=>o.value=="dark"?"dark":"light"),i=N(),f=N(),k=N(!0),$=N(!1),x=O(()=>n.state.readerMode&&o.value!="dark"),W=N(!1);async function E(){await ye.preview(i.value,s.value,{mode:u.value,speech:{enable:!0},hljs:{lineNumber:!0,style:u.value=="dark"?"dracula":x.value?"monokailight":"github"},markdown:{linkBase:d.value,mark:!0},theme:{current:u.value}}),W.value=await f.value.renderOutline();{let P=i.value.getElementsByTagName("img");for(let B=0;B<P.length;B++){let U=P.item(B);U!=null&&(U.onclick=ie=>{ye.previewImage(U,void 0,u.value)})}}}function Z(P=!0){$.value=P}function D(P=!0){n.commit("setReaderMode",P)}return se(E),R(s,E),R(o,E),R(x,E),l({fullscreen:Z,reader:D}),(P,B)=>(c(),_(e(Q),{class:St($.value?"fullscreen":"normal"),"has-sider":"","sider-placement":"right"},{default:t(()=>[a(e(M),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1},{default:t(()=>[v("article",{ref:(U,ie)=>{ie.element=U,i.value=U},style:{"padding-bottom":"200px"}},null,512),a(e(Ce),{right:k.value?50:250,style:_e($.value?{"z-index":2}:{})},null,8,["right","style"])]),_:1}),a(e(Se),{style:{height:"100%","background-color":"inherit"},"collapse-mode":"width","collapsed-width":0,width:200,"show-trigger":"bar","default-collapsed":!0,"show-collapsed-content":!1,collapsed:k.value,"onUpdate:collapsed":B[2]||(B[2]=U=>k.value=U)},{default:t(()=>[a(e(M),{style:{height:"100%","background-color":"inherit"},"native-scrollbar":!1,"content-style":"padding: 10px;"},{default:t(()=>[a(e(A),null,{default:t(()=>[a(e(wt),null,{default:t(()=>[a(e(C),{title:"Full screen",onClick:B[0]||(B[0]=()=>Z(!$.value))},{icon:t(()=>[a(e(b),null,{default:t(()=>[$.value?(c(),_(e(Le),{key:0})):(c(),_(e(Ae),{key:1}))]),_:1})]),_:1}),e(o)!="dark"?(c(),_(e(C),{key:0,title:"Reader mode",onClick:B[1]||(B[1]=()=>D(!e(x)))},{icon:t(()=>[a(e(b),null,{default:t(()=>[e(x)?(c(),_(e(Oe),{key:0})):(c(),_(e(Re),{key:1}))]),_:1})]),_:1})):T("",!0)]),_:1}),Nt(a(qa,{element:i.value,ref:(U,ie)=>{ie.outline=U,f.value=U}},null,8,["element"]),[[It,W.value]])]),_:1})]),_:1})]),_:1},8,["collapsed"])]),_:1},8,["class"]))}const Wa={components:{Maximize:Ae,Minimize:Le,Bookmark:Re,BookmarkOff:Oe}},Za=y(h(m({},Wa),{props:{value:null,baseUrl:null},setup:Ka}));var Ve=S(Za,[["__scopeId","data-v-690d3201"]]);const Qa=v("thead",null,[v("tr",null,[v("th",null,"Key"),v("th",null,"Value")])],-1);function Xa(r){const l=r;I();const s=O(()=>{let n=[];for(let o in l.data.targets){let d=l.data.targets[o],u=ze(d)?`${l.targetBaseUrl}/${d}`:d;n.push({label:()=>he("a",{target:"_blank",href:u},o),key:o})}return n});return(n,o)=>(c(),_(e(A),null,{default:t(()=>[Object.keys(r.data.extra).length>0?(c(),_(e(Ut),{key:0,placement:"bottom-start",trigger:"hover"},{trigger:t(()=>[a(e(C),{bordered:!1},{icon:t(()=>[a(e(b),null,{default:t(()=>[a(e(je))]),_:1})]),_:1})]),default:t(()=>[a(e(Ct),null,{default:t(()=>[Qa,v("tbody",null,[(c(!0),q(ne,null,le(r.data.extra,(d,u)=>(c(),q("tr",{key:u},[v("td",null,g(u),1),v("td",null,g(d),1)]))),128))])]),_:1})]),_:1})):T("",!0),Object.keys(r.data.targets).length>0?(c(),_(e(Mt),{key:1,options:e(s),placement:"bottom-start"},{default:t(()=>[a(e(C),{bordered:!1},{icon:t(()=>[a(e(b),null,{default:t(()=>[a(e(Te))]),_:1})]),_:1})]),_:1},8,["options"])):T("",!0)]),_:1}))}const Ya={components:{Book:K,ArrowRight:Pt,ExternalLink:Te,InfoSquare:je,Notes:re}},Ge=y(h(m({},Ya),{props:{data:null,targetBaseUrl:null},setup:Xa}));const el=p("Paperead"),tl=p("Materials");async function al(r){let l,s;const n=Y(),o=F(),d=I(),u=n.params,i=([l,s]=L(()=>d.state.api.materials.get(u.id)),l=await l,s(),l);return document.title=`${i.metadata.name} - Materials - Paperead`,(f,k)=>{const $=oe("router-link");return c(),_(ue,null,{header:t(()=>[a(e(V),{subtitle:e(i).id,onBack:k[1]||(k[1]=()=>e(o).back())},{title:t(()=>[p(g(e(i).metadata.name),1)]),header:t(()=>[a(e(te),null,{default:t(()=>[a(e(w),null,{default:t(()=>[a($,{to:"/"},{default:t(()=>[el]),_:1})]),_:1}),a(e(w),null,{default:t(()=>[a($,{to:"/materials"},{default:t(()=>[tl]),_:1})]),_:1}),a(e(w),null,{default:t(()=>[p(g(e(i).id),1)]),_:1})]),_:1})]),avatar:t(()=>[a(e(J),null,{default:t(()=>[a(e(b),null,{default:t(()=>[a(e(K))]),_:1})]),_:1})]),extra:t(()=>[a(e(A),null,{default:t(()=>[a(e(C),{bordered:!1,onClick:k[0]||(k[0]=x=>e(o).push(`/materials/${e(i).id}/notes`))},{icon:t(()=>[a(e(b),null,{default:t(()=>[a(e(re))]),_:1})]),_:1}),a(Ge,{"target-base-url":e(d).state.api.materials.resolveRelativeUrl(e(i).id),data:e(i).metadata},null,8,["target-base-url","data"])]),_:1})]),footer:t(()=>[a(pe,{data:e(i).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:t(()=>[a(e(M),{style:{height:"100%"}},{default:t(()=>[(c(),_(G,null,{default:t(()=>[a(Ve,{value:e(i).content,"base-url":e(d).state.api.materials.resolveRelativeUrl(e(i).id)},null,8,["value","base-url"])]),fallback:t(()=>[a(e(ge),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const ll={components:{Book:K,Notes:re}},nl=y(h(m({},ll),{setup:al}));var sl=S(nl,[["__scopeId","data-v-7b96e38d"]]);function ol(r){const l=r,s=I(),n=N();async function o(){n.value=await s.state.api.materials.notes(l.id).get(l.noteId)}return se(o),R(l,o),(d,u)=>{const i=oe("router-link");return n.value?(c(),_(e(Be),{key:0},{header:t(()=>[a(i,{to:`/materials/${l.id}/notes/${n.value.id}`},{default:t(()=>[p(g(n.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":t(()=>[]),action:t(()=>[a(pe,{data:n.value.metadata},null,8,["data"])]),default:t(()=>[n.value.content.length>0?(c(),_(e(Pe),{key:0,tooltip:!1,"line-clamp":5},{default:t(()=>[p(g(n.value.content),1)]),_:1})):T("",!0)]),_:1})):T("",!0)}}const rl={components:{Book:K,Clock:z}},ul=y(h(m({},rl),{props:{id:null,noteId:null},setup:ol}));var il=S(ul,[["__scopeId","data-v-b101c3d4"]]);const dl=p("Notes"),cl=p("Paperead"),_l=p("Materials"),pl=p("Notes");async function fl(r){let l,s;const n=I(),o=F(),u=Y().params,i=([l,s]=L(()=>n.state.api.materials.notes(u.id).all()),l=await l,s(),l),f=([l,s]=L(()=>n.state.api.materials.get(u.id)),l=await l,s(),l);return document.title=`Notes - ${f.metadata.name} - Materials - Paperead`,(k,$)=>(c(),_(ue,null,{header:t(()=>[a(e(V),{subtitle:"\u6240\u6709\u7B14\u8BB0",onBack:$[0]||($[0]=()=>e(o).back())},{title:t(()=>[dl]),header:t(()=>[a(e(te),null,{default:t(()=>[a(e(w),null,{default:t(()=>[a(e(ae),{to:"/"},{default:t(()=>[cl]),_:1})]),_:1}),a(e(w),null,{default:t(()=>[a(e(ae),{to:"/materials"},{default:t(()=>[_l]),_:1})]),_:1}),a(e(w),null,{default:t(()=>[a(e(ae),{to:`/materials/${e(u).id}`},{default:t(()=>[p(g(e(u).id),1)]),_:1},8,["to"])]),_:1}),a(e(w),null,{default:t(()=>[pl]),_:1})]),_:1})]),avatar:t(()=>[a(e(J),null,{default:t(()=>[a(e(b),null,{default:t(()=>[a(e(re))]),_:1})]),_:1})]),footer:t(()=>[p("Totally "+g(e(i).length)+" note"+g(e(i).length>1?"s":"")+".",1)]),_:1})]),default:t(()=>[a(e(M),{"content-style":"padding: 10px;","native-scrollbar":!1,style:{height:"100%"}},{default:t(()=>[a(Fe,{items:e(i)},{default:t(x=>[a(il,{id:e(u).id,noteId:x.item},null,8,["id","noteId"])]),_:1},8,["items"])]),_:1})]),_:1}))}const ml={components:{Notes:re}},hl=y(h(m({},ml),{setup:fl}));var vl=S(hl,[["__scopeId","data-v-0c7cac2e"]]);const gl=p("Paperead"),yl=p("Materials"),bl=p("Notes");async function $l(r){let l,s;const n=Y(),o=F(),d=I(),u=n.params,i=([l,s]=L(()=>d.state.api.materials.notes(u.id).get(u.noteId)),l=await l,s(),l),f=([l,s]=L(()=>d.state.api.materials.get(u.id)),l=await l,s(),l);return document.title=`${i.metadata.name} - Notes - ${f.metadata.name} - Materials - Paperead`,(k,$)=>{const x=oe("router-link");return c(),_(ue,null,{header:t(()=>[a(e(V),{subtitle:e(i).id,onBack:$[0]||($[0]=()=>e(o).back())},{title:t(()=>[p(g(e(i).metadata.name),1)]),header:t(()=>[a(e(te),null,{default:t(()=>[a(e(w),null,{default:t(()=>[a(x,{to:"/"},{default:t(()=>[gl]),_:1})]),_:1}),a(e(w),null,{default:t(()=>[a(x,{to:"/materials"},{default:t(()=>[yl]),_:1})]),_:1}),a(e(w),null,{default:t(()=>[a(x,{to:`/materials/${e(u).id}`},{default:t(()=>[p(g(e(u).id),1)]),_:1},8,["to"])]),_:1}),a(e(w),null,{default:t(()=>[a(x,{to:`/materials/${e(u).id}/notes`},{default:t(()=>[bl]),_:1},8,["to"])]),_:1}),a(e(w),null,{default:t(()=>[p(g(e(i).id),1)]),_:1})]),_:1})]),avatar:t(()=>[a(e(J),null,{default:t(()=>[a(e(b),null,{default:t(()=>[a(e(Ee))]),_:1})]),_:1})]),extra:t(()=>[a(Ge,{"target-base-url":e(d).state.api.materials.resolveRelativeUrl(e(u).id,"./notes"),data:e(i).metadata},null,8,["target-base-url","data"])]),footer:t(()=>[a(pe,{data:e(i).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:t(()=>[a(e(M),{style:{height:"100%"}},{default:t(()=>[(c(),_(G,null,{default:t(()=>[a(Ve,{value:e(i).content,"base-url":e(d).state.api.materials.resolveRelativeUrl(e(u).id,"./notes")},null,8,["value","base-url"])]),fallback:t(()=>[a(e(ge),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const kl={components:{FileText:Ee}},xl=y(h(m({},kl),{setup:$l}));var wl=S(xl,[["__scopeId","data-v-618bda85"]]);const Nl=[{path:"/",component:ma,meta:{title:"Home - Paperead"}},{path:"/materials",component:Va,meta:{title:"Materials - Paperead"}},{path:"/materials/:id",component:sl,meta:{title:"Loading... - Materials - Paperead"}},{path:"/materials/:id/notes",component:vl,meta:{title:"Notes - Loading... - Materials - Paperead"}},{path:"/materials/:id/notes/:noteId",component:wl,meta:{title:"Loading... - Notes - Loading... - Materials - Paperead"}},{path:"/:path*",component:ba,meta:{title:"Not found - Paperead"}}],Je=Bt({history:Lt(),routes:Nl});Je.beforeEach((r,l)=>(document.title=r.meta.title.toString(),!0));const qe=At(aa);qe.use(Je).use(Et,He);qe.mount("#app");
