{"format_version":"0.1","terraform_version":"0.13.4","planned_values":{"outputs":{"arn":{"sensitive":false,"value":"module.iam_policy.aws_iam_policy.policy.arn"},"description":{"sensitive":false,"value":"My example policy"},"id":{"sensitive":false,"value":"module.iam_policy.aws_iam_policy.policy.id"},"name":{"sensitive":false,"value":"example"},"path":{"sensitive":false,"value":"/"},"policy":{"sensitive":false,"value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"ec2:Describe*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"}},"root_module":{"child_modules":[{"resources":[{"address":"module.iam_policy.aws_iam_policy.policy","mode":"managed","type":"aws_iam_policy","name":"policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"My example policy","name":"example","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"ec2:Describe*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","tags":null}}],"address":"module.iam_policy"},{"resources":[{"address":"module.iam_policy_from_data_source.aws_iam_policy.policy","mode":"managed","type":"aws_iam_policy","name":"policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"My example policy","name":"example_from_data_source","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowFullS3Access\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListAllMyBuckets\",\n      \"Resource\": \"*\"\n    }\n  ]\n}","tags":null}}],"address":"module.iam_policy_from_data_source"}]}},"resource_changes":[{"address":"module.iam_policy.aws_iam_policy.policy","module_address":"module.iam_policy","mode":"managed","type":"aws_iam_policy","name":"policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"My example policy","name":"example","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"ec2:Describe*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","tags":null},"after_unknown":{"arn":true,"id":true,"policy_id":true,"tags_all":true}}},{"address":"module.iam_policy_from_data_source.aws_iam_policy.policy","module_address":"module.iam_policy_from_data_source","mode":"managed","type":"aws_iam_policy","name":"policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"My example policy","name":"example_from_data_source","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowFullS3Access\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListAllMyBuckets\",\n      \"Resource\": \"*\"\n    }\n  ]\n}","tags":null},"after_unknown":{"arn":true,"id":true,"policy_id":true,"tags_all":true}}}],"output_changes":{"arn":{"actions":["create"],"before":null,"after":"module.iam_policy.aws_iam_policy.policy.arn","after_unknown":false},"description":{"actions":["create"],"before":null,"after":"My example policy","after_unknown":false},"id":{"actions":["create"],"before":null,"after":"module.iam_policy.aws_iam_policy.policy.id","after_unknown":false},"name":{"actions":["create"],"before":null,"after":"example","after_unknown":false},"path":{"actions":["create"],"before":null,"after":"/","after_unknown":false},"policy":{"actions":["create"],"before":null,"after":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"ec2:Describe*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","after_unknown":false}},"prior_state":{"format_version":"0.1","terraform_version":"0.13.4","values":{"root_module":{"resources":[{"address":"data.aws_iam_policy_document.bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"bucket_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"3592874351","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowFullS3Access\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListAllMyBuckets\",\n      \"Resource\": \"*\"\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:ListAllMyBuckets"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"AllowFullS3Access"}],"version":"2012-10-17"}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"eu-west-1"}}}},"root_module":{"outputs":{"arn":{"expression":{"references":["module.iam_policy.arn"]},"description":"The ARN assigned by AWS to this policy"},"description":{"expression":{"references":["module.iam_policy.description"]},"description":"The description of the policy"},"id":{"expression":{"references":["module.iam_policy.id"]},"description":"The policy ID"},"name":{"expression":{"references":["module.iam_policy.name"]},"description":"The name of the policy"},"path":{"expression":{"references":["module.iam_policy.path"]},"description":"The path of the policy in IAM"},"policy":{"expression":{"references":["module.iam_policy.policy"]},"description":"The policy document"}},"resources":[{"address":"data.aws_iam_policy_document.bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"bucket_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["s3:ListAllMyBuckets"]},"resources":{"constant_value":["*"]},"sid":{"constant_value":"AllowFullS3Access"}}]},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":5,"EndLine":11}}],"module_calls":{"iam_policy":{"source":"../../modules/iam-policy","expressions":{"description":{"constant_value":"My example policy"},"name":{"constant_value":"example"},"path":{"constant_value":"/"},"policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"ec2:Describe*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"}},"module":{"outputs":{"arn":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The ARN assigned by AWS to this policy"},"description":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The description of the policy"},"id":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The policy's ID"},"name":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The name of the policy"},"path":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The path of the policy in IAM"},"policy":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The policy document"}},"resources":[{"address":"aws_iam_policy.policy","mode":"managed","type":"aws_iam_policy","name":"policy","provider_config_key":"iam_policy:aws","expressions":{"description":{"references":["var.description"]},"name":{"references":["var.name"]},"path":{"references":["var.path"]},"policy":{"references":["var.policy"]}},"schema_version":0,"raw_data":{"FileName":"../../modules/iam-policy/main.tf","StartLine":1,"EndLine":7}}],"variables":{"description":{"default":"IAM Policy","description":"The description of the policy"},"name":{"default":"","description":"The name of the policy"},"path":{"default":"/","description":"The path of the policy in IAM"},"policy":{"default":"","description":"The path of the policy in IAM (tpl file)"}}},"raw_data":{"FileName":"main.tf","StartLine":16,"EndLine":37}},"iam_policy_from_data_source":{"source":"../../modules/iam-policy","expressions":{"description":{"constant_value":"My example policy"},"name":{"constant_value":"example_from_data_source"},"path":{"constant_value":"/"},"policy":{"references":["data.aws_iam_policy_document.bucket_policy"]}},"module":{"outputs":{"arn":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The ARN assigned by AWS to this policy"},"description":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The description of the policy"},"id":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The policy's ID"},"name":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The name of the policy"},"path":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The path of the policy in IAM"},"policy":{"expression":{"references":["aws_iam_policy.policy"]},"description":"The policy document"}},"resources":[{"address":"aws_iam_policy.policy","mode":"managed","type":"aws_iam_policy","name":"policy","provider_config_key":"iam_policy_from_data_source:aws","expressions":{"description":{"references":["var.description"]},"name":{"references":["var.name"]},"path":{"references":["var.path"]},"policy":{"references":["var.policy"]}},"schema_version":0,"raw_data":{"FileName":"../../modules/iam-policy/main.tf","StartLine":1,"EndLine":7}}],"variables":{"description":{"default":"IAM Policy","description":"The description of the policy"},"name":{"default":"","description":"The name of the policy"},"path":{"default":"/","description":"The path of the policy in IAM"},"policy":{"default":"","description":"The path of the policy in IAM (tpl file)"}}},"raw_data":{"FileName":"main.tf","StartLine":39,"EndLine":47}}}}}}
