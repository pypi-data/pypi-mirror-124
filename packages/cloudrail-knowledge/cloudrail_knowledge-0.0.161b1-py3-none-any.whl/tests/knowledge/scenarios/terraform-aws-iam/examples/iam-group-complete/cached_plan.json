{"format_version":"0.1","terraform_version":"0.13.4","planned_values":{"outputs":{"aws_account_id":{"sensitive":false,"value":"115553109071"},"group_arn":{"sensitive":false,"value":"module.iam_group_complete.aws_iam_group.this.arn"},"group_name":{"sensitive":false,"value":"production-admins"},"keybase_password_decrypt_command":{"sensitive":false,"value":"echo \"\" | base64 --decode | keybase pgp decrypt\n"},"keybase_password_pgp_message":{"sensitive":false,"value":"-----BEGIN PGP MESSAGE-----\nVersion: Keybase OpenPGP v2.0.76\nComment: https://keybase.io/crypto\n\n\n-----END PGP MESSAGE-----\n"},"keybase_secret_key_decrypt_command":{"sensitive":false,"value":"echo \"\" | base64 --decode | keybase pgp decrypt\n"},"keybase_secret_key_pgp_message":{"sensitive":false,"value":"-----BEGIN PGP MESSAGE-----\nVersion: Keybase OpenPGP v2.0.76\nComment: https://keybase.io/crypto\n\n\n-----END PGP MESSAGE-----\n"},"pgp_key":{"sensitive":false,"value":""},"this_assumable_roles":{"sensitive":false,"value":["arn:aws:iam::111111111111:role/admin"]},"this_group_name":{"sensitive":false,"value":"production-admins"},"this_group_users":{"sensitive":false,"value":["user1","user2"]},"this_iam_access_key_encrypted_secret":{"sensitive":false,"value":""},"this_iam_access_key_id":{"sensitive":false,"value":""},"this_iam_access_key_key_fingerprint":{"sensitive":false,"value":""},"this_iam_access_key_secret":{"sensitive":false,"value":""},"this_iam_access_key_ses_smtp_password_v4":{"sensitive":false,"value":""},"this_iam_access_key_status":{"sensitive":false,"value":""},"this_iam_user_arn":{"sensitive":false,"value":"module.iam_user2.aws_iam_user.this[0].arn"},"this_iam_user_login_profile_encrypted_password":{"sensitive":false,"value":""},"this_iam_user_login_profile_key_fingerprint":{"sensitive":false,"value":""},"this_iam_user_name":{"sensitive":false,"value":"user1"},"this_iam_user_ssh_key_fingerprint":{"sensitive":false,"value":""},"this_iam_user_ssh_key_ssh_public_key_id":{"sensitive":false,"value":""},"this_iam_user_unique_id":{"sensitive":false,"value":"module.iam_user1.aws_iam_user.this[0].unique_id"},"this_policy_arn":{"sensitive":false,"value":"module.iam_group_complete.aws_iam_policy.this.arn"}},"root_module":{"child_modules":[{"resources":[{"address":"module.iam_group_complete.aws_iam_group.this","mode":"managed","type":"aws_iam_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"production-admins","path":"/"}},{"address":"module.iam_group_complete.aws_iam_group_membership.this[0]","mode":"managed","type":"aws_iam_group_membership","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"group":"module.iam_group_complete.aws_iam_group.this.id","name":"production-admins","users":["user1","user2"]}},{"address":"module.iam_group_complete.aws_iam_group_policy_attachment.this","mode":"managed","type":"aws_iam_group_policy_attachment","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"group":"module.iam_group_complete.aws_iam_group.this.id","policy_arn":"module.iam_group_complete.aws_iam_policy.this.id"}},{"address":"module.iam_group_complete.aws_iam_policy.this","mode":"managed","type":"aws_iam_policy","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Allows to assume role in another AWS account","name":"production-admins","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Resource\": \"arn:aws:iam::111111111111:role/admin\"\n    }\n  ]\n}","tags":null}}],"address":"module.iam_group_complete"},{"resources":[{"address":"module.iam_group_complete_with_custom_policy.aws_iam_group_policy_attachment.custom_arns[0]","mode":"managed","type":"aws_iam_group_policy_attachment","name":"custom_arns","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"group":"production-admins","policy_arn":"arn:aws:iam::aws:policy/AmazonS3FullAccess"}},{"address":"module.iam_group_complete_with_custom_policy.aws_iam_group_policy_attachment.iam_self_management[0]","mode":"managed","type":"aws_iam_group_policy_attachment","name":"iam_self_management","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"group":"production-admins","policy_arn":"module.iam_group_complete_with_custom_policy.aws_iam_policy.iam_self_management[0].arn"}},{"address":"module.iam_group_complete_with_custom_policy.aws_iam_policy.iam_self_management[0]","mode":"managed","type":"aws_iam_policy","name":"iam_self_management","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name_prefix":"IAMSelfManagement-","path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowSelfManagement\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"iam:UploadSigningCertificate\",\n        \"iam:UploadSSHPublicKey\",\n        \"iam:UpdateUser\",\n        \"iam:UpdateLoginProfile\",\n        \"iam:UpdateAccessKey\",\n        \"iam:ResyncMFADevice\",\n        \"iam:List*\",\n        \"iam:Get*\",\n        \"iam:GenerateServiceLastAccessedDetails\",\n        \"iam:GenerateCredentialReport\",\n        \"iam:EnableMFADevice\",\n        \"iam:DeleteVirtualMFADevice\",\n        \"iam:DeleteLoginProfile\",\n        \"iam:DeleteAccessKey\",\n        \"iam:CreateVirtualMFADevice\",\n        \"iam:CreateLoginProfile\",\n        \"iam:CreateAccessKey\",\n        \"iam:ChangePassword\"\n      ],\n      \"Resource\": [\n        \"arn:aws:iam::115553109071:user/*/${aws:username}\",\n        \"arn:aws:iam::115553109071:user/${aws:username}\",\n        \"arn:aws:iam::115553109071:mfa/${aws:username}\"\n      ]\n    },\n    {\n      \"Sid\": \"AllowIAMReadOnly\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"iam:List*\",\n        \"iam:Get*\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"AllowDeactivateMFADevice\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"iam:DeactivateMFADevice\",\n      \"Resource\": [\n        \"arn:aws:iam::115553109071:user/*/${aws:username}\",\n        \"arn:aws:iam::115553109071:user/${aws:username}\",\n        \"arn:aws:iam::115553109071:mfa/${aws:username}\"\n      ],\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:MultiFactorAuthPresent\": [\n            \"true\"\n          ]\n        },\n        \"NumericLessThan\": {\n          \"aws:MultiFactorAuthAge\": [\n            \"3600\"\n          ]\n        }\n      }\n    }\n  ]\n}","tags":null}}],"address":"module.iam_group_complete_with_custom_policy"},{"resources":[{"address":"module.iam_user1.aws_iam_user.this[0]","mode":"managed","type":"aws_iam_user","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":false,"name":"user1","path":"/","permissions_boundary":"","tags":{}}}],"address":"module.iam_user1"},{"resources":[{"address":"module.iam_user2.aws_iam_user.this[0]","mode":"managed","type":"aws_iam_user","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":false,"name":"user2","path":"/","permissions_boundary":"","tags":{}}}],"address":"module.iam_user2"}]}},"resource_changes":[{"address":"module.iam_group_complete.aws_iam_group.this","module_address":"module.iam_group_complete","mode":"managed","type":"aws_iam_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"production-admins","path":"/"},"after_unknown":{"arn":true,"id":true,"unique_id":true}}},{"address":"module.iam_group_complete.aws_iam_group_membership.this[0]","module_address":"module.iam_group_complete","mode":"managed","type":"aws_iam_group_membership","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"group":"module.iam_group_complete.aws_iam_group.this.id","name":"production-admins","users":["user1","user2"]},"after_unknown":{"id":true,"users":[false,false]}}},{"address":"module.iam_group_complete.aws_iam_group_policy_attachment.this","module_address":"module.iam_group_complete","mode":"managed","type":"aws_iam_group_policy_attachment","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"group":"module.iam_group_complete.aws_iam_group.this.id","policy_arn":"module.iam_group_complete.aws_iam_policy.this.id"},"after_unknown":{"id":true}}},{"address":"module.iam_group_complete.aws_iam_policy.this","module_address":"module.iam_group_complete","mode":"managed","type":"aws_iam_policy","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Allows to assume role in another AWS account","name":"production-admins","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Resource\": \"arn:aws:iam::111111111111:role/admin\"\n    }\n  ]\n}","tags":null},"after_unknown":{"arn":true,"id":true,"policy_id":true,"tags_all":true}}},{"address":"module.iam_group_complete_with_custom_policy.aws_iam_group_policy_attachment.custom_arns[0]","module_address":"module.iam_group_complete_with_custom_policy","mode":"managed","type":"aws_iam_group_policy_attachment","name":"custom_arns","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"group":"production-admins","policy_arn":"arn:aws:iam::aws:policy/AmazonS3FullAccess"},"after_unknown":{"id":true}}},{"address":"module.iam_group_complete_with_custom_policy.aws_iam_group_policy_attachment.iam_self_management[0]","module_address":"module.iam_group_complete_with_custom_policy","mode":"managed","type":"aws_iam_group_policy_attachment","name":"iam_self_management","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"group":"production-admins","policy_arn":"module.iam_group_complete_with_custom_policy.aws_iam_policy.iam_self_management[0].arn"},"after_unknown":{"id":true}}},{"address":"module.iam_group_complete_with_custom_policy.aws_iam_policy.iam_self_management[0]","module_address":"module.iam_group_complete_with_custom_policy","mode":"managed","type":"aws_iam_policy","name":"iam_self_management","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name_prefix":"IAMSelfManagement-","path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowSelfManagement\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"iam:UploadSigningCertificate\",\n        \"iam:UploadSSHPublicKey\",\n        \"iam:UpdateUser\",\n        \"iam:UpdateLoginProfile\",\n        \"iam:UpdateAccessKey\",\n        \"iam:ResyncMFADevice\",\n        \"iam:List*\",\n        \"iam:Get*\",\n        \"iam:GenerateServiceLastAccessedDetails\",\n        \"iam:GenerateCredentialReport\",\n        \"iam:EnableMFADevice\",\n        \"iam:DeleteVirtualMFADevice\",\n        \"iam:DeleteLoginProfile\",\n        \"iam:DeleteAccessKey\",\n        \"iam:CreateVirtualMFADevice\",\n        \"iam:CreateLoginProfile\",\n        \"iam:CreateAccessKey\",\n        \"iam:ChangePassword\"\n      ],\n      \"Resource\": [\n        \"arn:aws:iam::115553109071:user/*/${aws:username}\",\n        \"arn:aws:iam::115553109071:user/${aws:username}\",\n        \"arn:aws:iam::115553109071:mfa/${aws:username}\"\n      ]\n    },\n    {\n      \"Sid\": \"AllowIAMReadOnly\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"iam:List*\",\n        \"iam:Get*\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"AllowDeactivateMFADevice\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"iam:DeactivateMFADevice\",\n      \"Resource\": [\n        \"arn:aws:iam::115553109071:user/*/${aws:username}\",\n        \"arn:aws:iam::115553109071:user/${aws:username}\",\n        \"arn:aws:iam::115553109071:mfa/${aws:username}\"\n      ],\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:MultiFactorAuthPresent\": [\n            \"true\"\n          ]\n        },\n        \"NumericLessThan\": {\n          \"aws:MultiFactorAuthAge\": [\n            \"3600\"\n          ]\n        }\n      }\n    }\n  ]\n}","tags":null},"after_unknown":{"arn":true,"id":true,"name":true,"policy_id":true,"tags_all":true}}},{"address":"module.iam_user1.aws_iam_user.this[0]","module_address":"module.iam_user1","mode":"managed","type":"aws_iam_user","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":false,"name":"user1","path":"/","permissions_boundary":"","tags":{}},"after_unknown":{"arn":true,"id":true,"tags":{},"tags_all":true,"unique_id":true}}},{"address":"module.iam_user2.aws_iam_user.this[0]","module_address":"module.iam_user2","mode":"managed","type":"aws_iam_user","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":false,"name":"user2","path":"/","permissions_boundary":"","tags":{}},"after_unknown":{"arn":true,"id":true,"tags":{},"tags_all":true,"unique_id":true}}}],"output_changes":{"aws_account_id":{"actions":["create"],"before":null,"after":"115553109071","after_unknown":false},"group_arn":{"actions":["create"],"before":null,"after":"module.iam_group_complete.aws_iam_group.this.arn","after_unknown":false},"group_name":{"actions":["create"],"before":null,"after":"production-admins","after_unknown":false},"keybase_password_decrypt_command":{"actions":["create"],"before":null,"after":"echo \"\" | base64 --decode | keybase pgp decrypt\n","after_unknown":false},"keybase_password_pgp_message":{"actions":["create"],"before":null,"after":"-----BEGIN PGP MESSAGE-----\nVersion: Keybase OpenPGP v2.0.76\nComment: https://keybase.io/crypto\n\n\n-----END PGP MESSAGE-----\n","after_unknown":false},"keybase_secret_key_decrypt_command":{"actions":["create"],"before":null,"after":"echo \"\" | base64 --decode | keybase pgp decrypt\n","after_unknown":false},"keybase_secret_key_pgp_message":{"actions":["create"],"before":null,"after":"-----BEGIN PGP MESSAGE-----\nVersion: Keybase OpenPGP v2.0.76\nComment: https://keybase.io/crypto\n\n\n-----END PGP MESSAGE-----\n","after_unknown":false},"pgp_key":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_assumable_roles":{"actions":["create"],"before":null,"after":["arn:aws:iam::111111111111:role/admin"],"after_unknown":false},"this_group_name":{"actions":["create"],"before":null,"after":"production-admins","after_unknown":false},"this_group_users":{"actions":["create"],"before":null,"after":["user1","user2"],"after_unknown":false},"this_iam_access_key_encrypted_secret":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_iam_access_key_id":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_iam_access_key_key_fingerprint":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_iam_access_key_secret":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_iam_access_key_ses_smtp_password_v4":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_iam_access_key_status":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_iam_user_arn":{"actions":["create"],"before":null,"after":"module.iam_user2.aws_iam_user.this[0].arn","after_unknown":false},"this_iam_user_login_profile_encrypted_password":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_iam_user_login_profile_key_fingerprint":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_iam_user_name":{"actions":["create"],"before":null,"after":"user1","after_unknown":false},"this_iam_user_ssh_key_fingerprint":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_iam_user_ssh_key_ssh_public_key_id":{"actions":["create"],"before":null,"after":"","after_unknown":false},"this_iam_user_unique_id":{"actions":["create"],"before":null,"after":"module.iam_user1.aws_iam_user.this[0].unique_id","after_unknown":false},"this_policy_arn":{"actions":["create"],"before":null,"after":"module.iam_group_complete.aws_iam_policy.this.arn","after_unknown":false}},"prior_state":{"format_version":"0.1","terraform_version":"0.13.4","values":{"outputs":{"this_assumable_roles":{"sensitive":false,"value":["arn:aws:iam::111111111111:role/admin"]}},"root_module":{"child_modules":[{"resources":[{"address":"module.iam_group_complete.data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"534993315","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Resource\": \"arn:aws:iam::111111111111:role/admin\"\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:iam::111111111111:role/admin"],"sid":""}],"version":"2012-10-17"}}],"address":"module.iam_group_complete"},{"resources":[{"address":"module.iam_group_complete_with_custom_policy.data.aws_caller_identity.current[0]","mode":"data","type":"aws_caller_identity","name":"current","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"115553109071","arn":"arn:aws:sts::115553109071:assumed-role/AWSReservedSSO_admin_in_develop_fb314e4593b59bf2/imanuel.m@indeni.com","id":"115553109071","user_id":"AROARVZ4AQRHRH7ZLU5BZ:imanuel.m@indeni.com"}},{"address":"module.iam_group_complete_with_custom_policy.data.aws_iam_policy_document.iam_self_management","mode":"data","type":"aws_iam_policy_document","name":"iam_self_management","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1470407837","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowSelfManagement\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"iam:UploadSigningCertificate\",\n        \"iam:UploadSSHPublicKey\",\n        \"iam:UpdateUser\",\n        \"iam:UpdateLoginProfile\",\n        \"iam:UpdateAccessKey\",\n        \"iam:ResyncMFADevice\",\n        \"iam:List*\",\n        \"iam:Get*\",\n        \"iam:GenerateServiceLastAccessedDetails\",\n        \"iam:GenerateCredentialReport\",\n        \"iam:EnableMFADevice\",\n        \"iam:DeleteVirtualMFADevice\",\n        \"iam:DeleteLoginProfile\",\n        \"iam:DeleteAccessKey\",\n        \"iam:CreateVirtualMFADevice\",\n        \"iam:CreateLoginProfile\",\n        \"iam:CreateAccessKey\",\n        \"iam:ChangePassword\"\n      ],\n      \"Resource\": [\n        \"arn:aws:iam::115553109071:user/*/${aws:username}\",\n        \"arn:aws:iam::115553109071:user/${aws:username}\",\n        \"arn:aws:iam::115553109071:mfa/${aws:username}\"\n      ]\n    },\n    {\n      \"Sid\": \"AllowIAMReadOnly\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"iam:List*\",\n        \"iam:Get*\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"AllowDeactivateMFADevice\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"iam:DeactivateMFADevice\",\n      \"Resource\": [\n        \"arn:aws:iam::115553109071:user/*/${aws:username}\",\n        \"arn:aws:iam::115553109071:user/${aws:username}\",\n        \"arn:aws:iam::115553109071:mfa/${aws:username}\"\n      ],\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:MultiFactorAuthPresent\": [\n            \"true\"\n          ]\n        },\n        \"NumericLessThan\": {\n          \"aws:MultiFactorAuthAge\": [\n            \"3600\"\n          ]\n        }\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["iam:ChangePassword","iam:CreateAccessKey","iam:CreateLoginProfile","iam:CreateVirtualMFADevice","iam:DeleteAccessKey","iam:DeleteLoginProfile","iam:DeleteVirtualMFADevice","iam:EnableMFADevice","iam:GenerateCredentialReport","iam:GenerateServiceLastAccessedDetails","iam:Get*","iam:List*","iam:ResyncMFADevice","iam:UpdateAccessKey","iam:UpdateLoginProfile","iam:UpdateUser","iam:UploadSSHPublicKey","iam:UploadSigningCertificate"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:iam::115553109071:mfa/${aws:username}","arn:aws:iam::115553109071:user/${aws:username}","arn:aws:iam::115553109071:user/*/${aws:username}"],"sid":"AllowSelfManagement"},{"actions":["iam:Get*","iam:List*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"AllowIAMReadOnly"},{"actions":["iam:DeactivateMFADevice"],"condition":[{"test":"Bool","values":["true"],"variable":"aws:MultiFactorAuthPresent"},{"test":"NumericLessThan","values":["3600"],"variable":"aws:MultiFactorAuthAge"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:iam::115553109071:mfa/${aws:username}","arn:aws:iam::115553109071:user/${aws:username}","arn:aws:iam::115553109071:user/*/${aws:username}"],"sid":"AllowDeactivateMFADevice"}],"version":"2012-10-17"}},{"address":"module.iam_group_complete_with_custom_policy.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"}}],"address":"module.iam_group_complete_with_custom_policy"}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"us-east-1"}}}},"root_module":{"outputs":{"this_assumable_roles":{"expression":{"references":["module.iam_group_complete.this_assumable_roles"]},"description":"List of ARNs of IAM roles which members of IAM group can assume"},"this_group_users":{"expression":{"references":["module.iam_group_complete.this_group_users"]},"description":"List of IAM users in IAM group"},"this_policy_arn":{"expression":{"references":["module.iam_group_complete.this_policy_arn"]},"description":"Assume role policy ARN for IAM group"}},"module_calls":{"iam_group_complete":{"source":"../../modules/iam-group-with-assumable-roles-policy","expressions":{"assumable_roles":{"constant_value":["arn:aws:iam::111111111111:role/admin"]},"group_users":{"references":["module.iam_user1.this_iam_user_name","module.iam_user2.this_iam_user_name"]},"name":{"constant_value":"production-admins"}},"module":{"outputs":{"group_arn":{"expression":{"references":["aws_iam_group.this"]},"description":"IAM group arn"},"group_name":{"expression":{"references":["aws_iam_group.this"]},"description":"IAM group name"},"this_assumable_roles":{"expression":{"references":["var.assumable_roles"]},"description":"List of ARNs of IAM roles which members of IAM group can assume"},"this_group_users":{"expression":{"references":["aws_iam_group_membership.this"]},"description":"List of IAM users in IAM group"},"this_policy_arn":{"expression":{"references":["aws_iam_policy.this"]},"description":"Assume role policy ARN of IAM group"}},"resources":[{"address":"aws_iam_group.this","mode":"managed","type":"aws_iam_group","name":"this","provider_config_key":"iam_group_complete:aws","expressions":{"name":{"references":["var.name"]}},"schema_version":0,"raw_data":{"FileName":"../../modules/iam-group-with-assumable-roles-policy/main.tf","StartLine":15,"EndLine":17}},{"address":"aws_iam_group_membership.this","mode":"managed","type":"aws_iam_group_membership","name":"this","provider_config_key":"iam_group_complete:aws","expressions":{"group":{"references":["aws_iam_group.this"]},"name":{"references":["var.name"]},"users":{"references":["var.group_users"]}},"schema_version":0,"count_expression":{"references":["var.group_users"]},"raw_data":{"FileName":"../../modules/iam-group-with-assumable-roles-policy/main.tf","StartLine":24,"EndLine":30}},{"address":"aws_iam_group_policy_attachment.this","mode":"managed","type":"aws_iam_group_policy_attachment","name":"this","provider_config_key":"iam_group_complete:aws","expressions":{"group":{"references":["aws_iam_group.this"]},"policy_arn":{"references":["aws_iam_policy.this"]}},"schema_version":0,"raw_data":{"FileName":"../../modules/iam-group-with-assumable-roles-policy/main.tf","StartLine":19,"EndLine":22}},{"address":"aws_iam_policy.this","mode":"managed","type":"aws_iam_policy","name":"this","provider_config_key":"iam_group_complete:aws","expressions":{"description":{"constant_value":"Allows to assume role in another AWS account"},"name":{"references":["var.name"]},"policy":{"references":["data.aws_iam_policy_document.assume_role"]}},"schema_version":0,"raw_data":{"FileName":"../../modules/iam-group-with-assumable-roles-policy/main.tf","StartLine":9,"EndLine":13}},{"address":"data.aws_iam_policy_document.assume_role","mode":"data","type":"aws_iam_policy_document","name":"assume_role","provider_config_key":"iam_group_complete:aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"resources":{"references":["var.assumable_roles"]}}]},"schema_version":0,"raw_data":{"FileName":"../../modules/iam-group-with-assumable-roles-policy/main.tf","StartLine":1,"EndLine":7}}],"variables":{"assumable_roles":{"default":[],"description":"List of IAM roles ARNs which can be assumed by the group"},"group_users":{"default":[],"description":"List of IAM users to have in an IAM group which can assume the role"},"name":{"description":"Name of IAM policy and IAM group"}}},"raw_data":{"FileName":"main.tf","StartLine":28,"EndLine":39}},"iam_group_complete_with_custom_policy":{"source":"../../modules/iam-group-with-policies","expressions":{"create_group":{"constant_value":false},"custom_group_policy_arns":{"constant_value":["arn:aws:iam::aws:policy/AmazonS3FullAccess"]},"name":{"references":["module.iam_group_complete.group_name"]}},"module":{"outputs":{"aws_account_id":{"expression":{"references":["local.aws_account_id"]},"description":"IAM AWS account id"},"this_group_name":{"expression":{"references":["aws_iam_group.this","var.name"]},"description":"IAM group name"},"this_group_users":{"expression":{"references":["aws_iam_group_membership.this"]},"description":"List of IAM users in IAM group"}},"resources":[{"address":"aws_iam_group.this","mode":"managed","type":"aws_iam_group","name":"this","provider_config_key":"iam_group_complete_with_custom_policy:aws","expressions":{"name":{"references":["var.name"]}},"schema_version":0,"count_expression":{"references":["var.create_group"]},"raw_data":{"FileName":"../../modules/iam-group-with-policies/main.tf","StartLine":5,"EndLine":9}},{"address":"aws_iam_group_membership.this","mode":"managed","type":"aws_iam_group_membership","name":"this","provider_config_key":"iam_group_complete_with_custom_policy:aws","expressions":{"group":{"references":["local.group_name"]},"name":{"references":["var.name"]},"users":{"references":["var.group_users"]}},"schema_version":0,"count_expression":{"references":["var.group_users"]},"raw_data":{"FileName":"../../modules/iam-group-with-policies/main.tf","StartLine":11,"EndLine":17}},{"address":"aws_iam_group_policy_attachment.custom","mode":"managed","type":"aws_iam_group_policy_attachment","name":"custom","provider_config_key":"iam_group_complete_with_custom_policy:aws","expressions":{"group":{"references":["local.group_name"]},"policy_arn":{"references":["aws_iam_policy.custom","count.index"]}},"schema_version":0,"count_expression":{"references":["var.custom_group_policies"]},"raw_data":{"FileName":"../../modules/iam-group-with-policies/main.tf","StartLine":36,"EndLine":41}},{"address":"aws_iam_group_policy_attachment.custom_arns","mode":"managed","type":"aws_iam_group_policy_attachment","name":"custom_arns","provider_config_key":"iam_group_complete_with_custom_policy:aws","expressions":{"group":{"references":["local.group_name"]},"policy_arn":{"references":["var.custom_group_policy_arns","count.index"]}},"schema_version":0,"count_expression":{"references":["var.custom_group_policy_arns"]},"raw_data":{"FileName":"../../modules/iam-group-with-policies/main.tf","StartLine":29,"EndLine":34}},{"address":"aws_iam_group_policy_attachment.iam_self_management","mode":"managed","type":"aws_iam_group_policy_attachment","name":"iam_self_management","provider_config_key":"iam_group_complete_with_custom_policy:aws","expressions":{"group":{"references":["local.group_name"]},"policy_arn":{"references":["aws_iam_policy.iam_self_management[0]"]}},"schema_version":0,"count_expression":{"references":["var.attach_iam_self_management_policy"]},"raw_data":{"FileName":"../../modules/iam-group-with-policies/main.tf","StartLine":22,"EndLine":27}},{"address":"aws_iam_policy.custom","mode":"managed","type":"aws_iam_policy","name":"custom","provider_config_key":"iam_group_complete_with_custom_policy:aws","expressions":{"description":{"references":["var.custom_group_policies","count.index"]},"name":{"references":["var.custom_group_policies","count.index"]},"policy":{"references":["var.custom_group_policies","count.index"]}},"schema_version":0,"count_expression":{"references":["var.custom_group_policies"]},"raw_data":{"FileName":"../../modules/iam-group-with-policies/main.tf","StartLine":53,"EndLine":59}},{"address":"aws_iam_policy.iam_self_management","mode":"managed","type":"aws_iam_policy","name":"iam_self_management","provider_config_key":"iam_group_complete_with_custom_policy:aws","expressions":{"name_prefix":{"references":["var.iam_self_management_policy_name_prefix"]},"policy":{"references":["data.aws_iam_policy_document.iam_self_management"]}},"schema_version":0,"count_expression":{"references":["var.attach_iam_self_management_policy"]},"raw_data":{"FileName":"../../modules/iam-group-with-policies/main.tf","StartLine":46,"EndLine":51}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"iam_group_complete_with_custom_policy:aws","schema_version":0,"count_expression":{"references":["var.aws_account_id"]},"raw_data":{"FileName":"../../modules/iam-group-with-policies/policies.tf","StartLine":1,"EndLine":3}},{"address":"data.aws_iam_policy_document.iam_self_management","mode":"data","type":"aws_iam_policy_document","name":"iam_self_management","provider_config_key":"iam_group_complete_with_custom_policy:aws","expressions":{"statement":[{"actions":{"constant_value":["iam:ChangePassword","iam:CreateAccessKey","iam:CreateLoginProfile","iam:CreateVirtualMFADevice","iam:DeleteAccessKey","iam:DeleteLoginProfile","iam:DeleteVirtualMFADevice","iam:EnableMFADevice","iam:GenerateCredentialReport","iam:GenerateServiceLastAccessedDetails","iam:Get*","iam:List*","iam:ResyncMFADevice","iam:UpdateAccessKey","iam:UpdateLoginProfile","iam:UpdateUser","iam:UploadSigningCertificate","iam:UploadSSHPublicKey"]},"effect":{"constant_value":"Allow"},"resources":{"references":["data.aws_partition.current","local.aws_account_id","data.aws_partition.current","local.aws_account_id","data.aws_partition.current","local.aws_account_id"]},"sid":{"constant_value":"AllowSelfManagement"}},{"actions":{"constant_value":["iam:Get*","iam:List*"]},"effect":{"constant_value":"Allow"},"resources":{"constant_value":["*"]},"sid":{"constant_value":"AllowIAMReadOnly"}},{"actions":{"constant_value":["iam:DeactivateMFADevice"]},"condition":[{"test":{"constant_value":"Bool"},"values":{"constant_value":["true"]},"variable":{"constant_value":"aws:MultiFactorAuthPresent"}},{"test":{"constant_value":"NumericLessThan"},"values":{"constant_value":["3600"]},"variable":{"constant_value":"aws:MultiFactorAuthAge"}}],"effect":{"constant_value":"Allow"},"resources":{"references":["data.aws_partition.current","local.aws_account_id","data.aws_partition.current","local.aws_account_id","data.aws_partition.current","local.aws_account_id"]},"sid":{"constant_value":"AllowDeactivateMFADevice"}}]},"schema_version":0,"raw_data":{"FileName":"../../modules/iam-group-with-policies/policies.tf","StartLine":17,"EndLine":93}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"iam_group_complete_with_custom_policy:aws","schema_version":0,"raw_data":{"FileName":"../../modules/iam-group-with-policies/policies.tf","StartLine":5,"EndLine":5}}],"variables":{"attach_iam_self_management_policy":{"default":true,"description":"Whether to attach IAM policy which allows IAM users to manage their credentials and MFA"},"aws_account_id":{"default":"","description":"AWS account id to use inside IAM policies. If empty, current AWS account ID will be used."},"create_group":{"default":true,"description":"Whether to create IAM group"},"custom_group_policies":{"default":[],"description":"List of maps of inline IAM policies to attach to IAM group. Should have `name` and `policy` keys in each element."},"custom_group_policy_arns":{"default":[],"description":"List of IAM policies ARNs to attach to IAM group"},"group_users":{"default":[],"description":"List of IAM users to have in an IAM group which can assume the role"},"iam_self_management_policy_name_prefix":{"default":"IAMSelfManagement-","description":"Name prefix for IAM policy to create with IAM self-management permissions"},"name":{"default":"","description":"Name of IAM group"}}},"raw_data":{"FileName":"main.tf","StartLine":44,"EndLine":54}},"iam_user1":{"source":"../../modules/iam-user","expressions":{"create_iam_access_key":{"constant_value":false},"create_iam_user_login_profile":{"constant_value":false},"name":{"constant_value":"user1"}},"module":{"outputs":{"keybase_password_decrypt_command":{"expression":{"references":["aws_iam_user_login_profile.this"]},"description":"Decrypt user password command"},"keybase_password_pgp_message":{"expression":{"references":["aws_iam_user_login_profile.this"]},"description":"Encrypted password"},"keybase_secret_key_decrypt_command":{"expression":{"references":["aws_iam_access_key.this"]},"description":"Decrypt access secret key command"},"keybase_secret_key_pgp_message":{"expression":{"references":["aws_iam_access_key.this"]},"description":"Encrypted access secret key"},"pgp_key":{"expression":{"references":["var.pgp_key"]},"description":"PGP key used to encrypt sensitive data for this user (if empty - secrets are not encrypted)"},"this_iam_access_key_encrypted_secret":{"expression":{"references":["aws_iam_access_key.this"]},"description":"The encrypted secret, base64 encoded"},"this_iam_access_key_id":{"expression":{"references":["aws_iam_access_key.this","aws_iam_access_key.this_no_pgp"]},"description":"The access key ID"},"this_iam_access_key_key_fingerprint":{"expression":{"references":["aws_iam_access_key.this"]},"description":"The fingerprint of the PGP key used to encrypt the secret"},"this_iam_access_key_secret":{"expression":{"references":["aws_iam_access_key.this_no_pgp"]},"description":"The access key secret"},"this_iam_access_key_ses_smtp_password_v4":{"expression":{"references":["aws_iam_access_key.this","aws_iam_access_key.this_no_pgp"]},"description":"The secret access key converted into an SES SMTP password by applying AWS's Sigv4 conversion algorithm"},"this_iam_access_key_status":{"expression":{"references":["aws_iam_access_key.this","aws_iam_access_key.this_no_pgp"]},"description":"Active or Inactive. Keys are initially active, but can be made inactive by other means."},"this_iam_user_arn":{"expression":{"references":["aws_iam_user.this"]},"description":"The ARN assigned by AWS for this user"},"this_iam_user_login_profile_encrypted_password":{"expression":{"references":["aws_iam_user_login_profile.this"]},"description":"The encrypted password, base64 encoded"},"this_iam_user_login_profile_key_fingerprint":{"expression":{"references":["aws_iam_user_login_profile.this"]},"description":"The fingerprint of the PGP key used to encrypt the password"},"this_iam_user_name":{"expression":{"references":["aws_iam_user.this"]},"description":"The user's name"},"this_iam_user_ssh_key_fingerprint":{"expression":{"references":["aws_iam_user_ssh_key.this"]},"description":"The MD5 message digest of the SSH public key"},"this_iam_user_ssh_key_ssh_public_key_id":{"expression":{"references":["aws_iam_user_ssh_key.this"]},"description":"The unique identifier for the SSH public key"},"this_iam_user_unique_id":{"expression":{"references":["aws_iam_user.this"]},"description":"The unique ID assigned by AWS"}},"resources":[{"address":"aws_iam_access_key.this","mode":"managed","type":"aws_iam_access_key","name":"this","provider_config_key":"iam_user1:aws","expressions":{"pgp_key":{"references":["var.pgp_key"]},"user":{"references":["aws_iam_user.this[0]"]}},"schema_version":0,"count_expression":{"references":["var.create_user","var.create_iam_access_key","var.pgp_key"]},"raw_data":{"FileName":"../../modules/iam-user/main.tf","StartLine":20,"EndLine":25}},{"address":"aws_iam_access_key.this_no_pgp","mode":"managed","type":"aws_iam_access_key","name":"this_no_pgp","provider_config_key":"iam_user1:aws","expressions":{"user":{"references":["aws_iam_user.this[0]"]}},"schema_version":0,"count_expression":{"references":["var.create_user","var.create_iam_access_key","var.pgp_key"]},"raw_data":{"FileName":"../../modules/iam-user/main.tf","StartLine":27,"EndLine":31}},{"address":"aws_iam_user.this","mode":"managed","type":"aws_iam_user","name":"this","provider_config_key":"iam_user1:aws","expressions":{"force_destroy":{"references":["var.force_destroy"]},"name":{"references":["var.name"]},"path":{"references":["var.path"]},"permissions_boundary":{"references":["var.permissions_boundary"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_user"]},"raw_data":{"FileName":"../../modules/iam-user/main.tf","StartLine":1,"EndLine":9}},{"address":"aws_iam_user_login_profile.this","mode":"managed","type":"aws_iam_user_login_profile","name":"this","provider_config_key":"iam_user1:aws","expressions":{"password_length":{"references":["var.password_length"]},"password_reset_required":{"references":["var.password_reset_required"]},"pgp_key":{"references":["var.pgp_key"]},"user":{"references":["aws_iam_user.this[0]"]}},"schema_version":0,"count_expression":{"references":["var.create_user","var.create_iam_user_login_profile"]},"raw_data":{"FileName":"../../modules/iam-user/main.tf","StartLine":11,"EndLine":18}},{"address":"aws_iam_user_ssh_key.this","mode":"managed","type":"aws_iam_user_ssh_key","name":"this","provider_config_key":"iam_user1:aws","expressions":{"encoding":{"references":["var.ssh_key_encoding"]},"public_key":{"references":["var.ssh_public_key"]},"username":{"references":["aws_iam_user.this[0]"]}},"schema_version":0,"count_expression":{"references":["var.create_user","var.upload_iam_user_ssh_key"]},"raw_data":{"FileName":"../../modules/iam-user/main.tf","StartLine":33,"EndLine":39}}],"variables":{"create_iam_access_key":{"default":true,"description":"Whether to create IAM access key"},"create_iam_user_login_profile":{"default":true,"description":"Whether to create IAM user login profile"},"create_user":{"default":true,"description":"Whether to create the IAM user"},"force_destroy":{"default":false,"description":"When destroying this user, destroy even if it has non-Terraform-managed IAM access keys, login profile or MFA devices. Without force_destroy a user with non-Terraform-managed access keys and login profile will fail to be destroyed."},"name":{"description":"Desired name for the IAM user"},"password_length":{"default":20,"description":"The length of the generated password"},"password_reset_required":{"default":true,"description":"Whether the user should be forced to reset the generated password on first login."},"path":{"default":"/","description":"Desired path for the IAM user"},"permissions_boundary":{"default":"","description":"The ARN of the policy that is used to set the permissions boundary for the user."},"pgp_key":{"default":"","description":"Either a base-64 encoded PGP public key, or a keybase username in the form `keybase:username`. Used to encrypt password and access key. `pgp_key` is required when `create_iam_user_login_profile` is set to `true`"},"ssh_key_encoding":{"default":"SSH","description":"Specifies the public key encoding format to use in the response. To retrieve the public key in ssh-rsa format, use SSH. To retrieve the public key in PEM format, use PEM"},"ssh_public_key":{"default":"","description":"The SSH public key. The public key must be encoded in ssh-rsa format or PEM format"},"tags":{"default":{},"description":"A map of tags to add to all resources."},"upload_iam_user_ssh_key":{"default":false,"description":"Whether to upload a public ssh key to the IAM user"}}},"raw_data":{"FileName":"main.tf","StartLine":7,"EndLine":14}},"iam_user2":{"source":"../../modules/iam-user","expressions":{"create_iam_access_key":{"constant_value":false},"create_iam_user_login_profile":{"constant_value":false},"name":{"constant_value":"user2"}},"module":{"outputs":{"keybase_password_decrypt_command":{"expression":{"references":["aws_iam_user_login_profile.this"]},"description":"Decrypt user password command"},"keybase_password_pgp_message":{"expression":{"references":["aws_iam_user_login_profile.this"]},"description":"Encrypted password"},"keybase_secret_key_decrypt_command":{"expression":{"references":["aws_iam_access_key.this"]},"description":"Decrypt access secret key command"},"keybase_secret_key_pgp_message":{"expression":{"references":["aws_iam_access_key.this"]},"description":"Encrypted access secret key"},"pgp_key":{"expression":{"references":["var.pgp_key"]},"description":"PGP key used to encrypt sensitive data for this user (if empty - secrets are not encrypted)"},"this_iam_access_key_encrypted_secret":{"expression":{"references":["aws_iam_access_key.this"]},"description":"The encrypted secret, base64 encoded"},"this_iam_access_key_id":{"expression":{"references":["aws_iam_access_key.this","aws_iam_access_key.this_no_pgp"]},"description":"The access key ID"},"this_iam_access_key_key_fingerprint":{"expression":{"references":["aws_iam_access_key.this"]},"description":"The fingerprint of the PGP key used to encrypt the secret"},"this_iam_access_key_secret":{"expression":{"references":["aws_iam_access_key.this_no_pgp"]},"description":"The access key secret"},"this_iam_access_key_ses_smtp_password_v4":{"expression":{"references":["aws_iam_access_key.this","aws_iam_access_key.this_no_pgp"]},"description":"The secret access key converted into an SES SMTP password by applying AWS's Sigv4 conversion algorithm"},"this_iam_access_key_status":{"expression":{"references":["aws_iam_access_key.this","aws_iam_access_key.this_no_pgp"]},"description":"Active or Inactive. Keys are initially active, but can be made inactive by other means."},"this_iam_user_arn":{"expression":{"references":["aws_iam_user.this"]},"description":"The ARN assigned by AWS for this user"},"this_iam_user_login_profile_encrypted_password":{"expression":{"references":["aws_iam_user_login_profile.this"]},"description":"The encrypted password, base64 encoded"},"this_iam_user_login_profile_key_fingerprint":{"expression":{"references":["aws_iam_user_login_profile.this"]},"description":"The fingerprint of the PGP key used to encrypt the password"},"this_iam_user_name":{"expression":{"references":["aws_iam_user.this"]},"description":"The user's name"},"this_iam_user_ssh_key_fingerprint":{"expression":{"references":["aws_iam_user_ssh_key.this"]},"description":"The MD5 message digest of the SSH public key"},"this_iam_user_ssh_key_ssh_public_key_id":{"expression":{"references":["aws_iam_user_ssh_key.this"]},"description":"The unique identifier for the SSH public key"},"this_iam_user_unique_id":{"expression":{"references":["aws_iam_user.this"]},"description":"The unique ID assigned by AWS"}},"resources":[{"address":"aws_iam_access_key.this","mode":"managed","type":"aws_iam_access_key","name":"this","provider_config_key":"iam_user2:aws","expressions":{"pgp_key":{"references":["var.pgp_key"]},"user":{"references":["aws_iam_user.this[0]"]}},"schema_version":0,"count_expression":{"references":["var.create_user","var.create_iam_access_key","var.pgp_key"]},"raw_data":{"FileName":"../../modules/iam-user/main.tf","StartLine":20,"EndLine":25}},{"address":"aws_iam_access_key.this_no_pgp","mode":"managed","type":"aws_iam_access_key","name":"this_no_pgp","provider_config_key":"iam_user2:aws","expressions":{"user":{"references":["aws_iam_user.this[0]"]}},"schema_version":0,"count_expression":{"references":["var.create_user","var.create_iam_access_key","var.pgp_key"]},"raw_data":{"FileName":"../../modules/iam-user/main.tf","StartLine":27,"EndLine":31}},{"address":"aws_iam_user.this","mode":"managed","type":"aws_iam_user","name":"this","provider_config_key":"iam_user2:aws","expressions":{"force_destroy":{"references":["var.force_destroy"]},"name":{"references":["var.name"]},"path":{"references":["var.path"]},"permissions_boundary":{"references":["var.permissions_boundary"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_user"]},"raw_data":{"FileName":"../../modules/iam-user/main.tf","StartLine":1,"EndLine":9}},{"address":"aws_iam_user_login_profile.this","mode":"managed","type":"aws_iam_user_login_profile","name":"this","provider_config_key":"iam_user2:aws","expressions":{"password_length":{"references":["var.password_length"]},"password_reset_required":{"references":["var.password_reset_required"]},"pgp_key":{"references":["var.pgp_key"]},"user":{"references":["aws_iam_user.this[0]"]}},"schema_version":0,"count_expression":{"references":["var.create_user","var.create_iam_user_login_profile"]},"raw_data":{"FileName":"../../modules/iam-user/main.tf","StartLine":11,"EndLine":18}},{"address":"aws_iam_user_ssh_key.this","mode":"managed","type":"aws_iam_user_ssh_key","name":"this","provider_config_key":"iam_user2:aws","expressions":{"encoding":{"references":["var.ssh_key_encoding"]},"public_key":{"references":["var.ssh_public_key"]},"username":{"references":["aws_iam_user.this[0]"]}},"schema_version":0,"count_expression":{"references":["var.create_user","var.upload_iam_user_ssh_key"]},"raw_data":{"FileName":"../../modules/iam-user/main.tf","StartLine":33,"EndLine":39}}],"variables":{"create_iam_access_key":{"default":true,"description":"Whether to create IAM access key"},"create_iam_user_login_profile":{"default":true,"description":"Whether to create IAM user login profile"},"create_user":{"default":true,"description":"Whether to create the IAM user"},"force_destroy":{"default":false,"description":"When destroying this user, destroy even if it has non-Terraform-managed IAM access keys, login profile or MFA devices. Without force_destroy a user with non-Terraform-managed access keys and login profile will fail to be destroyed."},"name":{"description":"Desired name for the IAM user"},"password_length":{"default":20,"description":"The length of the generated password"},"password_reset_required":{"default":true,"description":"Whether the user should be forced to reset the generated password on first login."},"path":{"default":"/","description":"Desired path for the IAM user"},"permissions_boundary":{"default":"","description":"The ARN of the policy that is used to set the permissions boundary for the user."},"pgp_key":{"default":"","description":"Either a base-64 encoded PGP public key, or a keybase username in the form `keybase:username`. Used to encrypt password and access key. `pgp_key` is required when `create_iam_user_login_profile` is set to `true`"},"ssh_key_encoding":{"default":"SSH","description":"Specifies the public key encoding format to use in the response. To retrieve the public key in ssh-rsa format, use SSH. To retrieve the public key in PEM format, use PEM"},"ssh_public_key":{"default":"","description":"The SSH public key. The public key must be encoded in ssh-rsa format or PEM format"},"tags":{"default":{},"description":"A map of tags to add to all resources."},"upload_iam_user_ssh_key":{"default":false,"description":"Whether to upload a public ssh key to the IAM user"}}},"raw_data":{"FileName":"main.tf","StartLine":16,"EndLine":23}}}}}}
