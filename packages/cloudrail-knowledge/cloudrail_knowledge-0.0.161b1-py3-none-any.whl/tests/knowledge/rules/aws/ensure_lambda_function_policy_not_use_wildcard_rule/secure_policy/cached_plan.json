{"format_version":"0.1","terraform_version":"0.12.29","planned_values":{"root_module":{"resources":[{"address":"aws_iam_role.lambda-role","mode":"managed","type":"aws_iam_role","name":"lambda-role","provider_name":"aws","schema_version":0,"values":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"lambda-role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_lambda_alias.my-lambda-alias","mode":"managed","type":"aws_lambda_alias","name":"my-lambda-alias","provider_name":"aws","schema_version":0,"values":{"description":"a sample description","function_name":"aws_lambda_function.my-lambda.arn","function_version":"1","name":"v1","routing_config":[]}},{"address":"aws_lambda_function.my-lambda","mode":"managed","type":"aws_lambda_function","name":"my-lambda","provider_name":"aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"my-lambda","handler":"lambda_function.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"role":"aws_iam_role.lambda-role.arn","runtime":"python3.8","s3_bucket":"lambda-repository-eu-cenrtal-1","s3_key":"show-s3-object-content-407b423f-0cff-4fa2-9ce9-df780f319ca8.zip","s3_object_version":null,"tags":null,"timeout":3,"timeouts":null,"vpc_config":[]}},{"address":"aws_lambda_permission.allow-all-ecr-repositories","mode":"managed","type":"aws_lambda_permission","name":"allow-all-ecr-repositories","provider_name":"aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"my-lambda","principal":"ecr.amazonaws.com","qualifier":null,"source_account":"111111111111","source_arn":"arn:aws:ecr:us-east-1:111111111111:repository/some-repo-name","statement_id":"AllowAllEcrRepositories","statement_id_prefix":null}},{"address":"aws_lambda_permission.allow-s3-bucket","mode":"managed","type":"aws_lambda_permission","name":"allow-s3-bucket","provider_name":"aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"my-lambda","principal":"s3.amazonaws.com","qualifier":null,"source_account":"111111111111","source_arn":"arn:aws:s3:::delete-me-eu-central-1","statement_id":"AllowExecutionFromS3Bucket","statement_id_prefix":null}},{"address":"aws_s3_bucket.bucket","mode":"managed","type":"aws_s3_bucket","name":"bucket","provider_name":"aws","schema_version":0,"values":{"acl":"private","bucket":"delete-me-eu-central-1","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]}}]}},"resource_changes":[{"address":"aws_iam_role.lambda-role","mode":"managed","type":"aws_iam_role","name":"lambda-role","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"lambda-role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"unique_id":true}}},{"address":"aws_lambda_alias.my-lambda-alias","mode":"managed","type":"aws_lambda_alias","name":"my-lambda-alias","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"description":"a sample description","function_name":"aws_lambda_function.my-lambda.arn","function_version":"1","name":"v1","routing_config":[]},"after_unknown":{"arn":true,"id":true,"invoke_arn":true,"routing_config":[]}}},{"address":"aws_lambda_function.my-lambda","mode":"managed","type":"aws_lambda_function","name":"my-lambda","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"my-lambda","handler":"lambda_function.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"role":"aws_iam_role.lambda-role.arn","runtime":"python3.8","s3_bucket":"lambda-repository-eu-cenrtal-1","s3_key":"show-s3-object-content-407b423f-0cff-4fa2-9ce9-df780f319ca8.zip","s3_object_version":null,"tags":null,"timeout":3,"timeouts":null,"vpc_config":[]},"after_unknown":{"arn":true,"dead_letter_config":[],"environment":[],"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"qualified_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"tracing_config":true,"version":true,"vpc_config":[]}}},{"address":"aws_lambda_permission.allow-all-ecr-repositories","mode":"managed","type":"aws_lambda_permission","name":"allow-all-ecr-repositories","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"my-lambda","principal":"ecr.amazonaws.com","qualifier":null,"source_account":"111111111111","source_arn":"arn:aws:ecr:us-east-1:111111111111:repository/some-repo-name","statement_id":"AllowAllEcrRepositories","statement_id_prefix":null},"after_unknown":{"id":true}}},{"address":"aws_lambda_permission.allow-s3-bucket","mode":"managed","type":"aws_lambda_permission","name":"allow-s3-bucket","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"my-lambda","principal":"s3.amazonaws.com","qualifier":null,"source_account":"111111111111","source_arn":"arn:aws:s3:::delete-me-eu-central-1","statement_id":"AllowExecutionFromS3Bucket","statement_id_prefix":null},"after_unknown":{"id":true}}},{"address":"aws_s3_bucket.bucket","mode":"managed","type":"aws_s3_bucket","name":"bucket","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"delete-me-eu-central-1","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]},"after_unknown":{"acceleration_status":true,"arn":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":[],"grant":[],"hosted_zone_id":true,"id":true,"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"region":true,"replication_configuration":[],"request_payer":true,"server_side_encryption_configuration":[],"versioning":true,"website":[],"website_domain":true,"website_endpoint":true}}}],"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"eu-central-1"}}}},"root_module":{"resources":[{"address":"aws_iam_role.lambda-role","mode":"managed","type":"aws_iam_role","name":"lambda-role","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n"},"name":{"constant_value":"lambda-role"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":14,"EndLine":32}},{"address":"aws_lambda_alias.my-lambda-alias","mode":"managed","type":"aws_lambda_alias","name":"my-lambda-alias","provider_config_key":"aws","expressions":{"description":{"constant_value":"a sample description"},"function_name":{"references":["aws_lambda_function.my-lambda"]},"function_version":{"constant_value":"1"},"name":{"constant_value":"v1"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":52,"EndLine":57}},{"address":"aws_lambda_function.my-lambda","mode":"managed","type":"aws_lambda_function","name":"my-lambda","provider_config_key":"aws","expressions":{"function_name":{"constant_value":"my-lambda"},"handler":{"constant_value":"lambda_function.lambda_handler"},"role":{"references":["aws_iam_role.lambda-role"]},"runtime":{"constant_value":"python3.8"},"s3_bucket":{"constant_value":"lambda-repository-eu-cenrtal-1"},"s3_key":{"constant_value":"show-s3-object-content-407b423f-0cff-4fa2-9ce9-df780f319ca8.zip"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":5,"EndLine":12}},{"address":"aws_lambda_permission.allow-all-ecr-repositories","mode":"managed","type":"aws_lambda_permission","name":"allow-all-ecr-repositories","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"references":["aws_lambda_function.my-lambda"]},"principal":{"constant_value":"ecr.amazonaws.com"},"source_account":{"constant_value":"111111111111"},"source_arn":{"constant_value":"arn:aws:ecr:us-east-1:111111111111:repository/some-repo-name"},"statement_id":{"constant_value":"AllowAllEcrRepositories"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":43,"EndLine":50}},{"address":"aws_lambda_permission.allow-s3-bucket","mode":"managed","type":"aws_lambda_permission","name":"allow-s3-bucket","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"references":["aws_lambda_function.my-lambda"]},"principal":{"constant_value":"s3.amazonaws.com"},"source_account":{"constant_value":"111111111111"},"source_arn":{"constant_value":"arn:aws:s3:::delete-me-eu-central-1"},"statement_id":{"constant_value":"AllowExecutionFromS3Bucket"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":34,"EndLine":41}},{"address":"aws_s3_bucket.bucket","mode":"managed","type":"aws_s3_bucket","name":"bucket","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"delete-me-eu-central-1"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":59,"EndLine":61}}]}}}
