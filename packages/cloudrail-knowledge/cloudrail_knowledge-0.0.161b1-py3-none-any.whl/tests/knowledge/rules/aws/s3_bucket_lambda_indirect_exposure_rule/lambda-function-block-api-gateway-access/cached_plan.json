{"format_version":"0.1","terraform_version":"0.12.29","planned_values":{"root_module":{"resources":[{"address":"aws_api_gateway_integration.my-lambda-func-integration","mode":"managed","type":"aws_api_gateway_integration","name":"my-lambda-func-integration","provider_name":"aws","schema_version":0,"values":{"cache_key_parameters":null,"connection_id":null,"connection_type":"INTERNET","content_handling":null,"credentials":null,"http_method":"GET","integration_http_method":"POST","request_parameters":null,"request_templates":null,"resource_id":"aws_api_gateway_resource.my-api-gateway-resource.id","rest_api_id":"aws_api_gateway_rest_api.my-api-gateway.id","timeout_milliseconds":29000,"tls_config":[],"type":"AWS","uri":"aws_lambda_function.my-lambda-func.invoke_arn"}},{"address":"aws_api_gateway_method.my-api-gateway-method","mode":"managed","type":"aws_api_gateway_method","name":"my-api-gateway-method","provider_name":"aws","schema_version":0,"values":{"api_key_required":false,"authorization":"NONE","authorization_scopes":null,"authorizer_id":null,"http_method":"GET","operation_name":null,"request_models":null,"request_parameters":null,"request_validator_id":null,"resource_id":"aws_api_gateway_resource.my-api-gateway-resource.id","rest_api_id":"aws_api_gateway_rest_api.my-api-gateway.id"}},{"address":"aws_api_gateway_resource.my-api-gateway-resource","mode":"managed","type":"aws_api_gateway_resource","name":"my-api-gateway-resource","provider_name":"aws","schema_version":0,"values":{"parent_id":"aws_api_gateway_rest_api.my-api-gateway.root_resource_id","path_part":"v1","rest_api_id":"aws_api_gateway_rest_api.my-api-gateway.id"}},{"address":"aws_api_gateway_rest_api.my-api-gateway","mode":"managed","type":"aws_api_gateway_rest_api","name":"my-api-gateway","provider_name":"aws","schema_version":0,"values":{"body":null,"endpoint_configuration":[{"types":["EDGE"]}],"minimum_compression_size":-1,"name":"my-api-gateway","parameters":null,"tags":null}},{"address":"aws_iam_policy.lambda-role-execution-policy","mode":"managed","type":"aws_iam_policy","name":"lambda-role-execution-policy","provider_name":"aws","schema_version":0,"values":{"description":null,"name":"lambda-role-execution-policy","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"s3:*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","tags":null}},{"address":"aws_iam_role.my-lambda-func-role","mode":"managed","type":"aws_iam_role","name":"my-lambda-func-role","provider_name":"aws","schema_version":0,"values":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"my-lambda-func-role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role_policy_attachment.test-attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"test-attach","provider_name":"aws","schema_version":0,"values":{"policy_arn":"aws_iam_policy.lambda-role-execution-policy.arn","role":"my-lambda-func-role"}},{"address":"aws_lambda_function.my-lambda-func","mode":"managed","type":"aws_lambda_function","name":"my-lambda-func","provider_name":"aws","schema_version":0,"values":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"my-lambda-func","handler":"lambda.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"role":"aws_iam_role.my-lambda-func-role.arn","runtime":"python2.7","s3_bucket":"my-lambda-func-repo","s3_key":"my-lambda-func-1.0.zip","s3_object_version":null,"tags":null,"timeout":3,"timeouts":null,"vpc_config":[]}},{"address":"aws_lambda_permission.my-lambda-func-permissions","mode":"managed","type":"aws_lambda_permission","name":"my-lambda-func-permissions","provider_name":"aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"my-lambda-func","principal":"s3.amazonaws.com","qualifier":null,"source_account":null,"source_arn":"aws_s3_bucket.my-bucket.arn","statement_id":"AllowExecutionCloudwatch","statement_id_prefix":null}},{"address":"aws_s3_bucket.my-bucket","mode":"managed","type":"aws_s3_bucket","name":"my-bucket","provider_name":"aws","schema_version":0,"values":{"acl":"private","bucket":"my-bucket","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]}},{"address":"aws_s3_bucket_policy.my-bucket-policy","mode":"managed","type":"aws_s3_bucket_policy","name":"my-bucket-policy","provider_name":"aws","schema_version":0,"values":{"bucket":"aws_s3_bucket.my-bucket.id","policy":"{\n  \"Version\":\"2012-10-17\",\n  \"Statement\":[\n    {\n      \"Sid\":\"PublicRead\",\n      \"Effect\":\"Allow\",\n      \"Principal\": {\"Service\": \"apigateway.amazonaws.com\"},\n      \"Action\": \"s3:*\",\n      \"Resource\":[\"arn:aws:s3:::my-bucket\"]\n    }\n  ]\n}\n"}}]}},"resource_changes":[{"address":"aws_api_gateway_integration.my-lambda-func-integration","mode":"managed","type":"aws_api_gateway_integration","name":"my-lambda-func-integration","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"cache_key_parameters":null,"connection_id":null,"connection_type":"INTERNET","content_handling":null,"credentials":null,"http_method":"GET","integration_http_method":"POST","request_parameters":null,"request_templates":null,"resource_id":"aws_api_gateway_resource.my-api-gateway-resource.id","rest_api_id":"aws_api_gateway_rest_api.my-api-gateway.id","timeout_milliseconds":29000,"tls_config":[],"type":"AWS","uri":"aws_lambda_function.my-lambda-func.invoke_arn"},"after_unknown":{"cache_namespace":true,"id":true,"passthrough_behavior":true,"tls_config":[]}}},{"address":"aws_api_gateway_method.my-api-gateway-method","mode":"managed","type":"aws_api_gateway_method","name":"my-api-gateway-method","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"api_key_required":false,"authorization":"NONE","authorization_scopes":null,"authorizer_id":null,"http_method":"GET","operation_name":null,"request_models":null,"request_parameters":null,"request_validator_id":null,"resource_id":"aws_api_gateway_resource.my-api-gateway-resource.id","rest_api_id":"aws_api_gateway_rest_api.my-api-gateway.id"},"after_unknown":{"id":true}}},{"address":"aws_api_gateway_resource.my-api-gateway-resource","mode":"managed","type":"aws_api_gateway_resource","name":"my-api-gateway-resource","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"parent_id":"aws_api_gateway_rest_api.my-api-gateway.root_resource_id","path_part":"v1","rest_api_id":"aws_api_gateway_rest_api.my-api-gateway.id"},"after_unknown":{"id":true,"path":true}}},{"address":"aws_api_gateway_rest_api.my-api-gateway","mode":"managed","type":"aws_api_gateway_rest_api","name":"my-api-gateway","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"body":null,"endpoint_configuration":[{"types":["EDGE"]}],"minimum_compression_size":-1,"name":"my-api-gateway","parameters":null,"tags":null},"after_unknown":{"api_key_source":true,"arn":true,"binary_media_types":true,"created_date":true,"description":true,"disable_execute_api_endpoint":true,"endpoint_configuration":[{"types":[false],"vpc_endpoint_ids":true}],"execution_arn":true,"id":true,"policy":true,"root_resource_id":true}}},{"address":"aws_iam_policy.lambda-role-execution-policy","mode":"managed","type":"aws_iam_policy","name":"lambda-role-execution-policy","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"lambda-role-execution-policy","name_prefix":null,"path":"/","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"s3:*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","tags":null},"after_unknown":{"arn":true,"id":true,"policy_id":true}}},{"address":"aws_iam_role.my-lambda-func-role","mode":"managed","type":"aws_iam_role","name":"my-lambda-func-role","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"my-lambda-func-role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"unique_id":true}}},{"address":"aws_iam_role_policy_attachment.test-attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"test-attach","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"aws_iam_policy.lambda-role-execution-policy.arn","role":"my-lambda-func-role"},"after_unknown":{"id":true}}},{"address":"aws_lambda_function.my-lambda-func","mode":"managed","type":"aws_lambda_function","name":"my-lambda-func","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[],"file_system_config":[],"filename":null,"function_name":"my-lambda-func","handler":"lambda.lambda_handler","image_config":[],"image_uri":null,"kms_key_arn":null,"layers":null,"memory_size":128,"package_type":"Zip","publish":false,"reserved_concurrent_executions":-1,"role":"aws_iam_role.my-lambda-func-role.arn","runtime":"python2.7","s3_bucket":"my-lambda-func-repo","s3_key":"my-lambda-func-1.0.zip","s3_object_version":null,"tags":null,"timeout":3,"timeouts":null,"vpc_config":[]},"after_unknown":{"arn":true,"dead_letter_config":[],"environment":[],"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"last_modified":true,"qualified_arn":true,"signing_job_arn":true,"signing_profile_version_arn":true,"source_code_hash":true,"source_code_size":true,"tracing_config":true,"version":true,"vpc_config":[]}}},{"address":"aws_lambda_permission.my-lambda-func-permissions","mode":"managed","type":"aws_lambda_permission","name":"my-lambda-func-permissions","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"my-lambda-func","principal":"s3.amazonaws.com","qualifier":null,"source_account":null,"source_arn":"aws_s3_bucket.my-bucket.arn","statement_id":"AllowExecutionCloudwatch","statement_id_prefix":null},"after_unknown":{"id":true}}},{"address":"aws_s3_bucket.my-bucket","mode":"managed","type":"aws_s3_bucket","name":"my-bucket","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"my-bucket","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"website":[]},"after_unknown":{"acceleration_status":true,"arn":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":[],"grant":[],"hosted_zone_id":true,"id":true,"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"region":true,"replication_configuration":[],"request_payer":true,"server_side_encryption_configuration":[],"versioning":true,"website":[],"website_domain":true,"website_endpoint":true}}},{"address":"aws_s3_bucket_policy.my-bucket-policy","mode":"managed","type":"aws_s3_bucket_policy","name":"my-bucket-policy","provider_name":"aws","change":{"actions":["create"],"before":null,"after":{"bucket":"aws_s3_bucket.my-bucket.id","policy":"{\n  \"Version\":\"2012-10-17\",\n  \"Statement\":[\n    {\n      \"Sid\":\"PublicRead\",\n      \"Effect\":\"Allow\",\n      \"Principal\": {\"Service\": \"apigateway.amazonaws.com\"},\n      \"Action\": \"s3:*\",\n      \"Resource\":[\"arn:aws:s3:::my-bucket\"]\n    }\n  ]\n}\n"},"after_unknown":{"id":true}}}],"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"us-east-1"}}}},"root_module":{"resources":[{"address":"aws_api_gateway_integration.my-lambda-func-integration","mode":"managed","type":"aws_api_gateway_integration","name":"my-lambda-func-integration","provider_config_key":"aws","expressions":{"http_method":{"references":["aws_api_gateway_method.my-api-gateway-method"]},"integration_http_method":{"constant_value":"POST"},"resource_id":{"references":["aws_api_gateway_resource.my-api-gateway-resource"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.my-api-gateway"]},"type":{"constant_value":"AWS"},"uri":{"references":["aws_lambda_function.my-lambda-func"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":26,"EndLine":33}},{"address":"aws_api_gateway_method.my-api-gateway-method","mode":"managed","type":"aws_api_gateway_method","name":"my-api-gateway-method","provider_config_key":"aws","expressions":{"authorization":{"constant_value":"NONE"},"http_method":{"constant_value":"GET"},"resource_id":{"references":["aws_api_gateway_resource.my-api-gateway-resource"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.my-api-gateway"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":19,"EndLine":24}},{"address":"aws_api_gateway_resource.my-api-gateway-resource","mode":"managed","type":"aws_api_gateway_resource","name":"my-api-gateway-resource","provider_config_key":"aws","expressions":{"parent_id":{"references":["aws_api_gateway_rest_api.my-api-gateway"]},"path_part":{"constant_value":"v1"},"rest_api_id":{"references":["aws_api_gateway_rest_api.my-api-gateway"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":13,"EndLine":17}},{"address":"aws_api_gateway_rest_api.my-api-gateway","mode":"managed","type":"aws_api_gateway_rest_api","name":"my-api-gateway","provider_config_key":"aws","expressions":{"endpoint_configuration":[{"types":{"constant_value":["EDGE"]}}],"name":{"constant_value":"my-api-gateway"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":5,"EndLine":11}},{"address":"aws_iam_policy.lambda-role-execution-policy","mode":"managed","type":"aws_iam_policy","name":"lambda-role-execution-policy","provider_config_key":"aws","expressions":{"name":{"constant_value":"lambda-role-execution-policy"},"policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"s3:*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":74,"EndLine":91}},{"address":"aws_iam_role.my-lambda-func-role","mode":"managed","type":"aws_iam_role","name":"my-lambda-func-role","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n"},"name":{"constant_value":"my-lambda-func-role"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":54,"EndLine":72}},{"address":"aws_iam_role_policy_attachment.test-attach","mode":"managed","type":"aws_iam_role_policy_attachment","name":"test-attach","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda-role-execution-policy"]},"role":{"references":["aws_iam_role.my-lambda-func-role"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":93,"EndLine":96}},{"address":"aws_lambda_function.my-lambda-func","mode":"managed","type":"aws_lambda_function","name":"my-lambda-func","provider_config_key":"aws","expressions":{"function_name":{"constant_value":"my-lambda-func"},"handler":{"constant_value":"lambda.lambda_handler"},"role":{"references":["aws_iam_role.my-lambda-func-role"]},"runtime":{"constant_value":"python2.7"},"s3_bucket":{"constant_value":"my-lambda-func-repo"},"s3_key":{"constant_value":"my-lambda-func-1.0.zip"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":44,"EndLine":51}},{"address":"aws_lambda_permission.my-lambda-func-permissions","mode":"managed","type":"aws_lambda_permission","name":"my-lambda-func-permissions","provider_config_key":"aws","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"references":["aws_lambda_function.my-lambda-func"]},"principal":{"constant_value":"s3.amazonaws.com"},"source_arn":{"references":["aws_s3_bucket.my-bucket"]},"statement_id":{"constant_value":"AllowExecutionCloudwatch"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":36,"EndLine":42}},{"address":"aws_s3_bucket.my-bucket","mode":"managed","type":"aws_s3_bucket","name":"my-bucket","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"my-bucket"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":98,"EndLine":100}},{"address":"aws_s3_bucket_policy.my-bucket-policy","mode":"managed","type":"aws_s3_bucket_policy","name":"my-bucket-policy","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.my-bucket"]},"policy":{"references":["aws_s3_bucket.my-bucket"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":102,"EndLine":119}}]}}}
