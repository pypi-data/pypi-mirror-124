{"format_version":"0.1","terraform_version":"0.13.4","planned_values":{"root_module":{"resources":[{"address":"aws_cloudfront_distribution.s3_distribution","mode":"managed","type":"aws_cloudfront_distribution","name":"s3_distribution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"aliases":null,"comment":"cloudfront-logging","custom_error_response":[{"error_caching_min_ttl":300,"error_code":403,"response_code":404,"response_page_path":"/404.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":null,"cached_methods":["GET","HEAD"],"compress":null,"default_ttl":null,"field_level_encryption_id":null,"forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":null}],"headers":null,"query_string":false,"query_string_cache_keys":null}],"function_association":[],"lambda_function_association":[],"max_ttl":null,"min_ttl":null,"origin_request_policy_id":null,"realtime_log_config_arn":null,"smooth_streaming":null,"target_origin_id":"cloudfront-logging-origin","trusted_key_groups":null,"trusted_signers":null,"viewer_protocol_policy":"https-only"}],"default_root_object":"index.html","enabled":true,"http_version":"http2","is_ipv6_enabled":false,"logging_config":[{"bucket":"aws_s3_bucket.logging.bucket_domain_name","include_cookies":null,"prefix":null}],"ordered_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":null,"cached_methods":["GET","HEAD","OPTIONS"],"compress":null,"default_ttl":null,"field_level_encryption_id":null,"forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":null}],"headers":["Origin"],"query_string":false,"query_string_cache_keys":null}],"function_association":[],"lambda_function_association":[],"max_ttl":null,"min_ttl":null,"origin_request_policy_id":null,"path_pattern":"/path01/*","realtime_log_config_arn":null,"smooth_streaming":null,"target_origin_id":"cloudfront-logging-origin","trusted_key_groups":null,"trusted_signers":null,"viewer_protocol_policy":"https-only"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":null,"cached_methods":["GET","HEAD"],"compress":null,"default_ttl":null,"field_level_encryption_id":null,"forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":null}],"headers":null,"query_string":false,"query_string_cache_keys":null}],"function_association":[],"lambda_function_association":[],"max_ttl":null,"min_ttl":null,"origin_request_policy_id":null,"path_pattern":"/path02/*","realtime_log_config_arn":null,"smooth_streaming":null,"target_origin_id":"cloudfront-logging-origin","trusted_key_groups":null,"trusted_signers":null,"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"custom_header":[],"custom_origin_config":[],"domain_name":"aws_s3_bucket.cdn-content.bucket_regional_domain_name","origin_id":"cloudfront-logging-origin","origin_path":null,"s3_origin_config":[{"origin_access_identity":"origin-access-identity/cloudfront/aws_cloudfront_origin_access_identity.oai.id"}]}],"origin_group":[],"price_class":"PriceClass_200","restrictions":[{"geo_restriction":[{"locations":null,"restriction_type":"none"}]}],"retain_on_delete":false,"tags":null,"viewer_certificate":[{"acm_certificate_arn":null,"cloudfront_default_certificate":true,"iam_certificate_id":null,"minimum_protocol_version":null,"ssl_support_method":null}],"wait_for_deployment":true,"web_acl_id":null}},{"address":"aws_cloudfront_origin_access_identity.oai","mode":"managed","type":"aws_cloudfront_origin_access_identity","name":"oai","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"comment":"cloudfront-logging"}},{"address":"aws_s3_bucket.cdn-content","mode":"managed","type":"aws_s3_bucket","name":"cdn-content","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"versioning":[],"website":[]}},{"address":"aws_s3_bucket.logging","mode":"managed","type":"aws_s3_bucket","name":"logging","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"versioning":[],"website":[]}},{"address":"aws_s3_bucket_policy.cdn-content","mode":"managed","type":"aws_s3_bucket_policy","name":"cdn-content","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bucket":"aws_s3_bucket.cdn-content.id","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"AllowCloudFrontOAI\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowCloudFrontOAI\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"CanonicalUser\": \"aws_cloudfront_origin_access_identity.oai.s3_canonical_user_id\"\n      },\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"aws_s3_bucket.cdn-content.arn/*\"\n    }\n  ]\n}\n"}},{"address":"aws_s3_bucket_public_access_block.cdn-content","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"cdn-content","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"bucket":"aws_s3_bucket.cdn-content.id","ignore_public_acls":true,"restrict_public_buckets":true}},{"address":"aws_s3_bucket_public_access_block.logging","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"logging","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"bucket":"aws_s3_bucket.logging.id","ignore_public_acls":true,"restrict_public_buckets":true}}]}},"resource_changes":[{"address":"aws_cloudfront_distribution.s3_distribution","mode":"managed","type":"aws_cloudfront_distribution","name":"s3_distribution","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"aliases":null,"comment":"cloudfront-logging","custom_error_response":[{"error_caching_min_ttl":300,"error_code":403,"response_code":404,"response_page_path":"/404.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":null,"cached_methods":["GET","HEAD"],"compress":null,"default_ttl":null,"field_level_encryption_id":null,"forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":null}],"headers":null,"query_string":false,"query_string_cache_keys":null}],"function_association":[],"lambda_function_association":[],"max_ttl":null,"min_ttl":null,"origin_request_policy_id":null,"realtime_log_config_arn":null,"smooth_streaming":null,"target_origin_id":"cloudfront-logging-origin","trusted_key_groups":null,"trusted_signers":null,"viewer_protocol_policy":"https-only"}],"default_root_object":"index.html","enabled":true,"http_version":"http2","is_ipv6_enabled":false,"logging_config":[{"bucket":"aws_s3_bucket.logging.bucket_domain_name","include_cookies":null,"prefix":null}],"ordered_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":null,"cached_methods":["GET","HEAD","OPTIONS"],"compress":null,"default_ttl":null,"field_level_encryption_id":null,"forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":null}],"headers":["Origin"],"query_string":false,"query_string_cache_keys":null}],"function_association":[],"lambda_function_association":[],"max_ttl":null,"min_ttl":null,"origin_request_policy_id":null,"path_pattern":"/path01/*","realtime_log_config_arn":null,"smooth_streaming":null,"target_origin_id":"cloudfront-logging-origin","trusted_key_groups":null,"trusted_signers":null,"viewer_protocol_policy":"https-only"},{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":null,"cached_methods":["GET","HEAD"],"compress":null,"default_ttl":null,"field_level_encryption_id":null,"forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":null}],"headers":null,"query_string":false,"query_string_cache_keys":null}],"function_association":[],"lambda_function_association":[],"max_ttl":null,"min_ttl":null,"origin_request_policy_id":null,"path_pattern":"/path02/*","realtime_log_config_arn":null,"smooth_streaming":null,"target_origin_id":"cloudfront-logging-origin","trusted_key_groups":null,"trusted_signers":null,"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"custom_header":[],"custom_origin_config":[],"domain_name":"aws_s3_bucket.cdn-content.bucket_regional_domain_name","origin_id":"cloudfront-logging-origin","origin_path":null,"s3_origin_config":[{"origin_access_identity":"origin-access-identity/cloudfront/aws_cloudfront_origin_access_identity.oai.id"}]}],"origin_group":[],"price_class":"PriceClass_200","restrictions":[{"geo_restriction":[{"locations":null,"restriction_type":"none"}]}],"retain_on_delete":false,"tags":null,"viewer_certificate":[{"acm_certificate_arn":null,"cloudfront_default_certificate":true,"iam_certificate_id":null,"minimum_protocol_version":null,"ssl_support_method":null}],"wait_for_deployment":true,"web_acl_id":null},"after_unknown":{"arn":true,"caller_reference":true,"custom_error_response":[{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{}]}],"function_association":[],"lambda_function_association":[]}],"domain_name":true,"etag":true,"hosted_zone_id":true,"id":true,"in_progress_validation_batches":true,"last_modified_time":true,"logging_config":[{}],"ordered_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false,false],"forwarded_values":[{"cookies":[{}],"headers":[false]}],"function_association":[],"lambda_function_association":[]},{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{}]}],"function_association":[],"lambda_function_association":[]}],"origin":[{"custom_header":[],"custom_origin_config":[],"s3_origin_config":[{}]}],"origin_group":[],"restrictions":[{"geo_restriction":[{}]}],"status":true,"tags_all":true,"trusted_key_groups":true,"trusted_signers":true,"viewer_certificate":[{}]}}},{"address":"aws_cloudfront_origin_access_identity.oai","mode":"managed","type":"aws_cloudfront_origin_access_identity","name":"oai","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"comment":"cloudfront-logging"},"after_unknown":{"caller_reference":true,"cloudfront_access_identity_path":true,"etag":true,"iam_arn":true,"id":true,"s3_canonical_user_id":true}}},{"address":"aws_s3_bucket.cdn-content","mode":"managed","type":"aws_s3_bucket","name":"cdn-content","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"versioning":[],"website":[]},"after_unknown":{"acceleration_status":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":[],"grant":[],"hosted_zone_id":true,"id":true,"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"region":true,"replication_configuration":[],"request_payer":true,"server_side_encryption_configuration":[],"tags_all":true,"versioning":[],"website":[],"website_domain":true,"website_endpoint":true}}},{"address":"aws_s3_bucket.logging","mode":"managed","type":"aws_s3_bucket","name":"logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"versioning":[],"website":[]},"after_unknown":{"acceleration_status":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":[],"grant":[],"hosted_zone_id":true,"id":true,"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"region":true,"replication_configuration":[],"request_payer":true,"server_side_encryption_configuration":[],"tags_all":true,"versioning":[],"website":[],"website_domain":true,"website_endpoint":true}}},{"address":"aws_s3_bucket_policy.cdn-content","mode":"managed","type":"aws_s3_bucket_policy","name":"cdn-content","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bucket":"aws_s3_bucket.cdn-content.id","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"AllowCloudFrontOAI\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowCloudFrontOAI\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"CanonicalUser\": \"aws_cloudfront_origin_access_identity.oai.s3_canonical_user_id\"\n      },\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"aws_s3_bucket.cdn-content.arn/*\"\n    }\n  ]\n}\n"},"after_unknown":{"id":true}}},{"address":"aws_s3_bucket_public_access_block.cdn-content","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"cdn-content","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"bucket":"aws_s3_bucket.cdn-content.id","ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"id":true}}},{"address":"aws_s3_bucket_public_access_block.logging","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"bucket":"aws_s3_bucket.logging.id","ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"id":true}}}],"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"us-east-1"}}}},"root_module":{"resources":[{"address":"aws_cloudfront_distribution.s3_distribution","mode":"managed","type":"aws_cloudfront_distribution","name":"s3_distribution","provider_config_key":"aws","expressions":{"comment":{"references":["local.name"]},"custom_error_response":[{"error_caching_min_ttl":{"constant_value":300},"error_code":{"constant_value":403},"response_code":{"constant_value":404},"response_page_path":{"constant_value":"/404.html"}}],"default_cache_behavior":[{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD"]},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"target_origin_id":{"references":["local.s3_origin_id"]},"viewer_protocol_policy":{"constant_value":"https-only"}}],"default_root_object":{"constant_value":"index.html"},"enabled":{"constant_value":true},"logging_config":[{"bucket":{"references":["aws_s3_bucket.logging"]}}],"ordered_cache_behavior":[{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"headers":{"constant_value":["Origin"]},"query_string":{"constant_value":false}}],"path_pattern":{"constant_value":"/path01/*"},"target_origin_id":{"references":["local.s3_origin_id"]},"viewer_protocol_policy":{"constant_value":"https-only"}},{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cached_methods":{"constant_value":["GET","HEAD"]},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"path_pattern":{"constant_value":"/path02/*"},"target_origin_id":{"references":["local.s3_origin_id"]},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}}],"origin":[{"domain_name":{"references":["aws_s3_bucket.cdn-content"]},"origin_id":{"references":["local.s3_origin_id"]},"s3_origin_config":[{"origin_access_identity":{"references":["aws_cloudfront_origin_access_identity.oai"]}}]}],"price_class":{"constant_value":"PriceClass_200"},"restrictions":[{"geo_restriction":[{"restriction_type":{"constant_value":"none"}}]}],"viewer_certificate":[{"cloudfront_default_certificate":{"constant_value":true}}]},"schema_version":1,"raw_data":{"FileName":"main.tf","StartLine":56,"EndLine":142}},{"address":"aws_cloudfront_origin_access_identity.oai","mode":"managed","type":"aws_cloudfront_origin_access_identity","name":"oai","provider_config_key":"aws","expressions":{"comment":{"references":["local.name"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":52,"EndLine":54}},{"address":"aws_s3_bucket.cdn-content","mode":"managed","type":"aws_s3_bucket","name":"cdn-content","provider_config_key":"aws","expressions":{"acl":{"constant_value":"private"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":19,"EndLine":21}},{"address":"aws_s3_bucket.logging","mode":"managed","type":"aws_s3_bucket","name":"logging","provider_config_key":"aws","expressions":{"acl":{"constant_value":"private"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":7,"EndLine":9}},{"address":"aws_s3_bucket_policy.cdn-content","mode":"managed","type":"aws_s3_bucket_policy","name":"cdn-content","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.cdn-content"]},"policy":{"references":["aws_cloudfront_origin_access_identity.oai","aws_s3_bucket.cdn-content"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":23,"EndLine":42}},{"address":"aws_s3_bucket_public_access_block.cdn-content","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"cdn-content","provider_config_key":"aws","expressions":{"block_public_acls":{"constant_value":true},"block_public_policy":{"constant_value":true},"bucket":{"references":["aws_s3_bucket.cdn-content"]},"ignore_public_acls":{"constant_value":true},"restrict_public_buckets":{"constant_value":true}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":44,"EndLine":50}},{"address":"aws_s3_bucket_public_access_block.logging","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"logging","provider_config_key":"aws","expressions":{"block_public_acls":{"constant_value":true},"block_public_policy":{"constant_value":true},"bucket":{"references":["aws_s3_bucket.logging"]},"ignore_public_acls":{"constant_value":true},"restrict_public_buckets":{"constant_value":true}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":11,"EndLine":17}}]}}}
