{"format_version":"0.1","terraform_version":"0.13.4","planned_values":{"root_module":{"resources":[{"address":"aws_iam_policy.policy","mode":"managed","type":"aws_iam_policy","name":"policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"allow_role_s3_operations","name":"allow_role_s3_operations","name_prefix":null,"path":"/","policy":"{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n      {\n        \"Action\": [\n          \"s3:Describe*\"\n        ],\n        \"Effect\": \"Allow\",\n        \"Resource\": \"*\"\n      }\n    ]\n  }\n","tags":null}},{"address":"aws_iam_role.s3-bucket-role","mode":"managed","type":"aws_iam_role","name":"s3-bucket-role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"s3.amazonaws.com\"\n      }\n    }\n  ]\n}","description":null,"force_detach_policies":false,"inline_policy":[],"max_session_duration":3600,"name":"s3-bucket-role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role_policy_attachment.attach-policy-to-s3-bucket-role","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-policy-to-s3-bucket-role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"aws_iam_policy.policy.arn","role":"s3-bucket-role"}},{"address":"aws_s3_bucket.test-bucket","mode":"managed","type":"aws_s3_bucket","name":"test-bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"cloudrail-testing-bucket","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"FullAccess\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": \"arn:aws:s3:::cloudrail-testing-bucket\",\n      \"Principal\": {\n        \"AWS\": \"115553109071\"\n      }\n    }\n  ]\n}","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"versioning":[],"website":[]}}]}},"resource_changes":[{"address":"aws_iam_policy.policy","mode":"managed","type":"aws_iam_policy","name":"policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"allow_role_s3_operations","name":"allow_role_s3_operations","name_prefix":null,"path":"/","policy":"{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n      {\n        \"Action\": [\n          \"s3:Describe*\"\n        ],\n        \"Effect\": \"Allow\",\n        \"Resource\": \"*\"\n      }\n    ]\n  }\n","tags":null},"after_unknown":{"arn":true,"id":true,"policy_id":true,"tags_all":true}}},{"address":"aws_iam_role.s3-bucket-role","mode":"managed","type":"aws_iam_role","name":"s3-bucket-role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"s3.amazonaws.com\"\n      }\n    }\n  ]\n}","description":null,"force_detach_policies":false,"inline_policy":[],"max_session_duration":3600,"name":"s3-bucket-role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":[],"managed_policy_arns":true,"tags_all":true,"unique_id":true}}},{"address":"aws_iam_role_policy_attachment.attach-policy-to-s3-bucket-role","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-policy-to-s3-bucket-role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"aws_iam_policy.policy.arn","role":"s3-bucket-role"},"after_unknown":{"id":true}}},{"address":"aws_s3_bucket.test-bucket","mode":"managed","type":"aws_s3_bucket","name":"test-bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"cloudrail-testing-bucket","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"FullAccess\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": \"arn:aws:s3:::cloudrail-testing-bucket\",\n      \"Principal\": {\n        \"AWS\": \"115553109071\"\n      }\n    }\n  ]\n}","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"versioning":[],"website":[]},"after_unknown":{"acceleration_status":true,"arn":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":[],"grant":[],"hosted_zone_id":true,"id":true,"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"region":true,"replication_configuration":[],"request_payer":true,"server_side_encryption_configuration":[],"tags_all":true,"versioning":[],"website":[],"website_domain":true,"website_endpoint":true}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.13.4","values":{"root_module":{"resources":[{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"115553109071","arn":"arn:aws:sts::115553109071:assumed-role/AWSReservedSSO_admin_in_develop_fb314e4593b59bf2/imanuel.m@indeni.com","id":"115553109071","user_id":"AROARVZ4AQRHRH7ZLU5BZ:imanuel.m@indeni.com"}},{"address":"data.aws_iam_policy_document.iam_assume_policy","mode":"data","type":"aws_iam_policy_document","name":"iam_assume_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"4003806384","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"s3.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["s3.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"}},{"address":"data.aws_iam_policy_document.s3-bucket-policy","mode":"data","type":"aws_iam_policy_document","name":"s3-bucket-policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1175946088","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"FullAccess\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:*\",\n      \"Resource\": \"arn:aws:s3:::cloudrail-testing-bucket\",\n      \"Principal\": {\n        \"AWS\": \"115553109071\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["115553109071"],"type":"AWS"}],"resources":["arn:aws:s3:::cloudrail-testing-bucket"],"sid":"FullAccess"}],"version":"2012-10-17"}}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"us-east-1"}}}},"root_module":{"resources":[{"address":"aws_iam_policy.policy","mode":"managed","type":"aws_iam_policy","name":"policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"allow_role_s3_operations"},"name":{"constant_value":"allow_role_s3_operations"},"policy":{"constant_value":"{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n      {\n        \"Action\": [\n          \"s3:Describe*\"\n        ],\n        \"Effect\": \"Allow\",\n        \"Resource\": \"*\"\n      }\n    ]\n  }\n"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":41,"EndLine":59}},{"address":"aws_iam_role.s3-bucket-role","mode":"managed","type":"aws_iam_role","name":"s3-bucket-role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.iam_assume_policy"]},"name":{"constant_value":"s3-bucket-role"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":35,"EndLine":38}},{"address":"aws_iam_role_policy_attachment.attach-policy-to-s3-bucket-role","mode":"managed","type":"aws_iam_role_policy_attachment","name":"attach-policy-to-s3-bucket-role","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.policy"]},"role":{"references":["aws_iam_role.s3-bucket-role"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":61,"EndLine":64}},{"address":"aws_s3_bucket.test-bucket","mode":"managed","type":"aws_s3_bucket","name":"test-bucket","provider_config_key":"aws","expressions":{"bucket":{"constant_value":"cloudrail-testing-bucket"},"policy":{"references":["data.aws_iam_policy_document.s3-bucket-policy"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":19,"EndLine":22}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":2,"EndLine":2}},{"address":"data.aws_iam_policy_document.iam_assume_policy","mode":"data","type":"aws_iam_policy_document","name":"iam_assume_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["s3.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":24,"EndLine":33}},{"address":"data.aws_iam_policy_document.s3-bucket-policy","mode":"data","type":"aws_iam_policy_document","name":"s3-bucket-policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["s3:*"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["data.aws_caller_identity.current"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["arn:aws:s3:::cloudrail-testing-bucket"]},"sid":{"constant_value":"FullAccess"}}],"version":{"constant_value":"2012-10-17"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":4,"EndLine":16}}]}}}
