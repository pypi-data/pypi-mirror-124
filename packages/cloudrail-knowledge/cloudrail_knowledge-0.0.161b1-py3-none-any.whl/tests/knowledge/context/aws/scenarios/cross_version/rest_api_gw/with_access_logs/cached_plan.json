{"format_version":"0.1","terraform_version":"0.13.4","planned_values":{"root_module":{"resources":[{"address":"aws_api_gateway_account.test","mode":"managed","type":"aws_api_gateway_account","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cloudwatch_role_arn":"aws_iam_role.cloudwatch.arn"}},{"address":"aws_api_gateway_deployment.test","mode":"managed","type":"aws_api_gateway_deployment","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"rest_api_id":"aws_api_gateway_rest_api.test.id","stage_description":null,"stage_name":null,"triggers":null,"variables":null}},{"address":"aws_api_gateway_integration.test","mode":"managed","type":"aws_api_gateway_integration","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cache_key_parameters":null,"connection_id":null,"connection_type":"INTERNET","content_handling":null,"credentials":null,"http_method":"GET","integration_http_method":null,"request_parameters":null,"request_templates":null,"resource_id":"aws_api_gateway_resource.test.id","rest_api_id":"aws_api_gateway_rest_api.test.id","timeout_milliseconds":29000,"tls_config":[],"type":"MOCK","uri":null}},{"address":"aws_api_gateway_method.test","mode":"managed","type":"aws_api_gateway_method","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_required":false,"authorization":"NONE","authorization_scopes":null,"authorizer_id":null,"http_method":"GET","operation_name":null,"request_models":null,"request_parameters":null,"request_validator_id":null,"resource_id":"aws_api_gateway_resource.test.id","rest_api_id":"aws_api_gateway_rest_api.test.id"}},{"address":"aws_api_gateway_resource.test","mode":"managed","type":"aws_api_gateway_resource","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"parent_id":"aws_api_gateway_rest_api.test.root_resource_id","path_part":"mydemoresource","rest_api_id":"aws_api_gateway_rest_api.test.id"}},{"address":"aws_api_gateway_rest_api.test","mode":"managed","type":"aws_api_gateway_rest_api","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"body":null,"description":"Test API xray","endpoint_configuration":[],"minimum_compression_size":-1,"name":"api-test-xray","parameters":null,"tags":null}},{"address":"aws_api_gateway_stage.test","mode":"managed","type":"aws_api_gateway_stage","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_log_settings":[{"destination_arn":"aws_cloudwatch_log_group.logging.arn","format":"$context.requestId"}],"cache_cluster_enabled":null,"cache_cluster_size":null,"client_certificate_id":null,"deployment_id":"aws_api_gateway_deployment.test.id","description":null,"documentation_version":null,"rest_api_id":"aws_api_gateway_rest_api.test.id","stage_name":"example","tags":null,"variables":null,"xray_tracing_enabled":null}},{"address":"aws_cloudwatch_log_group.logging","mode":"managed","type":"aws_cloudwatch_log_group","name":"logging","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"kms_key_id":null,"name":"api-logging","name_prefix":null,"retention_in_days":0,"tags":null}},{"address":"aws_iam_role.cloudwatch","mode":"managed","type":"aws_iam_role","name":"cloudwatch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"apigateway.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n","description":null,"force_detach_policies":false,"inline_policy":[],"max_session_duration":3600,"name":"api_gateway_cloudwatch_global","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null}},{"address":"aws_iam_role_policy.cloudwatch","mode":"managed","type":"aws_iam_role_policy","name":"cloudwatch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"default","name_prefix":null,"policy":"{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"logs:CreateLogGroup\",\n                \"logs:CreateLogStream\",\n                \"logs:DescribeLogGroups\",\n                \"logs:DescribeLogStreams\",\n                \"logs:PutLogEvents\",\n                \"logs:GetLogEvents\",\n                \"logs:FilterLogEvents\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}\n","role":"aws_iam_role.cloudwatch.id"}}]}},"resource_changes":[{"address":"aws_api_gateway_account.test","mode":"managed","type":"aws_api_gateway_account","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cloudwatch_role_arn":"aws_iam_role.cloudwatch.arn"},"after_unknown":{"id":true,"throttle_settings":true}}},{"address":"aws_api_gateway_deployment.test","mode":"managed","type":"aws_api_gateway_deployment","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"rest_api_id":"aws_api_gateway_rest_api.test.id","stage_description":null,"stage_name":null,"triggers":null,"variables":null},"after_unknown":{"created_date":true,"execution_arn":true,"id":true,"invoke_url":true}}},{"address":"aws_api_gateway_integration.test","mode":"managed","type":"aws_api_gateway_integration","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cache_key_parameters":null,"connection_id":null,"connection_type":"INTERNET","content_handling":null,"credentials":null,"http_method":"GET","integration_http_method":null,"request_parameters":null,"request_templates":null,"resource_id":"aws_api_gateway_resource.test.id","rest_api_id":"aws_api_gateway_rest_api.test.id","timeout_milliseconds":29000,"tls_config":[],"type":"MOCK","uri":null},"after_unknown":{"cache_namespace":true,"id":true,"passthrough_behavior":true,"tls_config":[]}}},{"address":"aws_api_gateway_method.test","mode":"managed","type":"aws_api_gateway_method","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"api_key_required":false,"authorization":"NONE","authorization_scopes":null,"authorizer_id":null,"http_method":"GET","operation_name":null,"request_models":null,"request_parameters":null,"request_validator_id":null,"resource_id":"aws_api_gateway_resource.test.id","rest_api_id":"aws_api_gateway_rest_api.test.id"},"after_unknown":{"id":true}}},{"address":"aws_api_gateway_resource.test","mode":"managed","type":"aws_api_gateway_resource","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"parent_id":"aws_api_gateway_rest_api.test.root_resource_id","path_part":"mydemoresource","rest_api_id":"aws_api_gateway_rest_api.test.id"},"after_unknown":{"id":true,"path":true}}},{"address":"aws_api_gateway_rest_api.test","mode":"managed","type":"aws_api_gateway_rest_api","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"body":null,"description":"Test API xray","endpoint_configuration":[],"minimum_compression_size":-1,"name":"api-test-xray","parameters":null,"tags":null},"after_unknown":{"api_key_source":true,"arn":true,"binary_media_types":true,"created_date":true,"disable_execute_api_endpoint":true,"endpoint_configuration":[],"execution_arn":true,"id":true,"policy":true,"root_resource_id":true,"tags_all":true}}},{"address":"aws_api_gateway_stage.test","mode":"managed","type":"aws_api_gateway_stage","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_log_settings":[{"destination_arn":"aws_cloudwatch_log_group.logging.arn","format":"$context.requestId"}],"cache_cluster_enabled":null,"cache_cluster_size":null,"client_certificate_id":null,"deployment_id":"aws_api_gateway_deployment.test.id","description":null,"documentation_version":null,"rest_api_id":"aws_api_gateway_rest_api.test.id","stage_name":"example","tags":null,"variables":null,"xray_tracing_enabled":null},"after_unknown":{"access_log_settings":[{}],"arn":true,"execution_arn":true,"id":true,"invoke_url":true,"tags_all":true}}},{"address":"aws_cloudwatch_log_group.logging","mode":"managed","type":"aws_cloudwatch_log_group","name":"logging","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"kms_key_id":null,"name":"api-logging","name_prefix":null,"retention_in_days":0,"tags":null},"after_unknown":{"arn":true,"id":true,"tags_all":true}}},{"address":"aws_iam_role.cloudwatch","mode":"managed","type":"aws_iam_role","name":"cloudwatch","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"apigateway.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n","description":null,"force_detach_policies":false,"inline_policy":[],"max_session_duration":3600,"name":"api_gateway_cloudwatch_global","name_prefix":null,"path":"/","permissions_boundary":null,"tags":null},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":[],"managed_policy_arns":true,"tags_all":true,"unique_id":true}}},{"address":"aws_iam_role_policy.cloudwatch","mode":"managed","type":"aws_iam_role_policy","name":"cloudwatch","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"default","name_prefix":null,"policy":"{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"logs:CreateLogGroup\",\n                \"logs:CreateLogStream\",\n                \"logs:DescribeLogGroups\",\n                \"logs:DescribeLogStreams\",\n                \"logs:PutLogEvents\",\n                \"logs:GetLogEvents\",\n                \"logs:FilterLogEvents\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}\n","role":"aws_iam_role.cloudwatch.id"},"after_unknown":{"id":true}}}],"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"us-east-1"}}}},"root_module":{"resources":[{"address":"aws_api_gateway_account.test","mode":"managed","type":"aws_api_gateway_account","name":"test","provider_config_key":"aws","expressions":{"cloudwatch_role_arn":{"references":["aws_iam_role.cloudwatch"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":39,"EndLine":41}},{"address":"aws_api_gateway_deployment.test","mode":"managed","type":"aws_api_gateway_deployment","name":"test","provider_config_key":"aws","expressions":{"rest_api_id":{"references":["aws_api_gateway_rest_api.test"]}},"schema_version":0,"depends_on":["aws_api_gateway_method.test"],"raw_data":{"FileName":"main.tf","StartLine":27,"EndLine":37}},{"address":"aws_api_gateway_integration.test","mode":"managed","type":"aws_api_gateway_integration","name":"test","provider_config_key":"aws","expressions":{"http_method":{"references":["aws_api_gateway_method.test"]},"resource_id":{"references":["aws_api_gateway_resource.test"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.test"]},"type":{"constant_value":"MOCK"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":20,"EndLine":25}},{"address":"aws_api_gateway_method.test","mode":"managed","type":"aws_api_gateway_method","name":"test","provider_config_key":"aws","expressions":{"authorization":{"constant_value":"NONE"},"http_method":{"constant_value":"GET"},"resource_id":{"references":["aws_api_gateway_resource.test"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.test"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":13,"EndLine":18}},{"address":"aws_api_gateway_resource.test","mode":"managed","type":"aws_api_gateway_resource","name":"test","provider_config_key":"aws","expressions":{"parent_id":{"references":["aws_api_gateway_rest_api.test"]},"path_part":{"constant_value":"mydemoresource"},"rest_api_id":{"references":["aws_api_gateway_rest_api.test"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":7,"EndLine":11}},{"address":"aws_api_gateway_rest_api.test","mode":"managed","type":"aws_api_gateway_rest_api","name":"test","provider_config_key":"aws","expressions":{"description":{"constant_value":"Test API xray"},"name":{"constant_value":"api-test-xray"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":2,"EndLine":5}},{"address":"aws_api_gateway_stage.test","mode":"managed","type":"aws_api_gateway_stage","name":"test","provider_config_key":"aws","expressions":{"access_log_settings":[{"destination_arn":{"references":["aws_cloudwatch_log_group.logging"]},"format":{"constant_value":"$context.requestId"}}],"deployment_id":{"references":["aws_api_gateway_deployment.test"]},"rest_api_id":{"references":["aws_api_gateway_rest_api.test"]},"stage_name":{"constant_value":"example"}},"schema_version":0,"depends_on":["aws_api_gateway_account.test"],"raw_data":{"FileName":"main.tf","StartLine":93,"EndLine":104}},{"address":"aws_cloudwatch_log_group.logging","mode":"managed","type":"aws_cloudwatch_log_group","name":"logging","provider_config_key":"aws","expressions":{"name":{"constant_value":"api-logging"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":89,"EndLine":91}},{"address":"aws_iam_role.cloudwatch","mode":"managed","type":"aws_iam_role","name":"cloudwatch","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"apigateway.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}\n"},"name":{"constant_value":"api_gateway_cloudwatch_global"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":43,"EndLine":61}},{"address":"aws_iam_role_policy.cloudwatch","mode":"managed","type":"aws_iam_role_policy","name":"cloudwatch","provider_config_key":"aws","expressions":{"name":{"constant_value":"default"},"policy":{"constant_value":"{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"logs:CreateLogGroup\",\n                \"logs:CreateLogStream\",\n                \"logs:DescribeLogGroups\",\n                \"logs:DescribeLogStreams\",\n                \"logs:PutLogEvents\",\n                \"logs:GetLogEvents\",\n                \"logs:FilterLogEvents\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}\n"},"role":{"references":["aws_iam_role.cloudwatch"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":63,"EndLine":87}}]}}}
