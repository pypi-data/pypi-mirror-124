{"format_version":"0.1","terraform_version":"0.15.0-rc2","planned_values":{"root_module":{"resources":[{"address":"aws_iam_role.role","mode":"managed","type":"aws_iam_role","name":"role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::111111111111:role/role","assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}","create_date":"2021-06-15T15:56:42Z","description":"","force_detach_policies":false,"id":"role","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROARVZ4AQRHSRRWWPXIP"}},{"address":"aws_iam_role_policy.allow-policy-1","mode":"managed","type":"aws_iam_role_policy","name":"allow-policy-1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"role:allow-policy-1","name":"allow-policy-1","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"iam:passrole\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","role":"role"}},{"address":"aws_iam_role_policy.allow-policy-2","mode":"managed","type":"aws_iam_role_policy","name":"allow-policy-2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"role:allow-policy-2","name":"allow-policy-2","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"lambda:createfunction\", \"lambda:invokefunc*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","role":"role"}},{"address":"data.aws_iam_policy_document.iam_assume_policy","mode":"data","type":"aws_iam_policy_document","name":"iam_assume_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1903849331","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ec2.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"}}]}},"resource_changes":[{"address":"aws_iam_role.role","mode":"managed","type":"aws_iam_role","name":"role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:iam::111111111111:role/role","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2021-06-15T15:56:42Z","description":"","force_detach_policies":false,"id":"role","inline_policy":[{"name":"allow-policy-1","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"iam:passrole\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"},{"name":"allow-policy-2","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"lambda:createfunction\", \"lambda:invokefunc*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROARVZ4AQRHSRRWWPXIP"},"after":{"arn":"arn:aws:iam::111111111111:role/role","assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}","create_date":"2021-06-15T15:56:42Z","description":"","force_detach_policies":false,"id":"role","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROARVZ4AQRHSRRWWPXIP"},"after_unknown":{},"before_sensitive":{"inline_policy":[{},{}],"managed_policy_arns":[],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"aws_iam_role_policy.allow-policy-1","mode":"managed","type":"aws_iam_role_policy","name":"allow-policy-1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"role:allow-policy-1","name":"allow-policy-1","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"iam:passrole\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","role":"role"},"after":{"id":"role:allow-policy-1","name":"allow-policy-1","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"iam:passrole\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","role":"role"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_iam_role_policy.allow-policy-2","mode":"managed","type":"aws_iam_role_policy","name":"allow-policy-2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"role:allow-policy-2","name":"allow-policy-2","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"lambda:createfunction\", \"lambda:invokefunc*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","role":"role"},"after":{"id":"role:allow-policy-2","name":"allow-policy-2","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"lambda:createfunction\", \"lambda:invokefunc*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","role":"role"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"data.aws_iam_policy_document.iam_assume_policy","mode":"data","type":"aws_iam_policy_document","name":"iam_assume_policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":{"id":"1903849331","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ec2.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"after":{"id":"1903849331","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ec2.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"after_unknown":{},"before_sensitive":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]},"after_sensitive":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.15.4","values":{"root_module":{"resources":[{"address":"aws_iam_role.role","mode":"managed","type":"aws_iam_role","name":"role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::111111111111:role/role","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2021-06-15T15:56:42Z","description":"","force_detach_policies":false,"id":"role","inline_policy":[{"name":"allow-policy-1","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"iam:passrole\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"},{"name":"allow-policy-2","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"lambda:createfunction\", \"lambda:invokefunc*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROARVZ4AQRHSRRWWPXIP"},"depends_on":["data.aws_iam_policy_document.iam_assume_policy"]},{"address":"aws_iam_role_policy.allow-policy-1","mode":"managed","type":"aws_iam_role_policy","name":"allow-policy-1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"role:allow-policy-1","name":"allow-policy-1","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"iam:passrole\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","role":"role"},"depends_on":["aws_iam_role.role","data.aws_iam_policy_document.iam_assume_policy"]},{"address":"aws_iam_role_policy.allow-policy-2","mode":"managed","type":"aws_iam_role_policy","name":"allow-policy-2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"role:allow-policy-2","name":"allow-policy-2","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"lambda:createfunction\", \"lambda:invokefunc*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n","role":"role"},"depends_on":["aws_iam_role.role","data.aws_iam_policy_document.iam_assume_policy"]},{"address":"data.aws_iam_policy_document.iam_assume_policy","mode":"data","type":"aws_iam_policy_document","name":"iam_assume_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1903849331","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ec2.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"}}]}}},"configuration":{"root_module":{"resources":[{"address":"aws_iam_role.role","mode":"managed","type":"aws_iam_role","name":"role","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.iam_assume_policy"]},"name":{"constant_value":"role"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":13,"EndLine":17}},{"address":"aws_iam_role_policy.allow-policy-1","mode":"managed","type":"aws_iam_role_policy","name":"allow-policy-1","provider_config_key":"aws","expressions":{"name":{"constant_value":"allow-policy-1"},"policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"iam:passrole\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"},"role":{"references":["aws_iam_role.role"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":19,"EndLine":37}},{"address":"aws_iam_role_policy.allow-policy-2","mode":"managed","type":"aws_iam_role_policy","name":"allow-policy-2","provider_config_key":"aws","expressions":{"name":{"constant_value":"allow-policy-2"},"policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"lambda:createfunction\", \"lambda:invokefunc*\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"},"role":{"references":["aws_iam_role.role"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":39,"EndLine":57}},{"address":"data.aws_iam_policy_document.iam_assume_policy","mode":"data","type":"aws_iam_policy_document","name":"iam_assume_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"constant_value":["ec2.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":2,"EndLine":11}}]}}}
