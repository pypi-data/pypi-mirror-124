{"format_version":"0.1","terraform_version":"0.13.4","planned_values":{"root_module":{"resources":[{"address":"aws_cloudfront_distribution.s3_distribution","mode":"managed","type":"aws_cloudfront_distribution","name":"s3_distribution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"aliases":null,"comment":null,"custom_error_response":[],"default_cache_behavior":[{"allowed_methods":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"cache_policy_id":null,"cached_methods":["GET","HEAD"],"compress":null,"default_ttl":null,"field_level_encryption_id":null,"forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":null}],"headers":null,"query_string":false,"query_string_cache_keys":null}],"function_association":[],"lambda_function_association":[],"max_ttl":null,"min_ttl":null,"origin_request_policy_id":null,"realtime_log_config_arn":null,"smooth_streaming":null,"target_origin_id":"static-web-resources-bucket-cloudrail-aoi-public-test-origin-id","trusted_key_groups":null,"trusted_signers":null,"viewer_protocol_policy":"redirect-to-https"}],"default_root_object":null,"enabled":true,"http_version":"http2","is_ipv6_enabled":false,"logging_config":[],"ordered_cache_behavior":[],"origin":[{"connection_attempts":null,"connection_timeout":null,"custom_header":[],"custom_origin_config":[],"domain_name":"aws_s3_bucket.static-web-resources-bucket.bucket_regional_domain_name","origin_id":"static-web-resources-bucket-cloudrail-aoi-public-test-origin-id","origin_path":"/web-resources","origin_shield":[],"s3_origin_config":[{"origin_access_identity":"aws_cloudfront_origin_access_identity.cloudfront-oai-user.cloudfront_access_identity_path"}]}],"origin_group":[],"price_class":"PriceClass_All","restrictions":[{"geo_restriction":[{"locations":["IL","US"],"restriction_type":"whitelist"}]}],"retain_on_delete":false,"tags":null,"viewer_certificate":[{"acm_certificate_arn":null,"cloudfront_default_certificate":true,"iam_certificate_id":null,"minimum_protocol_version":"TLSv1","ssl_support_method":"sni-only"}],"wait_for_deployment":true,"web_acl_id":null}},{"address":"aws_cloudfront_origin_access_identity.cloudfront-oai-user","mode":"managed","type":"aws_cloudfront_origin_access_identity","name":"cloudfront-oai-user","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"comment":"static-web-resources-bucket-cloudrail-aoi-public-test"}},{"address":"aws_s3_bucket.static-web-resources-bucket","mode":"managed","type":"aws_s3_bucket","name":"static-web-resources-bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acl":"private","bucket":"static-web-resources-bucket-cloudrail-aoi-public-test","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"AllowCloudFrontOAI\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowCloudFrontOAI\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"CanonicalUser\": \"aws_cloudfront_origin_access_identity.cloudfront-oai-user.s3_canonical_user_id\"\n      },\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::static-web-resources-bucket-cloudrail-aoi-public-test/*\"\n    },\n    {\n      \"Sid\": \"AllowCloudFrontOAI\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"aws_cloudfront_origin_access_identity.cloudfront-oai-user.iam_arn\"\n      },\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::static-web-resources-bucket-cloudrail-aoi-public-test/*\"\n    }\n  ]\n}\n","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"versioning":[],"website":[]}},{"address":"aws_s3_bucket_public_access_block.static-web-resources-bucket-permissions","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"static-web-resources-bucket-permissions","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":false,"block_public_policy":false,"bucket":"aws_s3_bucket.static-web-resources-bucket.id","ignore_public_acls":false,"restrict_public_buckets":true}}]}},"resource_changes":[{"address":"aws_cloudfront_distribution.s3_distribution","mode":"managed","type":"aws_cloudfront_distribution","name":"s3_distribution","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"aliases":null,"comment":null,"custom_error_response":[],"default_cache_behavior":[{"allowed_methods":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"cache_policy_id":null,"cached_methods":["GET","HEAD"],"compress":null,"default_ttl":null,"field_level_encryption_id":null,"forwarded_values":[{"cookies":[{"forward":"none","whitelisted_names":null}],"headers":null,"query_string":false,"query_string_cache_keys":null}],"function_association":[],"lambda_function_association":[],"max_ttl":null,"min_ttl":null,"origin_request_policy_id":null,"realtime_log_config_arn":null,"smooth_streaming":null,"target_origin_id":"static-web-resources-bucket-cloudrail-aoi-public-test-origin-id","trusted_key_groups":null,"trusted_signers":null,"viewer_protocol_policy":"redirect-to-https"}],"default_root_object":null,"enabled":true,"http_version":"http2","is_ipv6_enabled":false,"logging_config":[],"ordered_cache_behavior":[],"origin":[{"connection_attempts":null,"connection_timeout":null,"custom_header":[],"custom_origin_config":[],"domain_name":"aws_s3_bucket.static-web-resources-bucket.bucket_regional_domain_name","origin_id":"static-web-resources-bucket-cloudrail-aoi-public-test-origin-id","origin_path":"/web-resources","origin_shield":[],"s3_origin_config":[{"origin_access_identity":"aws_cloudfront_origin_access_identity.cloudfront-oai-user.cloudfront_access_identity_path"}]}],"origin_group":[],"price_class":"PriceClass_All","restrictions":[{"geo_restriction":[{"locations":["IL","US"],"restriction_type":"whitelist"}]}],"retain_on_delete":false,"tags":null,"viewer_certificate":[{"acm_certificate_arn":null,"cloudfront_default_certificate":true,"iam_certificate_id":null,"minimum_protocol_version":"TLSv1","ssl_support_method":"sni-only"}],"wait_for_deployment":true,"web_acl_id":null},"after_unknown":{"arn":true,"caller_reference":true,"custom_error_response":[],"default_cache_behavior":[{"allowed_methods":[false,false,false,false,false,false,false],"cached_methods":[false,false],"forwarded_values":[{"cookies":[{}]}],"function_association":[],"lambda_function_association":[]}],"domain_name":true,"etag":true,"hosted_zone_id":true,"id":true,"in_progress_validation_batches":true,"last_modified_time":true,"logging_config":[],"ordered_cache_behavior":[],"origin":[{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[{}]}],"origin_group":[],"restrictions":[{"geo_restriction":[{"locations":[false,false]}]}],"status":true,"tags_all":true,"trusted_key_groups":true,"trusted_signers":true,"viewer_certificate":[{}]}}},{"address":"aws_cloudfront_origin_access_identity.cloudfront-oai-user","mode":"managed","type":"aws_cloudfront_origin_access_identity","name":"cloudfront-oai-user","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"comment":"static-web-resources-bucket-cloudrail-aoi-public-test"},"after_unknown":{"caller_reference":true,"cloudfront_access_identity_path":true,"etag":true,"iam_arn":true,"id":true,"s3_canonical_user_id":true}}},{"address":"aws_s3_bucket.static-web-resources-bucket","mode":"managed","type":"aws_s3_bucket","name":"static-web-resources-bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"acl":"private","bucket":"static-web-resources-bucket-cloudrail-aoi-public-test","bucket_prefix":null,"cors_rule":[],"force_destroy":false,"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Id\": \"AllowCloudFrontOAI\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AllowCloudFrontOAI\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"CanonicalUser\": \"aws_cloudfront_origin_access_identity.cloudfront-oai-user.s3_canonical_user_id\"\n      },\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::static-web-resources-bucket-cloudrail-aoi-public-test/*\"\n    },\n    {\n      \"Sid\": \"AllowCloudFrontOAI\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"aws_cloudfront_origin_access_identity.cloudfront-oai-user.iam_arn\"\n      },\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::static-web-resources-bucket-cloudrail-aoi-public-test/*\"\n    }\n  ]\n}\n","replication_configuration":[],"server_side_encryption_configuration":[],"tags":null,"versioning":[],"website":[]},"after_unknown":{"acceleration_status":true,"arn":true,"bucket_domain_name":true,"bucket_regional_domain_name":true,"cors_rule":[],"grant":[],"hosted_zone_id":true,"id":true,"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"region":true,"replication_configuration":[],"request_payer":true,"server_side_encryption_configuration":[],"tags_all":true,"versioning":[],"website":[],"website_domain":true,"website_endpoint":true}}},{"address":"aws_s3_bucket_public_access_block.static-web-resources-bucket-permissions","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"static-web-resources-bucket-permissions","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":false,"block_public_policy":false,"bucket":"aws_s3_bucket.static-web-resources-bucket.id","ignore_public_acls":false,"restrict_public_buckets":true},"after_unknown":{"id":true}}}],"configuration":{"provider_config":{"aws":{"name":"aws","expressions":{"region":{"constant_value":"us-east-1"}}}},"root_module":{"resources":[{"address":"aws_cloudfront_distribution.s3_distribution","mode":"managed","type":"aws_cloudfront_distribution","name":"s3_distribution","provider_config_key":"aws","expressions":{"default_cache_behavior":[{"allowed_methods":{"constant_value":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"]},"cached_methods":{"constant_value":["GET","HEAD"]},"forwarded_values":[{"cookies":[{"forward":{"constant_value":"none"}}],"query_string":{"constant_value":false}}],"target_origin_id":{"references":["local.s3_origin_id"]},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}}],"enabled":{"constant_value":true},"origin":[{"domain_name":{"references":["aws_s3_bucket.static-web-resources-bucket"]},"origin_id":{"references":["local.s3_origin_id"]},"origin_path":{"constant_value":"/web-resources"},"s3_origin_config":[{"origin_access_identity":{"references":["aws_cloudfront_origin_access_identity.cloudfront-oai-user"]}}]}],"restrictions":[{"geo_restriction":[{"locations":{"constant_value":["IL","US"]},"restriction_type":{"constant_value":"whitelist"}}]}],"viewer_certificate":[{"cloudfront_default_certificate":{"constant_value":true},"minimum_protocol_version":{"constant_value":"TLSv1"},"ssl_support_method":{"constant_value":"sni-only"}}]},"schema_version":1,"depends_on":["aws_cloudfront_origin_access_identity.cloudfront-oai-user"],"raw_data":{"FileName":"main.tf","StartLine":46,"EndLine":88}},{"address":"aws_cloudfront_origin_access_identity.cloudfront-oai-user","mode":"managed","type":"aws_cloudfront_origin_access_identity","name":"cloudfront-oai-user","provider_config_key":"aws","expressions":{"comment":{"references":["local.bucket_name"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":41,"EndLine":43}},{"address":"aws_s3_bucket.static-web-resources-bucket","mode":"managed","type":"aws_s3_bucket","name":"static-web-resources-bucket","provider_config_key":"aws","expressions":{"bucket":{"references":["local.bucket_name"]},"policy":{"references":["aws_cloudfront_origin_access_identity.cloudfront-oai-user","local.bucket_name","aws_cloudfront_origin_access_identity.cloudfront-oai-user","local.bucket_name"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":6,"EndLine":34}},{"address":"aws_s3_bucket_public_access_block.static-web-resources-bucket-permissions","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"static-web-resources-bucket-permissions","provider_config_key":"aws","expressions":{"bucket":{"references":["aws_s3_bucket.static-web-resources-bucket"]},"restrict_public_buckets":{"constant_value":true}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":36,"EndLine":39}}]}}}
