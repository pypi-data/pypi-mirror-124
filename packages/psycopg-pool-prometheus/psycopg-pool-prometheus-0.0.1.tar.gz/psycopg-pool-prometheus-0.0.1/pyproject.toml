[build-system]
requires = ["setuptools", "wheel", "setuptools_scm>=6.2"]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]

[tool.mypy]
strict = true

[tool.isort]
profile = "black"

[tool.flake8]
max-line-length = 88
extend-ignore = "D202,D403"
max-complexity = 10

[tool.coverage.run]
branch = true
command_line = "-m pytest"

[tool.coverage.report]
show_missing = true

[tool.pytest.ini_options]
addopts = "-p no:cacheprovider"

[tool.tox]
legacy_tox_ini = """
[tox]
isolated_build = True
envlist = py3{7,8,9,10}

[gh-actions]
python =
    3.7: py37
    3.8: py38
    3.9: py39
    3.10: py310

[testenv:flake8]
deps = flake8
commands = flake8 .

[testenv:mypy]
deps = mypy
commands = mypy .

[testenv]
deps =
    mypy
    black
    isort
    pytest
    coverage
    pep8-naming
    flake8-docstrings
    pyproject-flake8
commands =
    black --check --diff .
    isort --check --diff .
    mypy .
    pflake8 .
    coverage run
    coverage report --fail-under=100
"""
